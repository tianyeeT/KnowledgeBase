<!doctype html>
<html lang="cs" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-general/ad-filtering/create-own-filters">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Jak vytvářet vlastní filtry reklam | AdGuard Knowledge Base</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://adguardteam.github.io/KnowledgeBase/cs/general/ad-filtering/create-own-filters/"><meta data-rh="true" name="docusaurus_locale" content="cs"><meta data-rh="true" name="docsearch:language" content="cs"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Jak vytvářet vlastní filtry reklam | AdGuard Knowledge Base"><meta data-rh="true" name="description" content="V tomto článku vysvětlíme, jak napsat vlastní pravidla filtrování pro použití v produktech AdGuardu. Chcete-li otestovat svá pravidla, stáhněte si aplikaci AdGuard"><meta data-rh="true" property="og:description" content="V tomto článku vysvětlíme, jak napsat vlastní pravidla filtrování pro použití v produktech AdGuardu. Chcete-li otestovat svá pravidla, stáhněte si aplikaci AdGuard"><link data-rh="true" rel="icon" href="/KnowledgeBase/cs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://adguardteam.github.io/KnowledgeBase/cs/general/ad-filtering/create-own-filters/"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBase/general/ad-filtering/create-own-filters/" hreflang="en"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBase/ru/general/ad-filtering/create-own-filters/" hreflang="ru"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBase/de/general/ad-filtering/create-own-filters/" hreflang="de"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBase/cs/general/ad-filtering/create-own-filters/" hreflang="cs"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBase/fr/general/ad-filtering/create-own-filters/" hreflang="fr"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBase/es/general/ad-filtering/create-own-filters/" hreflang="es"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBase/it/general/ad-filtering/create-own-filters/" hreflang="it"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBase/ja/general/ad-filtering/create-own-filters/" hreflang="ja"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBase/ko/general/ad-filtering/create-own-filters/" hreflang="ko"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBase/zh-CN/general/ad-filtering/create-own-filters/" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBase/zh-TW/general/ad-filtering/create-own-filters/" hreflang="zh-TW"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBase/general/ad-filtering/create-own-filters/" hreflang="x-default"><link rel="search" type="application/opensearchdescription+xml" title="AdGuard Knowledge Base" href="/KnowledgeBase/cs/opensearch.xml"><link rel="stylesheet" href="/KnowledgeBase/cs/assets/css/styles.33b7b023.css">
<link rel="preload" href="/KnowledgeBase/cs/assets/js/runtime~main.b17ee6a4.js" as="script">
<link rel="preload" href="/KnowledgeBase/cs/assets/js/main.2ea90d05.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Přejít k hlavnímu obsahu"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Přejít k hlavnímu obsahu</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Přepnout navigační panel" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/KnowledgeBase/cs/"><div class="navbar__logo"><img src="/KnowledgeBase/cs/img/logo.svg" alt="AdGuard" class="themedImage_ToTc themedImage--light_HNdA"><img src="/KnowledgeBase/cs/img/logo_dark.svg" alt="AdGuard" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/KnowledgeBase/cs/">Dokumenty</a><a href="https://adguard.com/blog/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://adguard.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Oficiální stránka</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Čeština</a><ul class="dropdown__menu"><li><a href="/KnowledgeBase/general/ad-filtering/create-own-filters/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/KnowledgeBase/ru/general/ad-filtering/create-own-filters/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ru">Русский</a></li><li><a href="/KnowledgeBase/de/general/ad-filtering/create-own-filters/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/KnowledgeBase/cs/general/ad-filtering/create-own-filters/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="cs">Čeština</a></li><li><a href="/KnowledgeBase/fr/general/ad-filtering/create-own-filters/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/KnowledgeBase/es/general/ad-filtering/create-own-filters/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/KnowledgeBase/it/general/ad-filtering/create-own-filters/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="/KnowledgeBase/ja/general/ad-filtering/create-own-filters/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/KnowledgeBase/ko/general/ad-filtering/create-own-filters/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/KnowledgeBase/zh-CN/general/ad-filtering/create-own-filters/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">中文（中国）</a></li><li><a href="/KnowledgeBase/zh-TW/general/ad-filtering/create-own-filters/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-TW">中文（台灣）</a></li><li><a class="dropdown__link" href="/KnowledgeBase/cs/miscellaneous/contribute/translate/program/">Help Us Translate</a></li></ul></div><a href="https://github.com/AdguardTeam/KnowledgeBase" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Přepínání mezi tmavým a světlým motivem (aktuálně světelný motiv)" aria-label="Přepínání mezi tmavým a světlým motivem (aktuálně světelný motiv)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Hledat"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Hledat</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Přejít zpět na začátek" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/KnowledgeBase/cs/"><img src="/KnowledgeBase/cs/img/logo.svg" alt="AdGuard" class="themedImage_ToTc themedImage--light_HNdA"><img src="/KnowledgeBase/cs/img/logo_dark.svg" alt="AdGuard" class="themedImage_ToTc themedImage--dark_i4oU"><b></b></a><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/KnowledgeBase/cs/">Přehled</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/KnowledgeBase/cs/general/ad-filtering/how-ad-blocking-works/">Obecné</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/KnowledgeBase/cs/general/ad-filtering/how-ad-blocking-works/">Filtrování reklam</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/KnowledgeBase/cs/general/ad-filtering/how-ad-blocking-works/">Jak funguje blokování reklam</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/KnowledgeBase/cs/general/ad-filtering/adguard-filters/">Filtry AdGuardu</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/KnowledgeBase/cs/general/ad-filtering/search-ads/">Reklamy ve vyhledávání a vlastní propagace</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/KnowledgeBase/cs/general/ad-filtering/tracking-filter-statistics/">Statistiky pravidel filtrů sledování</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/KnowledgeBase/cs/general/ad-filtering/create-own-filters/">Jak vytvářet vlastní filtry reklam</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/KnowledgeBase/cs/general/ad-filtering/filter-policy/">Zásady AdGuard filtrů</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/KnowledgeBase/cs/general/https-filtering/what-is-https-filtering/">HTTPS filtrování</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/KnowledgeBase/cs/general/browsing-security/">Bezpečné prohlížení</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/KnowledgeBase/cs/general/stealth-mode/">Režim utajení</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/KnowledgeBase/cs/general/userscripts/">Uživatelské skripty</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/KnowledgeBase/cs/general/account/register/">Účet AdGuard</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/KnowledgeBase/cs/general/license/what-is/">Licence</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/KnowledgeBase/cs/general/how-to-install/">Jak nainstalovat AdGuard</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/KnowledgeBase/cs/adguard-for-windows/overview/">AdGuard pro Windows</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/KnowledgeBase/cs/adguard-for-mac/overview/">AdGuard pro macOS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/KnowledgeBase/cs/adguard-for-android/overview/">AdGuard pro Android</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/KnowledgeBase/cs/adguard-for-ios/overview/">AdGuard pro iOS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/KnowledgeBase/cs/adguard-browser-extension/overview/">Rozšíření prohlížeče AdGuard</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/KnowledgeBase/cs/adguard-for-safari/overview/">AdGuard pro Safari</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/KnowledgeBase/cs/adguard-content-blocker/overview/">Blokátor obsahu AdGuard</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/KnowledgeBase/cs/miscellaneous/contribute/beta-testing/">Různé</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/KnowledgeBase/cs/guides/collect-har-file/">Průvodci</a></div></li></ul></nav><button type="button" title="Sbalit postranní panel" aria-label="Sbalit postranní panel" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Drobky"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Domovská stránka" class="breadcrumbs__link" href="/KnowledgeBase/cs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Obecné</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Filtrování reklam</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Jak vytvářet vlastní filtry reklam</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Na této stránce</button></div><div class="theme-doc-markdown markdown"><header><h1>Jak vytvářet vlastní filtry reklam</h1></header><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>informace</div><div class="admonitionContent_S0QG"><p>V tomto článku vysvětlíme, jak napsat vlastní pravidla filtrování pro použití v produktech AdGuardu. Chcete-li otestovat svá pravidla, <a href="https://adguard.com/download.html?auto=true" target="_blank" rel="noopener noreferrer">stáhněte si aplikaci AdGuard</a></p></div></div><p>Filtr je sada pravidel filtrování aplikovaných na konkrétní obsah, například bannery nebo vyskakovací okna. AdGuard má seznam standardních filtrů vytvořených naším týmem. Neustále je vylepšujeme, aktualizujeme a snažíme se vyhovět potřebám většiny našich uživatelů.</p><p>AdGuard zároveň umožňuje vytvářet vlastní filtry pomocí stejných typů pravidel, které máme v našich filtrech.</p><p>K popisu syntaxe našich pravidel filtrování používáme <a href="https://tools.ietf.org/html/rfc5234" target="_blank" rel="noopener noreferrer">Augmented BNF for Syntax Specifications</a>, ale ne vždy se touto specifikací striktně řídíme.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>informace</div><div class="admonitionContent_S0QG"><p>Původně byla syntaxe AdGuardu založena na syntaxi pravidel Adblock Plus. Později jsme ji rozšířili o nové typy pravidel pro lepší filtrování reklam. Některé části tohoto článku o pravidlech společných pro AdGuard i ABP byly převzaty z <a href="https://adblockplus.org/en/filters" target="_blank" rel="noopener noreferrer">tohoto článku</a>.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="komentáře">Komentáře<a class="hash-link" href="#komentáře" title="Přímý odkaz na hlavičku">​</a></h2><p>Každý řádek začínající vykřičníkem je komentář. V seznamu pravidel je zobrazen šedou barvou. AdGuard bude tento řádek ignorovat, takže můžete napsat cokoli chcete. Komentáře se obvykle umísťují nad pravidla a slouží k popisu toho, co pravidlo dělá.</p><p>Např:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">! Toto je komentář. Pod tímto řádkem se nachází skutečné pravidlo filtrování.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="příklady">Příklady<a class="hash-link" href="#příklady" title="Přímý odkaz na hlavičku">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="blokování-podle-názvu-domény">Blokování podle názvu domény<a class="hash-link" href="#blokování-podle-názvu-domény" title="Přímý odkaz na hlavičku">​</a></h3><p><img loading="lazy" src="https://cdn.adtidy.org/content/kb/ad_blocker/general/0_blocking_domain.svg" alt="Blocking by domain name" class="img_ev3q"></p><p><strong>Toto pravidlo blokuje:</strong></p><ul><li><code>http://example.org/ad1.gif</code></li><li><code>http://subdomain.example.org/ad1.gif</code></li><li><code>https://ads.example.org:8000/</code></li></ul><p><strong>Toto pravidlo neblokuje:</strong></p><ul><li><code>http://ads.example.org.us/ad1.gif</code></li><li><code>http://example.com/redirect/http://ads.example.org/</code></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="blokování-přesné-adresy">Blokování přesné adresy<a class="hash-link" href="#blokování-přesné-adresy" title="Přímý odkaz na hlavičku">​</a></h3><p><img loading="lazy" src="https://cdn.adtidy.org/content/kb/ad_blocker/general/1_exact_address.svg" alt="Blocking exact address" class="img_ev3q"></p><p><strong>Toto pravidlo blokuje:</strong></p><ul><li><code>http://example.org/</code></li></ul><p><strong>Toto pravidlo neblokuje:</strong></p><ul><li><code>https://example.org/banner/img</code></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="modifikátory-základních-pravidel">Modifikátory základních pravidel<a class="hash-link" href="#modifikátory-základních-pravidel" title="Přímý odkaz na hlavičku">​</a></h3><p>Pravidla filtrování podporují řadu modifikátorů, které umožňují doladit chování pravidla. Zde je příklad pravidla s několika jednoduchými modifikátory.</p><p><img loading="lazy" src="https://cdn.adtidy.org/content/kb/ad_blocker/general/2_basic_rule_options.svg" alt="Modifikátory základních pravidel" class="img_ev3q"></p><p><strong>Toto pravidlo blokuje:</strong></p><ul><li><code>http://example.org/script.js</code>, pokud je tento skript načten z <code>example.org</code>.</li></ul><p><strong>Toto pravidlo neblokuje:</strong></p><ul><li><code>https://example.org/script.js</code>, pokud je tento skript načten z <code>example.org</code>.</li><li><code>https://example.org/banner.png</code>, protože se nejedná o skript.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="odblokování-adresy">Odblokování adresy<a class="hash-link" href="#odblokování-adresy" title="Přímý odkaz na hlavičku">​</a></h3><p><img loading="lazy" src="https://cdn.adtidy.org/content/kb/ad_blocker/general/3_basic_exception.svg" class="img_ev3q"></p><p><strong>Toto pravidlo odblokuje:</strong></p><ul><li><code>http://example.org/banner.png</code>, i když pro tuto adresu existuje pravidlo blokování.</li></ul><p>Pravidla blokování s modifikátorem <a href="#important-modifier"><code>$important</code></a> mohou přepsat výjimky.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="odblokování-celé-webové-stránky">Odblokování celé webové stránky<a class="hash-link" href="#odblokování-celé-webové-stránky" title="Přímý odkaz na hlavičku">​</a></h3><p><img loading="lazy" src="https://cdn.adtidy.org/content/kb/ad_blocker/general/4_unblock_entire_website.svg" alt="Odblokování celé webové stránky" class="img_ev3q"></p><p><strong>Toto pravidlo odblokuje</strong></p><ul><li>Zakáže všechna kosmetická pravidla na <code>example.com</code>.</li><li>Odblokuje všechny požadavky odeslané z této webové stránky, i když existují pravidla blokování odpovídající těmto požadavkům.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="kosmetické-pravidlo">Kosmetické pravidlo<a class="hash-link" href="#kosmetické-pravidlo" title="Přímý odkaz na hlavičku">​</a></h3><p><img loading="lazy" src="https://cdn.adtidy.org/content/kb/ad_blocker/general/5_cosmetic_rules.svg" alt="Cosmetic rule" class="img_ev3q"></p><p>Kosmetická pravidla jsou založena na použití speciálního jazyka CSS, kterému rozumí každý prohlížeč. V podstatě přidává na webové stránky nový styl CSS, jehož účelem je skrýt určité prvky. Více o CSS obecně se můžete dozvědět <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Introduction_to_CSS/Selectors" target="_blank" rel="noopener noreferrer">zde</a>.</p><p>AdGuard <a href="#extended-css-selectors">rozšiřuje CSS</a> a umožňuje tak vývojářům filtrů řešit mnohem složitější případy. Abyste však mohli tato rozšířená pravidla používat, musíte ovládat běžný jazyk CSS.</p><p><strong>Oblíbené selektory CSS</strong></p><table><thead><tr><th>Název</th><th>Selektor CSS</th><th>Popis</th></tr></thead><tbody><tr><td>ID selector</td><td><code>#banners</code></td><td>Matches all elements with <code>id</code> attribute equal to <code>banners</code>.<br><img loading="lazy" src="https://cdn.adtidy.org/public/Adguard/kb/en/rules_syntax/css_id_selector.png" class="img_ev3q"></td></tr><tr><td>Class selector</td><td><code>.banners</code></td><td>Matches all elements with <code>class</code> attribute containing <code>banners</code>.<br><img loading="lazy" src="https://cdn.adtidy.org/public/Adguard/kb/en/rules_syntax/css_class_selector.png" class="img_ev3q"></td></tr><tr><td>Attribute selector</td><td><code>div[class=&quot;banners&quot;]</code></td><td>Matches all <code>div</code> elements with <code>class</code> attribute <strong>exactly equal</strong> to <code>banners</code>.<br><img loading="lazy" src="https://cdn.adtidy.org/public/Adguard/kb/en/rules_syntax/css_class_attr.png" class="img_ev3q"></td></tr><tr><td>Attribute substring selector</td><td><code>div[class^=&quot;advert1&quot;]</code></td><td>Matches all <code>div</code> elements which <code>class</code> attribute <strong>starts with</strong> the <code>advert1</code> string.<br><img loading="lazy" src="https://cdn.adtidy.org/public/Adguard/kb/en/rules_syntax/css_class_attr_start.png" class="img_ev3q"></td></tr><tr><td>Attribute substring selector</td><td><code>div[class$=&quot;banners_ads&quot;]</code></td><td>Matches all <code>div</code> elements which <code>class</code> attribute <strong>ends with</strong> the <code>banners_ads</code> string.<br><img loading="lazy" src="https://cdn.adtidy.org/public/Adguard/kb/en/rules_syntax/css_class_attr_end.png" class="img_ev3q"></td></tr><tr><td>Attribute substring selector</td><td><code>a[href^=&quot;http://example.com/&quot;]</code></td><td>Matches all links that are loaded from <code>http://example.com/</code> domain.<br><img loading="lazy" src="https://cdn.adtidy.org/public/Adguard/kb/en/rules_syntax/css_attr_start.png" class="img_ev3q"></td></tr><tr><td>Attribute selector</td><td><code>a[href=&quot;http://example.com/&quot;]</code></td><td>Matches all links to <strong>exactly</strong> the <code>http://example.com/</code> address.<br><img loading="lazy" src="https://cdn.adtidy.org/public/Adguard/kb/en/rules_syntax/css_attr_equal.png" class="img_ev3q"></td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="omezení-a-restrikce">Omezení a restrikce<a class="hash-link" href="#omezení-a-restrikce" title="Přímý odkaz na hlavičku">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="trusted-filters">Důvěryhodné filtry<a class="hash-link" href="#trusted-filters" title="Přímý odkaz na hlavičku">​</a></h3><p>Některá pravidla lze použít pouze v důvěryhodných filtrech. Tato kategorie zahrnuje:</p><ul><li>seznamy filtrů <a href="/KnowledgeBase/cs/general/ad-filtering/adguard-filters/">vytvořené týmem AdGuard</a>,</li><li>seznamy vlastních filtrů nainstalované jako <code>trusted</code>,</li><li>uživatelská pravidla.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="blokátor-obsahu-adguard">Blokátor obsahu AdGuard<a class="hash-link" href="#blokátor-obsahu-adguard" title="Přímý odkaz na hlavičku">​</a></h3><p>Blokátor obsahu AdGuard je rozšíření pro prohlížeče Samsung a Yandex, které lze nainstalovat z Google Play. Nesmí se zaměňovat s plně funkčním nástrojem AdGuard pro Android, který lze stáhnout pouze z <a href="https://adguard.com/adguard-android/overview.html" target="_blank" rel="noopener noreferrer">našich stránek</a>. Bohužel, funkce Blokátoru obsahu AdGuard jsou omezeny tím, co prohlížeče umožňují a podporují pouze starou syntaxi filtrů Adblock Plus:</p><ul><li>Základní pravidla blokování s následujícími modifikátory: <code>$domain</code>, <code>$third-party</code>, <a href="#content-type-modifiers">modifikátory typu obsahu</a>.</li><li>Základní pravidla výjimek s následujícími modifikátory: <code>$document</code>, <code>$elemhide</code>.</li><li>Základní pravidla <a href="#cosmetic-elemhide-rules">pro skrývání prvků</a> bez rozšířené podpory CSS.</li></ul><p>Vzhledem k výše uvedeným omezením nebude Blokátor obsahu AdGuard uveden v poznámkách ke kompatibilitě.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="základní-pravidla">Základní pravidla<a class="hash-link" href="#základní-pravidla" title="Přímý odkaz na hlavičku">​</a></h2><p>Nejjednoduššími pravidly jsou tzv. <em>základní pravidla</em>. Slouží k blokování požadavků na konkrétní adresy URL. Nebo je odblokují, pokud je na začátku pravidla speciální znak &quot;@@&quot;. Základní princip tohoto typu pravidel je poměrně jednoduchý: je třeba zadat adresu a další parametry, které omezují nebo rozšiřují rozsah pravidla.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Dílčí požadavky</div><div class="admonitionContent_S0QG"><p>Základní pravidla pro blokování požadavků se vztahují pouze na <strong>dílčí požadavky</strong>. To znamená, že nebudou blokovat načítání stránky, pokud není výslovně zadána pomocí modifikátoru <code>$document</code>.</p></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Stav odpovědi</div><div class="admonitionContent_S0QG"><p>Prohlížeč rozpozná zablokovaný požadavek jako dokončený s chybou.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="basic-rules-syntax">Syntaxe základních pravidel<a class="hash-link" href="#basic-rules-syntax" title="Přímý odkaz na hlavičku">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      rule = [&quot;@@&quot;] pattern [ &quot;$&quot; modifiers ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">modifiers = [modifier0, modifier1[, ...[, modifierN]]]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong><code>pattern</code></strong> — maska adresy. Každá adresa URL požadavku je přiřazena k této masce. V šabloně můžete použít i speciální znaky, jejichž popis je uveden <a href="#basic-rules-special-characters">pod tímto odkazem</a>. Vezměte na vědomí, že AdGuard zkracuje adresy URL na délku 4096 znaků, aby urychlil porovnávání a předešel problémům s nesmyslně dlouhými adresami URL.</li><li><strong><code>@@</code></strong> — znak, který se používá v pravidlech výjimek. Chcete-li filtrování požadavku vypnout, začněte pravidlo touto značkou.</li><li><strong><code>modifiers</code></strong> — parametry, které &quot;objasňují&quot; základní pravidlo. Některé z nich omezují rozsah pravidel a některé mohou zcela změnit jejich fungování.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="basic-rules-special-characters">Speciální znaky<a class="hash-link" href="#basic-rules-special-characters" title="Přímý odkaz na hlavičku">​</a></h3><ul><li><strong><code>*</code></strong> — zástupný znak. Používá se k reprezentaci &quot;libovolné sady znaků&quot;. Může to být také prázdný řetězec nebo řetězec libovolné délky.</li><li><strong><code>||</code></strong> — odpovídá začátku adresy. S tímto znakem nemusíte v masce adresy zadávat konkrétní protokol a subdoménu. Tj., že <code>||</code> znamená <code>http://*.</code>, <code>https://*.</code>, <code>ws://*.</code>, <code>wss://*.</code> najednou.</li><li><strong><code>^</code></strong> — oddělovací znak. Oddělovací znak je libovolný znak, mimo písmeno, číslice nebo jeden z následujících znaků: <code>_</code> <code>-</code> <code>.</code> <code>%</code>. V tomto příkladu jsou oddělovací znaky zobrazeny tučně: <code>http:</code><strong><code>//</code></strong><code>example.com</code><strong><code>/?</code></strong><code>t=1</code><strong><code>&amp;</code></strong><code>t2=t3</code>. Konec adresy je také akceptován jako oddělovací znak.</li><li><strong><code>|</code></strong> — ukazatel na začátku nebo konci adresy. Hodnota závisí na umístění znaku v masce. Např. pravidlo <code>swf|</code> odpovídá <code>http://example.com/annoyingflash.swf</code>, ale neodpovídá <code>http://example.com/swf/index.html</code>. <code>|http://example.org</code> odpovídá <code>http://example.org</code>, ale ne <code>http://domain.com?url=http://example.org</code>.</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Vizuální znázornění</div><div class="admonitionContent_S0QG"><p>Doporučujeme také seznámit se s <a href="https://adblockplus.org/filter-cheatsheet#blocking" target="_blank" rel="noopener noreferrer">tímto článkem</a>, abyste lépe pochopili, jak taková pravidla vytvářet.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="regexp-support">Podpora regulárních výrazů<a class="hash-link" href="#regexp-support" title="Přímý odkaz na hlavičku">​</a></h3><p>Pokud chcete ještě větší flexibilitu při vytváření pravidel, můžete použít <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener noreferrer">regulární výrazy</a> namísto výchozí zjednodušené masky se speciálními znaky.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Výkon</div><div class="admonitionContent_S0QG"><p>Pravidla s regulárními výrazy pracují pomaleji, proto se jim doporučuje vyhnout nebo omezit jejich rozsah na určité domény.</p></div></div><p>Pokud chcete, aby blokátor určil regulární výraz, musí <code>pattern</code> vypadat takto:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pattern = &quot;/&quot; regexp &quot;/&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Např. pravidlo <code>/banner\d+/$third-party</code> použije regulární výraz <code>banner\d+</code> na všechny požadavky třetích stran. Pravidlo výjimky s regulárním výrazem vypadá takto: <code>@@/banner\d+/</code>.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>AdGuard pro Safari a AdGuard pro iOS plně nepodporují regulární výrazy kvůli <a href="https://webkit.org/blog/3476/content-blockers-first-look/" target="_blank" rel="noopener noreferrer">omezení API pro blokování obsahu</a> (hledejte sekci &quot;Formát regulárního výrazu&quot;).</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="wildcard-for-tld">Podpora zástupných znaků pro TLD (domény nejvyšší úrovně)<a class="hash-link" href="#wildcard-for-tld" title="Přímý odkaz na hlavičku">​</a></h3><p>Zástupné znaky jsou podporovány pro TLD domén ve vzorech <a href="#cosmetic-rules">kosmetických</a>, <a href="#html-filtering-rules">filtrování HTML</a> a pravidel <a href="#javascript-rules">JavaScript</a>.</p><p>V případě kosmetických pravidel, např. <code>example.*##.banner</code>, je díky znaku <code>.*</code>, tj. <code>example.com</code>, <code>sub.example.net</code>, <code>example.co.uk</code>, atd. přiřazeno více domén.</p><p>Pro základní pravidla platí popsaná logika pouze pro domény uvedené v <a href="#domain-modifier"><code>$domain</code> modifikátoru</a>, např. <code>||*/banners/*$image,domain=example.*</code>.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>V AdGuardu pro Windows, Mac, Android a v pravidlech rozšíření prohlížeče AdGuard se zástupným znakem <code>.*</code>, odpovídá jakékoli veřejné příponě <a href="https://publicsuffix.org/list/" target="_blank" rel="noopener noreferrer">(nebo eTLD)</a>. Pro AdGuard pro Safari a iOS <a href="https://github.com/AdguardTeam/SafariConverterLib/blob/v2.0.31/Sources/ContentBlockerConverter/Compiler/BlockerEntryFactory.swift#L44" target="_blank" rel="noopener noreferrer">je však seznam podporovaných domén nejvyšší úrovně</a> omezen kvůli omezením v Safari.</p></div></div><p>Pravidla se zástupným znakem pro TLD nejsou podporována Blokátorem obsahu AdGuard.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="příklady-základních-pravidel">Příklady základních pravidel<a class="hash-link" href="#příklady-základních-pravidel" title="Přímý odkaz na hlavičku">​</a></h3><ul><li><p><code>||example.com/ads/*</code> — jednoduché pravidlo, které odpovídá adresám typu <code>http://example.com/ads/banner.jpg</code> a dokonce i <code>http://subdomain.example.com/ads/otherbanner.jpg</code>.</p></li><li><p><code>||example.org^$third-party</code> —  toto pravidlo blokuje požadavky třetích stran na <code>example.org</code> a jejím subdoménám.</p></li><li><p><code>@@||example.com$document</code> — obecné pravidlo výjimky. Zcela vypne filtrování pro <code>example.com</code> a všechny subdomény. V pravidlech pro výjimky lze použít řadu modifikátorů. Pro více podrobností klikněte na <a href="#exception-modifiers">odkaz </a> níže.</p></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="modifikátory-základních-pravidel-1">Modifikátory základních pravidel<a class="hash-link" href="#modifikátory-základních-pravidel-1" title="Přímý odkaz na hlavičku">​</a></h3><ul><li><a href="#basic-rules-basic-modifiers">Základní modifikátory</a></li><li><a href="#content-type-modifiers">Modifikátory typu obsahu</a></li><li><a href="#exception-modifiers">Modifikátory výjimek</a></li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Funkce popsané v této části jsou určeny pro zkušené uživatele. Rozšiřují možnosti &quot;základních pravidel&quot;, ale abyste je mohli používat, musíte mít základní znalosti o fungování prohlížeče.</p></div></div><p>Chování &quot;základního pravidla&quot; můžete změnit pomocí dalších modifikátorů. Modifikátory by měly být umístěny na konci pravidla za znakem <code>$</code> a odděleny čárkami.</p><p>Příklad:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">||domain.com^$popup,third-party</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="basic-rules-basic-modifiers">Základní modifikátory<a class="hash-link" href="#basic-rules-basic-modifiers" title="Přímý odkaz na hlavičku">​</a></h3><ul><li><a href="#app-modifier"><code>$app</code></a></li><li><a href="#denyallow-modifier"><code>$denyallow</code></a></li><li><a href="#domain-modifier"><code>$domain</code></a></li><li><a href="#header-modifier"><code>$header</code></a></li><li><a href="#important-modifier"><code>$important</code></a></li><li><a href="#match-case-modifier"><code>$match-case</code></a></li><li><a href="#method-modifier"><code>$method</code></a></li><li><a href="#popup-modifier"><code>$popup</code></a></li><li><a href="#third-party-modifier"><code>$third-party</code></a></li><li><a href="#to-modifier"><code>$to</code></a></li></ul><p>Následující modifikátory jsou nejjednodušší a nejčastěji používané. V podstatě jen omezují rozsah použití pravidel.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="app-modifier"><strong><code>$app</code></strong><a class="hash-link" href="#app-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Tento modifikátor umožňuje zúžit pokrytí pravidla na konkrétní aplikaci (nebo seznam aplikací). V systémech Windows a Mac to nemusí být příliš důležité, ale v mobilních zařízeních, kde některá pravidla filtrování musí být specifická pro konkrétní aplikaci, je to velmi důležité.</p><ul><li>Android — použijte název balíčku aplikace, např. <code>org.example.app</code>.</li><li>Windows — použijte název procesu, např. <code>chrome.exe</code>.</li><li>Mac — použijte ID svazku nebo název procesu, např. <code>com.google.Chrome</code>.</li></ul><p>V případě počítače Mac můžete ID svazku nebo název procesu aplikace zjistit zobrazením příslušných podrobností o požadavku v záznamu filtrování.</p><p><strong>Příklady</strong></p><ul><li><code>||baddomain.com^$app=org.example.app</code> — pravidlo pro blokování požadavků, které odpovídají zadané masce a jsou odeslány z Android aplikace <code>org.example.app</code>.</li><li><code>||baddomain.com^$app=org.example.app1|org.example.app2</code> — stejné pravidlo, ale funguje jak pro <code>org.example.app1</code>, tak i pro <code>org.example.app2</code>.</li></ul><p>Pokud chcete, aby se pravidlo nevztahovalo na určité aplikace, začněte název aplikace znakem <code>~</code>.</p><ul><li><code>||baddomain.com^$app=~org.example.app</code> — pravidlo pro blokování požadavků, které odpovídají zadané masce a jsou odeslány z jakékoli aplikace kromě <code>org.example.app</code>.</li><li><code>||baddomain.com^$app=~org.example.app1|~org.example.app2</code> — stejně jako výše, ale nyní jsou vyloučeny dvě aplikace: <code>org.example.app1</code> a <code>org.example.app2</code>.</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><ul><li>Pouze AdGuard pro Windows, Mac a Android jsou technicky schopné používat pravidla s modifikátorem <code>$app</code>.</li><li>V systému Windows se v názvu procesu nerozlišují velká a malá písmena, počínaje verzí AdGuard pro Windows, která má pod kapotou knihovnu CoreLibs v1.12.</li></ul></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="denyallow-modifier"><strong><code>$denyallow</code></strong><a class="hash-link" href="#denyallow-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Modifikátor <code>$denyallow</code> umožňuje vyhnout se vytváření dalších pravidel, pokud je potřeba zakázat určité pravidlo pro konkrétní domény. <code>$denyallow</code> odpovídá pouze cílovým doménám, nikoli doménám odkazujícím.</p><p>Přidání tohoto modifikátoru k pravidlu je ekvivalentní vyloučení domén podle shodného vzoru pravidla nebo přidání odpovídajících pravidel výjimek. Chcete-li do jednoho pravidla přidat více domén, použijte jako oddělovací znak <code>|</code>.</p><p><strong>Příklady</strong></p><p>Toto pravidlo:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*$script,domain=a.com|b.com,denyallow=x.com|y.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>odpovídá tomuto:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/^(?!.*(x.com|y.com)).*$/$script,domain=a.com|b.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>nebo kombinaci těchto tří:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*$script,domain=a.com|b.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@||x.com$script,domain=a.com|b.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@||y.com$script,domain=a.com|b.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><ul><li>Vzor shody pravidla se nemůže zaměřit na žádné konkrétní domény, např. nemůže začínat <code>||</code>.</li><li>Domény v hodnotě modifikátoru nemohou být negovány, např. <code>$denyallow=~x.com</code>, nebo mít zástupný znak TLD, např. <code>$denyallow=x.*</code>.</li></ul><p>Pravidla, která tato omezení porušují, jsou považována za neplatná.</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$denyallow</code> nejsou AdGuardem pro iOS, Safari a Blokátorem obsahu AdGuard podporována.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="domain-modifier"><strong><code>$domain</code></strong><a class="hash-link" href="#domain-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p><code>$domain</code> omezuje rozsah pravidla na požadavky <strong>ze zadaných domén</strong> a jejich subdomén (jak je uvedeno v záhlaví <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer" target="_blank" rel="noopener noreferrer">Referer</a> HTTP).</p><p><strong>Syntaxe</strong></p><p>Modifikátor je seznam jednoho nebo více výrazů oddělených symbolem <code>|</code>, z nichž každý je porovnáván s doménou určitým způsobem v závislosti na svém typu (viz níže).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">domains = [&quot;~&quot;] entry_0 [&quot;|&quot; [&quot;~&quot;] entry_1 [&quot;|&quot; [&quot;~&quot;]entry_2 [&quot;|&quot; ... [&quot;|&quot; [&quot;~&quot;]entry_N]]]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">entry_i = ( regular_domain / any_tld_domain / regexp )</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong><code>regular_domain</code></strong> — běžný název domény (<code>domain.com</code>). Odpovídá zadané doméně a jejím subdoménám. Shoduje se lexikograficky.</li><li><strong><code>any_tld_domain</code></strong> — název domény zakončený zástupným znakem jako <a href="https://publicsuffix.org/learn/" target="_blank" rel="noopener noreferrer">veřejná přípona</a>, např. pro <code>example.*</code> je to <code>co.uk</code> v <code>example.co.uk</code>. Odpovídá zadané doméně a jejím subdoménám s libovolnou veřejnou příponou. Shoduje se lexikograficky.</li><li><strong><code>regexp</code></strong> — regulární výraz, který začíná a končí znakem <code>/</code>. Vzor funguje stejně jako v základních pravidlech pro URL adresy, ale znaky <code>/</code>, <code>$</code> a <code>,</code> musí být uvozeny pomocí <code>\</code>.</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>informace</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$domain</code> jako <code>regular_domain</code> nebo <code>any_tld_domain</code> jsou podporována všemi AdGuard produkty.</p></div></div><p><strong>Příklady</strong></p><p><strong>Jen <code>$domain</code>:</strong></p><ul><li><code>||baddomain.com^$domain=example.org</code> blokuje požadavky, které odpovídají zadané masce a jsou odeslány z domény <code>example.org</code> nebo jejích subdomén.</li><li><code>||baddomain.com^$domain=example.org|example.com</code> — stejné pravidlo, ale funguje jak pro <code>example.org</code>, tak i pro <code>example.com</code>.</li></ul><p>Pokud chcete, aby se pravidlo nevztahovalo na určité domény, začněte název domény znakem <code>~</code>.</p><p><strong><code>$domain</code> a negace <code>~</code>:</strong></p><ul><li><code>||baddomain.com^$domain=example.org</code> blokuje požadavky, které odpovídají zadané masce a jsou odeslány z domény <code>example.org</code> nebo jejích subdomén.</li><li><code>||baddomain.com^$domain=example.org|example.com</code> — stejné pravidlo, ale funguje jak pro <code>example.org</code>, tak i pro <code>example.com</code>.</li><li><code>||baddomain.com^$domain=~example.org</code> blokuje požadavky, které odpovídají vzoru a jsou odeslané z jakékoli domény kromě <code>example.org</code> a jejích subdomén.</li><li><code>||baddomain.com^$domain=example.org|~foo.example.org</code> blokuje požadavky odeslané z <code>example.org</code> a jích subdomén, kromě subdomény <code>foo.example.org</code>.</li><li><code>||baddomain.com^$domain=/(^\|.+\.)example\.(com\|org)\$/</code> blokuje požadavky odeslané z <code>example.org</code> a <code>example.com</code> a všech jejích subdomén.</li><li><code>||baddomain.com^$domain=~a.com|~b.*|~/(^\|.+\.)c\.(com\|org)\$/</code> blokuje požadavky odeslané z <code>a.com</code>, <code>b</code> s libovolnou veřejnou příponou (<code>b.com</code>, <code>b.co.uk</code>, etc.), <code>c.com</code>, <code>c.org</code>, a jejich subdomén.</li></ul><p><strong><code>$domain</code> modifikátor odpovídající cílové doméně:</strong></p><p>V některých případech může modifikátor <code>$domain</code> odpovídat nejen doméně odkazovače, ale také cílové doméně. K tomu dojde, pokud platí všechny následující podmínky:</p><ol><li>Požadavek má typ obsahu <code>document</code>.</li><li>Vzor pravidla neodpovídá žádné konkrétní doméně.</li><li>Vzor pravidla neobsahuje regulární výrazy.</li><li>Modifikátor <code>$domain</code> obsahuje pouze domény ve výjimkách, např. <code>$domain=~example.org|~example.com</code>.</li></ol><p>Následující predikát by měl být splněn, aby bylo možné provést porovnání cílové domény:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1 AND ((2 AND 3) OR 4)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To znamená, že pokud modifikátor <code>$domain</code> obsahuje pouze domény ve výjimkách, pak pravidlo nemusí splňovat druhou a třetí podmínku, aby se cílová doména shodovala s modifikátorem <code>$domain</code>.</p><p>Pokud některé z výše uvedených podmínek nejsou splněny, ale pravidlo obsahuje modifikátor <a href="#cookie-modifier"><code>$cookie</code></a> nebo <a href="#csp-modifier"><code>$csp</code></a>, cílová doména bude přesto přiřazena.</p><p>Pokud odkazující doména odpovídá pravidlu s <code>$domain</code>, které výslovně vylučuje doménu odkazujícího serveru, pravidlo se nepoužije, i když cílová doména také odpovídá pravidlu. To má vliv i na pravidla s modifikátory <a href="#cookie-modifier"><code>$cookie</code></a> a <a href="#csp-modifier"><code>$csp</code></a>.</p><p><strong>Příklady</strong></p><ul><li><code>*$cookie,domain=example.org|example.com</code> zablokuje soubory cookie pro všechny požadavky do a z domény <code>example.org</code> a <code>example.com</code>.</li><li><code>*$document,domain=example.org|example.com</code> zablokuje všechny požadavky do a z domény <code>example.org</code> a <code>example.com</code>.</li></ul><p>V následujících příkladech se předpokládá, že požadavky jsou odesílány z adresy <code>http://example.org/page</code> (odkazující adresa), cílová adresa URL je <code>http://targetdomain.com/page</code>.</p><ul><li><code>page$domain=example.org</code> bude přiřazena, protože odpovídá doméně odkazu.</li><li><code>page$domain=targetdomain.com</code> bude přiřazena, protože odpovídá cílové doméně a splňuje všechny výše uvedené požadavky.</li><li><code>||*page$domain=targetdomain.com</code> nebude přiřazena, protože vzor <code>||*page</code> odpovídá konkrétním doménám, např. <code>example.page</code>.</li><li><code>||*page$domain=targetdomain.com,cookie</code> bude přiřazena, protože pravidlo obsahuje modifikátor <code>$cookie</code>, přestože vzor <code>||*page</code> může odpovídat konkrétním doménám.</li><li><code>/banner\d+/$domain=targetdomain.com</code> nebude přiřazena, protože obsahuje regulární výraz.</li><li><code>page$domain=targetdomain.com|~example.org</code> nebude přiřazena, protože doména odkazu je výslovně vyloučena.</li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><p>Safari nepodporuje současné použití povolených a zakázaných domén, takže pravidla jako <code>||baddomain.com^$domain=example.org|~foo.example.org</code> nebudou v AdGuardu pro iOS a AdGuardu pro Safari fungovat.</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s regulárním výrazem <code>$domain</code> jsou podporována AdGuardem pro Windows, Mac a Android, <strong>s knihovnou CoreLibs v11 nebo novější</strong>.</p><p>V AdGuardu pro Windows, Mac a Android <strong>s CoreLibs v1.12 nebo novějším</strong> může být modifikátor <code>$domain</code> alternativně zapsán jako <code>$from</code>.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="header-modifier"><strong><code>$header</code></strong><a class="hash-link" href="#header-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Modifikátor <code>$header</code> umožňuje porovnat odpověď HTTP se specifickým záhlavím s (volitelně) specifickou hodnotou.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$header &quot;=&quot; h_name [&quot;:&quot; h_value]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">h_value = string / regexp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>kde:</p><ul><li><strong><code>h_name</code></strong> — povinný název záhlaví HTTP. Je přizpůsoben případ od případu.</li><li><strong><code>h_value</code></strong> — nepovinný výraz odpovídající hodnotě záhlaví HTTP, může to být jeden z následujících výrazů:<ul><li><strong><code>string</code></strong> — posloupnost znaků. Porovnává se s hodnotou záhlaví lexikograficky;</li><li><strong><code>regexp</code></strong> — regulární výraz, který začíná a končí znakem <code>/</code>. Vzor funguje stejně jako v základních pravidlech pro URL adresy, ale znaky <code>/</code>, <code>$</code> a <code>,</code> musí být uvozeny pomocí <code>\</code>.</li></ul></li></ul><p>Část modifikátoru <code>&quot;:&quot; h_value</code> lze vynechat. V takovém případě modifikátor odpovídá pouze názvu záhlaví.</p><p><strong>Příklady</strong></p><ul><li><code>||example.com^$header=set-cookie:foo</code> blokuje požadavky, jejichž odpovědi mají hlavičku <code>Set-Cookie</code> s hodnotou odpovídající <code>foo</code>.</li><li><code>||example.com^$header=set-cookie</code> blokuje požadavky, jejichž odpovědi mají hlavičku <code>Set-Cookie</code> s libovolnou hodnotou.</li><li><code>@@||example.com^$header=set-cookie:/foo\, bar\$/</code> odblokuje požadavky, jejichž odpovědi mají hlavičku <code>Set-Cookie</code> s hodnotou odpovídající regulárnímu výrazu <code>foo, bar$</code>.</li><li><code>@@||example.com^$header=set-cookie</code> odblokuje požadavky, jejichž odpovědi mají hlavičku <code>Set-Cookie</code> s libovolnou hodnotou.</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$header</code> jsou podporována AdGuardem pro Windows, Mac a Android, <strong>s knihovnou CoreLibs verze 1.11 nebo novější</strong>.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="important-modifier"><strong><code>$important</code></strong><a class="hash-link" href="#important-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Modifikátor <code>$important</code> použitý na pravidlo zvyšuje jeho prioritu před jakýmkoli jiným pravidlem bez modifikátoru <code>$important</code>. Dokonce i přes základní pravidla výjimek.</p><p>Další podrobnosti najdete v <a href="#rule-priorities">prioritách pravidel</a>.</p><p><strong>Příklady</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">! pravidlo blokování zablokuje všechny požadavky navzdory pravidlu výjimky</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^$important</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@||example.org^</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">! pokud má pravidlo výjimky také modifikátor `$important`, bude mít přednost a žádné požadavky nebudou blokovány</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^$important</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@||example.org^$important</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="match-case-modifier"><strong><code>$match-case</code></strong><a class="hash-link" href="#match-case-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Tento modifikátor definuje pravidlo, které se vztahuje pouze na adresy odpovídající danému případu. Výchozí pravidla nerozlišují velká a malá písmena.</p><p><strong>Příklady</strong></p><ul><li><code>*/BannerAd.gif$match-case</code> — toto pravidlo zablokuje <code>http://example.com/BannerAd.gif</code>, ale ne <code>http://example.com/bannerad.gif</code>.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="method-modifier"><strong><code>$method</code></strong><a class="hash-link" href="#method-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Tento modifikátor omezuje rozsah pravidla na požadavky, které používají zadanou sadu metod HTTP. Negované metody jsou povoleny. Metody musí být zadány malými písmeny, ale při porovnávání se nerozlišují velká a malá písmena. Chcete-li do jednoho pravidla přidat více domén, použijte jako oddělovací znak <code>|</code>.</p><p><strong>Příklady</strong></p><ul><li><code>||evil.com^$method=get|head</code> blokuje pouze požadavky GET a HEAD na doméně <code>evil.com</code>.</li><li><code>||evil.com^$method=~post|~put</code> blokuje všechny požadavky na doméně <code>evil.com</code> kromě POST nebo PUT.</li><li><code>@@||evil.com$method=get</code> odblokuje pouze požadavky GET na doméně <code>evil.com</code>.</li><li><code>@@||evil.com$method=~post</code> odblokuje jakékoliv požadavky na doméně <code>evil.com</code> kromě POST.</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Pravidla s omezením smíšených hodnot jsou považována za neplatná. Takže např. pravidlo <code>||evil.com^$method=get|~head</code> bude zamítnuto.</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s <code>$method</code> jsou podporována AdGuardem pro Windows, Mac, Android, <strong>s CoreLibs v1.12 nebo novějším</strong> a rozšířením prohlížeče AdGuard pro Chrome, Firefox, Edge s <strong>TSUrlFilter v2.1.1 nebo novějším</strong>.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="popup-modifier"><strong><code>$popup</code></strong><a class="hash-link" href="#popup-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>AdGuard se pokusí zavřít kartu prohlížeče s jakoukoli adresou, která odpovídá pravidlu blokování s tímto modifikátorem. Upozorňujeme, že ne všechny karty lze zavřít.</p><p><strong>Příklady</strong></p><ul><li><code>||domain.com^$popup</code> — pokud se pokusíte přejít na <code>http://domain.com/</code> z libovolné stránky v prohlížeči, nová karta, ve které má být zadaný web otevřen, bude tímto pravidlem zavřena.</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><ul><li>Modifikátor <code>$popup</code> funguje nejlépe v Rozšíření prohlížeče AdGuard.</li><li>V AdGuardu pro Safari a iOS, pravidla <code>$popup</code> stránku jednoduše a okamžitě zablokují.</li><li>V AdGuardu pro Windows, Mac a Android nemusí modifikátor <code>$popup</code> v některých případech detekovat vyskakovací okno a nebude zablokováno. Modifikátor <code>$popup</code> použije typ obsahu <code>document</code> se speciálním příznakem, který je předán blokovací stránce. Samotná blokovací stránka může provést některé kontroly a zavřít okno, pokud se skutečně jedná o vyskakovací okno. V opačném případě by se stránka měla načíst. Lze to kombinovat s dalšími modifikátory typu požadavku, jako je <code>$third-party</code> a <code>$important</code>.</li></ul></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="third-party-modifier"><strong><code>$third-party</code></strong><a class="hash-link" href="#third-party-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Omezení požadavků třetích stran a vlastních požadavků. Požadavek třetí strany je požadavek z jiné domény. Např. požadavek na <code>example.org</code> z <code>domain.com</code> je požadavek třetí strany.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Aby mohla být žádost třetí strany považována za takovou, měla by splňovat jednu z následujících podmínek:</p><ol><li>Její odkazující doména není subdoménou cílové domény nebo naopak. Např. požadavek na <code>subdomain.example.org</code> z <code>example.org</code> není požadavek třetí strany.</li><li>Její záhlaví <code>Sec-Fetch-Site</code> je nastaveno na <code>cross-site</code>. Pokud existuje modifikátor <code>$third-party</code>, pravidlo se použije pouze na požadavky třetích stran.</li></ol></div></div><p><strong>Příklady</strong></p><p><strong><code>$third-party</code>:</strong></p><ul><li><code>||domain.com^$third-party</code> — toto pravidlo bude použito na všechny domény, kromě <code>domain.com</code> a její subdomény. Příklad požadavku třetí strany: <code>http://example.org/banner.jpg</code>.</li></ul><p>Pokud existuje modifikátor <code>$third-party</code>, pravidlo se použije pouze na požadavky, které nejsou od třetích stran. To znamená, že musí být odeslány ze stejné domény.</p><p><strong><code>$~third-party</code>:</strong></p><ul><li><code>||domain.com$~third-party</code> — toto pravidlo se použije pro <code>domain.com</code>, ale ne pro ostatní domény. Příklad požadavku, který není požadavkem třetí strany: <code>http://domain.com/icon.ico</code>.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="to-modifier"><strong><code>$to</code></strong><a class="hash-link" href="#to-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p><code>$to</code> omezuje rozsah pravidla na požadavky <strong>na</strong> zadané domény a jejich subdomény. Chcete-li do jednoho pravidla přidat více domén, použijte jako oddělovací znak <code>|</code>.</p><p><strong>Příklady</strong></p><ul><li><code>/ads$to=evil.com|evil.org</code> zablokuje jakýkoliv požadavek na <code>evil.com</code> nebo <code>evil.org</code> a jejich subdomény s cestou, která odpovídá <code>/ads</code>.</li><li><code>/ads$to=~not.evil.com|evil.com</code> zablokuje jakýkoliv požadavek na <code>evil.com</code> a její subdomény s cestou, která odpovídá <code>/ads</code>, kromě požadavků na <code>not.evil.com</code> a její subdomény.</li><li><code>/ads$to=~good.com|~good.org</code> zablokuje všechny požadavky s cestou, která odpovídá <code>/ads</code>, kromě požadavků na <code>good.com</code> nebo <code>good.org</code> a jejich subdomény.</li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><p><a href="#denyallow-modifier"><code>$denyallow</code></a> nelze použít společně s <code>$to</code>. Lze ji vyjádřit pomocí invertovaného <code>$to</code>: <code>$denyallow=a.com|b.com</code>, což je je ekvivalent k <code>$to=~a.com|~b.com</code>.</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$to</code> jsou podporována AdGuardem pro Windows, Mac, Android, <strong>s CoreLibs v1.12 nebo novějším</strong> a rozšířením prohlížeče AdGuard s <strong>TSUrlFilter v2.1.3 nebo novějším</strong>.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="content-type-modifiers">Modifikátory typu obsahu<a class="hash-link" href="#content-type-modifiers" title="Přímý odkaz na hlavičku">​</a></h3><ul><li><a href="#document-modifier"><code>$document</code></a></li><li><a href="#font-modifier"><code>$font</code></a></li><li><a href="#image-modifier"><code>$image</code></a></li><li><a href="#media-modifier"><code>$media</code></a></li><li><a href="#object-modifier"><code>$object</code></a></li><li><a href="#other-modifier"><code>$other</code></a></li><li><a href="#ping-modifier"><code>$ping</code></a></li><li><a href="#script-modifier"><code>$script</code></a></li><li><a href="#stylesheet-modifier"><code>$stylesheet</code></a></li><li><a href="#subdocument-modifier"><code>$subdocument</code></a></li><li><a href="#websocket-modifier"><code>$websocket</code></a></li><li><a href="#xmlhttprequest-modifier"><code>$xmlhttprequest</code></a></li><li><a href="#object-subrequest-modifier"><code>$object-subrequest</code> (odstraněno)</a></li><li><a href="#webrtc-modifier"><code>$webrtc</code> (odstraněno)</a></li></ul><p>Existuje sada modifikátorů, které lze použít k omezení oblasti použití pravidla na určitý typ obsahu. Tyto modifikátory lze také kombinovat, aby zahrnovaly například obrázky i skripty.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>V tom, jak AdGuard určuje typ obsahu na různých platformách, je velký rozdíl. U Rozšíření prohlížeče AdGuard je typ obsahu pro každý požadavek poskytován prohlížečem. AdGuard pro Windows, Mac a Android používají následující metodu: nejprve se pokusíme určit typ požadavku podle záhlaví požadavku <code>Sec-Fetch-Dest</code> nebo podle přípony názvu souboru. Pokud není požadavek v této fázi zablokován, určí se typ pomocí záhlaví <code>Content-Type</code> na začátku odpovědi serveru.</p></div></div><p><strong>Příklady modifikátorů typu obsahu</strong></p><ul><li><code>||example.org^$image</code> — odpovídá všem obrázkům z <code>example.org</code>.</li><li><code>||example.org^$script,stylesheet</code> — odpovídá všem skriptům a stylům z <code>example.org</code>.</li><li><code>||example.org^$~image,~script,~stylesheet</code> — odpovídá všem požadavkům na <code>example.org</code> kromě obrázků, skriptů a stylů.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="document-modifier"><strong><code>$document</code></strong><a class="hash-link" href="#document-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Pravidlo odpovídá požadavkům na dokument hlavního rámce, tj. dokumenty HTML načtené na kartě prohlížeče. Neodpovídá hodnotám iframe, pro ten existuje modifikátor <a href="#subdocument-modifier"><code>$subdocument</code></a>.</p><p>Ve výchozím nastavení AdGuard neblokuje požadavky, které se načítají na kartě prohlížeče (např. &quot;obcházení hlavního rámce&quot;). Cílem není zabránit načtení stránek, protože uživatel jasně uvedl, že chce, aby se tato stránka načetla. Pokud je však modifikátor <code>$document</code> zadán explicitně, AdGuard tuto logiku nepoužije a zabrání načtení stránky. Místo toho se zobrazí &quot;blokační stránka&quot;.</p><p>Pokud je tento modifikátor použit s pravidlem výjimky (<code>@@</code>), zcela zakáže blokování na příslušných stránkách. Je to ekvivalentní použití modifikátorů <code>$elemhide</code>, <code>$content</code>, <code>$urlblock</code>, <code>$jsinject</code>, <code>$extension</code> současně.</p><p><strong>Příklady</strong></p><ul><li><p><code>@@||example.com^$document</code> zcela zakáže filtrování všech stránek na <code>example.com</code> a všech subdoménách.</p></li><li><p><code>||example.com^$document</code> zablokuje požadavek na dokument HTML na <code>example.com</code> pomocí blokační stránky.</p></li><li><p><code>||example.com^$document,redirect=noopframe</code> přesměruje požadavek na HTML dokument na <code>example.com</code> na prázdný HTML dokument.</p></li><li><p><code>||example.com^$document,removeparam=test</code> odebere parametr dotazu <code>test</code> z požadavku dokumentu HTML na <code>example.com</code>.</p></li><li><p><code>||example.com^$document,replace=/test1/test2/</code> nahradí <code>test1</code> za <code>test2</code> v požadavku na dokument HTML na <code>example.com</code>.</p></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="font-modifier"><strong><code>$font</code></strong><a class="hash-link" href="#font-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Pravidlo odpovídá požadavkům na písma, např. s příponou <code>.woff</code>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="image-modifier"><strong><code>$image</code></strong><a class="hash-link" href="#image-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Pravidlo odpovídá požadavkům na obrázky.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="media-modifier"><strong><code>$media</code></strong><a class="hash-link" href="#media-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Pravidlo odpovídá požadavkům na mediální soubory — hudbu a video, např. soubory <code>.mp4</code>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="object-modifier"><strong><code>$object</code></strong><a class="hash-link" href="#object-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Pravidlo odpovídá prostředkům pluginů prohlížeče, např. Java nebo Flash.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="other-modifier"><strong><code>$other</code></strong><a class="hash-link" href="#other-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Pravidlo se vztahuje na požadavky, jejichž typ nebyl určen nebo neodpovídá výše uvedeným typům.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ping-modifier"><strong><code>$ping</code></strong><a class="hash-link" href="#ping-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Pravidlo odpovídá požadavkům vyvolaným buď <code>navigator.sendBeacon()</code>, nebo atributem <code>ping</code> v odkazech.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>AdGuard pro Windows, Mac a Android často nedokáží přesně detekovat <code>navigator.sendBeacon()</code>. V seznamech filtrů, které mají používat AdGuard produkty založené na knihovně CoreLibs, se nedoporučuje používat <code>$ping</code>.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="script-modifier"><strong><code>$script</code></strong><a class="hash-link" href="#script-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Pravidlo odpovídá požadavkům na skripty, např. javascript, vbscript.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="stylesheet-modifier"><strong><code>$stylesheet</code></strong><a class="hash-link" href="#stylesheet-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Pravidlo odpovídá požadavkům na soubory CSS.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="subdocument-modifier"><strong><code>$subdocument</code></strong><a class="hash-link" href="#subdocument-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Pravidlo odpovídá požadavkům na vestavěné stránky — značky HTML <code>frame</code> a <code>iframe</code>.</p><p><strong>Příklady</strong></p><ul><li><code>||example.com^$subdocument</code> blokuje integrované požadavky (<code>frame</code> a <code>iframe</code>) na <code>example.com</code> a všechny její subdomény kdekoli.</li><li><code>||example.com^$subdocument,domain=domain.com</code> blokuje integrované požadavky (<code>frame</code> и <code>iframe</code>) na <code>example.com</code> (a její subdomény) z <code>domain.com</code> a všech jejích subdomén.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="websocket-modifier"><strong><code>$websocket</code></strong><a class="hash-link" href="#websocket-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Pravidlo se vztahuje pouze na připojení WebSocket.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Modifikátor <code>$websocket</code> je podporován ve všech produktech AdGuardu kromě Blokátoru obsahu AdGuard. Pokud jde o AdGuard pro Safari a AdGuard pro iOS, je podporován v zařízeních s macOS Monterey (verze 12) a iOS 16 nebo novějším.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="xmlhttprequest-modifier"><strong><code>$xmlhttprequest</code></strong><a class="hash-link" href="#xmlhttprequest-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Pravidlo se vztahuje pouze na požadavky ajax (požadavky odeslané prostřednictvím objektu javascript <code>XMLHttpRequest</code>).</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>AdGuard pro Windows, Mac a Android při filtrování starších prohlížečů nedokáže přesně detekovat tento typ a někdy jej detekuje jako <a href="#other-modifier"><code>$other</code></a> nebo <a href="#script-modifier"><code>$script</code></a>. Tento typ obsahu mohou spolehlivě detekovat pouze při filtrování moderních prohlížečů, které podporují <a href="https://developer.mozilla.org/en-US/docs/Glossary/Fetch_metadata_request_header" target="_blank" rel="noopener noreferrer">Záhlaví požadavku na načtení metadat</a>.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="object-subrequest-modifier"><strong><code>$object-subrequest</code> (odstraněno)</strong><a class="hash-link" href="#object-subrequest-modifier" title="Přímý odkaz na hlavičku">​</a></h4><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Upozornění na odstranění</div><div class="admonitionContent_S0QG"><p>Modifikátor <code>$object-subrequest</code> je odstraněn a již není podporován. Pravidla s tímto modifikátorem jsou považována za neplatná. Pravidlo odpovídá požadavkům pluginů prohlížeče (obvykle se jedná o Flash).</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="webrtc-modifier"><strong><code>$webrtc</code> (odstraněno)</strong><a class="hash-link" href="#webrtc-modifier" title="Přímý odkaz na hlavičku">​</a></h4><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Upozornění na odstranění</div><div class="admonitionContent_S0QG"><p>Tento modifikátor je odstraněn a již není podporován. Pravidla s tímto modifikátorem jsou považována za neplatná. Pokud potřebujete potlačit WebRTC, zvažte použít <code>nowebrtc</code> <a href="#scriptlets">scriptlet</a>.</p></div></div><p>Pravidlo se vztahuje pouze na připojení WebRTC.</p><p><strong>Příklady</strong></p><ul><li><code>||example.com^$webrtc,domain=example.org</code> blokuje připojení webRTC na <code>example.com</code> pro <code>example.org</code>.</li><li><code>@@*$webrtc,domain=example.org</code> zakáže RTC wrapper pro <code>example.org</code>.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exception-modifiers">Modifikátory pravidel pro výjimky<a class="hash-link" href="#exception-modifiers" title="Přímý odkaz na hlavičku">​</a></h3><ul><li><a href="#content-modifier"><code>$content</code></a></li><li><a href="#elemhide-modifier"><code>$elemhide</code></a></li><li><a href="#extension-modifier"><code>$extension</code></a></li><li><a href="#jsinject-modifier"><code>$jsinject</code></a></li><li><a href="#stealth-modifier"><code>$stealth</code></a></li><li><a href="#urlblock-modifier"><code>$urlblock</code></a></li><li><a href="#exception-modifiers-generic-rules">Generická pravidla</a><ul><li><a href="#genericblock-modifier"><code>$genericblock</code></a></li><li><a href="#generichide-modifier"><code>$generichide</code></a></li><li><a href="#specifichide-modifier"><code>$specifichide</code></a></li></ul></li></ul><p>Pravidla výjimek deaktivují ostatní základní pravidla pro adresy, kterým odpovídají. Začínají značkou <code>@@</code>. Lze na ně aplikovat všechny výše uvedené základní modifikátory a mají také několik speciálních modifikátorů.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Vizuální znázornění</div><div class="admonitionContent_S0QG"><p>Doporučujeme také seznámit se s <a href="https://adblockplus.org/filter-cheatsheet#blocking" target="_blank" rel="noopener noreferrer">tímto článkem</a>, abyste lépe pochopili, jak taková pravidla vytvářet.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="content-modifier"><strong><code>$content</code></strong><a class="hash-link" href="#content-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Zakáže <a href="#html-filtering-rules">filtrování HTML</a>, pravidla <a href="#hls-modifier"><code>$hls</code></a>, <a href="#replace-modifier"><code>$replace</code></a> a <a href="#jsonprune-modifier"><code>$jsonprune</code></a> na stránkách, které odpovídají pravidlu.</p><p><strong>Příklady</strong></p><ul><li><code>@@||example.com^$content</code> zakáže všechna pravidla pro úpravu obsahu na stránkách <code>example.com</code> a všech jích subdoménách.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="elemhide-modifier"><strong><code>$elemhide</code></strong><a class="hash-link" href="#elemhide-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Zakáže jakákoliv <a href="#cosmetic-rules">kosmetická pravidla</a> na stránkách odpovídajících pravidlu.</p><p><strong>Příklady</strong></p><ul><li><code>@@||example.com^$elemhide</code> zakáže všechna kosmetická pravidla na <code>example.com</code> a všech subdoménách.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extension-modifier"><strong><code>$extension</code></strong><a class="hash-link" href="#extension-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Zakáže konkrétní uživatelské skripty nebo všechny uživatelské skripty pro danou doménu.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$extension[=&quot;userscript_name1&quot;[|&quot;userscript_name2&quot;[|&quot;userscript_name3&quot;[...]]]]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>userscript_name(i)</code> označuje konkrétní název uživatelského skriptu, který má být modifikátorem zakázán. Modifikátor může obsahovat libovolný počet názvů uživatelských skriptů nebo je nemusí obsahovat vůbec. V druhém případě modifikátor zakáže všechny uživatelské skripty.</p><p>Názvy uživatelských skriptů obvykle obsahují mezery nebo jiné speciální znaky, proto byste měli název uzavřít do uvozovek. Podporovány jsou jednoduché (<code>&#x27;</code>) i dvojité (<code>&quot;</code>) uvozovky ASCII. Více názvů uživatelských skriptů by mělo být odděleno svislou čarou (<code>|</code>). Pokud je však název uživatelského skriptu tvořen jedním slovem bez speciálních znaků, lze jej použít bez uvozovek.</p><p>Uživatelské skripty můžete také vyloučit přidáním znaku <code>~</code> před hodnotu. V tomto případě nebude uživatelský skript modifikátorem zakázán.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$extension=~&quot;userscript name&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>POZNÁMKA:</strong> když vyloučíte uživatelský skript, musíte umístit znak <code>~</code> mimo uvozovky.</p><p>Pokud název uživatelského skriptu obsahuje uvozovky (<code>&quot;</code>), čárky (<code>,</code>) nebo svislé čáry (<code>|</code>), musí být uvozen zpětným lomítkem (<code>\</code>).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$extension=&quot;userscript name\, with \&quot;quote\&quot;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Příklady</strong></p><ul><li><code>@@||example.com^$extension=&quot;AdGuard Assistant&quot;</code> zakáže uživatelský skript <code>AdGuard asistent</code> na <code>example.com</code>.</li><li><code>@@||example.com^$extension=MyUserscript</code> zakáže uživatelský skript <code>MyUserscript</code> na <code>example.com</code>.</li><li><code>@@||example.com^$extension=&#x27;AdGuard Assistant&#x27;|&#x27;Popup Blocker&#x27;</code> zakáže uživatelské skripty <code>AdGuard asistent</code> a <code>Blokátor vyskakovacích oken</code> na <code>example.com</code>.</li><li><code>@@||example.com^$extension=~&quot;AdGuard Assistant&quot;</code> zakáže všechny uživatelské skripty na <code>example.com</code>, kromě <code>AdGuard asistenta</code>.</li><li><code>@@||example.com^$extension=~&quot;AdGuard Assistant&quot;|~&quot;Popup Blocker&quot;</code> zakáže všechny uživatelské skripty na <code>example.com</code>, kromě <code>AdGuard asistenta</code> a <code>Blokátor vyskakovacích oken</code>.</li><li><code>@@||example.com^$extension</code> žádné uživatelské skripty nebudou fungovat na <code>example.com</code>.</li><li><code>@@||example.com^$extension=&quot;AdGuard \&quot;Assistant\&quot;&quot;</code> zakáže uživatelský skript <code>AdGuard &quot;Asistant&quot;</code> na <code>example.com</code>.</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><ul><li>Pouze AdGuard pro Windows, Mac a Android jsou technicky schopné používat pravidla s modifikátorem <code>$extension</code>.</li><li>Modifikátor se specifickým názvem uživatelského skriptu <code>$extension</code> je podporován AdGuardem pro Windows, Mac a Android, <strong>s knihovnou CoreLibs verze 1.13 nebo novější</strong>.</li></ul></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="jsinject-modifier"><strong><code>$jsinject</code></strong><a class="hash-link" href="#jsinject-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Zakazuje přidávání javascriptového kódu na stránku. O pravidlech skripletů a javascriptu si můžete přečíst dále.</p><p><strong>Příklady</strong></p><ul><li><code>@@||example.com^$jsinject</code> zakáže javasript na <code>example.com</code> a všech subdoménách.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="stealth-modifier"><strong><code>$stealth</code></strong><a class="hash-link" href="#stealth-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Zakáže modul Režim utajení pro všechny odpovídající stránky a požadavky.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$stealth [= opt1 [| opt2 [| opt3 [...]]]]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>opt(i)</code> znamená určité možnosti Režimu utajení deaktivované modifikátorem. Modifikátor může obsahovat libovolný počet možností (viz níže) nebo je nemusí obsahovat vůbec. V druhém případě modifikátor vypne všechny funkce Režimu utajení.</p><p>Seznam dostupných možností modifikátoru:</p><ul><li><code>searchqueries</code> zakáže možnost <a href="/KnowledgeBase/cs/general/stealth-mode/#searchqueries"><strong>Skrýt vyhledávací dotazy</strong></a></li><li><code>donottrack</code> zakáže možnost <a href="/KnowledgeBase/cs/general/stealth-mode/#donottrack"><strong>Odeslat záhlaví Do-Not-Track</strong></a></li><li><code>3p-cookie</code> zakáže možnost <a href="/KnowledgeBase/cs/general/stealth-mode/#3p-cookie"><strong>Automatické odstranění cookies třetích stran</strong></a></li><li><code>1p-cookie</code> zakáže možnost <a href="/KnowledgeBase/cs/general/stealth-mode/#1p-cookie"><strong>Automatické odstranění cookies aktuální stránky</strong></a></li><li><code>3p-cache</code> zakáže možnost <a href="/KnowledgeBase/cs/general/stealth-mode/#3p-cache"><strong>Zakázat mezipaměť pro požadavky třetích stran</strong></a></li><li><code>3p-auth</code> zakáže možnost <a href="/KnowledgeBase/cs/general/stealth-mode/#3p-auth"><strong>Blokovat autorizační hlavičku třetích stran</strong></a></li><li><code>webrtc</code> zakáže možnost <a href="/KnowledgeBase/cs/general/stealth-mode/#webrtc"><strong>Blokovat WebRTC</strong></a></li><li><code>push</code> zakáže možnost <a href="/KnowledgeBase/cs/general/stealth-mode/#push"><strong>Blokovat Push API</strong></a></li><li><code>location</code> zakáže možnost <a href="/KnowledgeBase/cs/general/stealth-mode/#location"><strong>Blokovat lokalizační API</strong></a></li><li><code>flash</code> zakáže možnost <a href="/KnowledgeBase/cs/general/stealth-mode/#flash"><strong>Blokovat Flash</strong></a></li><li><code>java</code> zakáže možnost <a href="/KnowledgeBase/cs/general/stealth-mode/#java"><strong>Blokovat Java</strong></a></li><li><code>referrer</code> zakáže možnost <a href="/KnowledgeBase/cs/general/stealth-mode/#miscellaneous"><strong>Skrýt třetím stranám referenční ID</strong></a></li><li><code>useragent</code> zakáže možnost <a href="/KnowledgeBase/cs/general/stealth-mode/#useragent"><strong>Skrýt agenta (identifikaci) Vašeho prohlížeče</strong></a></li><li><code>ip</code> zakáže možnost <a href="/KnowledgeBase/cs/general/stealth-mode/#ip"><strong>Skrýt IP adresu</strong></a></li><li><code>xclientdata</code> zakáže možnost <a href="/KnowledgeBase/cs/general/stealth-mode/#xclientdata"><strong>Odstranit X-Client-Data hlavičku z požadavků HTTP</strong></a></li><li><code>dpi</code> zakáže možnost <a href="/KnowledgeBase/cs/general/stealth-mode/#dpi"><strong>Ochrana před DPI</strong></a></li></ul><p><strong>Příklady</strong></p><ul><li><code>@@||example.com^$stealth</code> zakáže Režim utajení pro požadavky <code>example.com</code> (a subdomény) s výjimkou blokování cookies a skrytí sledovacích parametrů (viz níže).</li><li><code>@@||domain.com^$script,stealth,domain=example.com</code> zakáže Režim utajení pouze pro požadavky skriptů na <code>domain.com</code> (a subdoménách) na <code>example.com</code> a subdoménách.</li><li><code>@@||example.com^$stealth=3p-cookie|dpi</code> zakáže blokování cookies třetích stran a opatření pro oklamání DPI pro <code>example.com</code>.</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Blokování cookies a odstranění sledovacích parametrů se provádí pomocí pravidel s modifikátory <a href="#cookie-modifier"><code>$cookie</code></a> a <a href="#removeparam-modifier"><code>$removeparam</code></a>. Pravidla výjimek pouze s modifikátorem <code>$stealth</code> tyto věci neudělají. Pokud chcete pro danou doménu zcela zakázat všechny funkce Režimu utajení, musíte uvést všechny tři modifikátory: <code>@@||example.org^$stealth,removeparam,cookie</code></p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><ul><li>Režim utajení je k dispozici v AdGuardu pro Windows, Mac, Android a Rozšíření prohlížeče AdGuard. Všechny ostatní produkty budou ignorovat pravidla s modifikátorem <code>$stealth</code>.</li><li>Modifikátor <code>$stealth</code> je podporován AdGuardem pro Windows, Mac a Android, <strong>s knihovnou CoreLibs verze 1.10 nebo novější</strong>.</li></ul></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="urlblock-modifier"><strong><code>$urlblock</code></strong><a class="hash-link" href="#urlblock-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Zakáže blokování všech požadavků odeslaných ze stránek, které odpovídají pravidlu a zakáže všechna pravidla <a href="#cookie-modifier"><code>$cookie</code></a>.</p><p><strong>Příklady</strong></p><ul><li><code>@@||example.com^$urlblock</code> — nebudou blokovány žádné požadavky odeslané z <code>example.com</code> a ze všech subdomén.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exception-modifiers-generic-rules">Generická pravidla<a class="hash-link" href="#exception-modifiers-generic-rules" title="Přímý odkaz na hlavičku">​</a></h4><p>Než budeme moci přistoupit k dalším modifikátorům, musíme provést definici <em>generických pravidel</em>. Pravidlo je generické, pokud není omezeno na konkrétní domény. Podporován je také zástupný znak <code>*</code>.</p><p>Například tato pravidla jsou generická:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">###banner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*###banner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#@#.adsblock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*#@#.adsblock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">~domain.com###banner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||domain.com^</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||domain.com^$domain=~example.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A tato nejsou:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">domain.com###banner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||domain.com^$domain=example.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="genericblock-modifier"><strong><code>$genericblock</code></strong><a class="hash-link" href="#genericblock-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Zakáže generická základní pravidla na stránkách, které odpovídají pravidlu výjimky.</p><p><strong>Příklady</strong></p><ul><li><code>@@||example.com^$genericblock</code> zakáže generická základní pravidla na <code>example.com</code> a všech subdoménách.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="generichide-modifier"><strong><code>$generichide</code></strong><a class="hash-link" href="#generichide-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Zakáže všechna generická <a href="#cosmetic-rules">kosmetická pravidla</a> na stránkách, které odpovídají pravidlu výjimky.</p><p><strong>Příklady</strong></p><ul><li><code>@@||example.com^$generichide</code> zakáže všechna kosmetická pravidla na <code>example.com</code> a jejích subdoménách.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="specifichide-modifier"><strong><code>specifichide</code></strong><a class="hash-link" href="#specifichide-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Zakáže všechna specifická pravidla pro skrývání prvků a CSS, ale ne obecná pravidla. Má opačný účinek než <a href="#generichide-modifier"><code>$generichide</code></a>.</p><p><strong>Příklady</strong></p><ul><li><code>@@||example.org^$specifichide</code> zakáže <code>example.org##.banner</code>, ale ne <code>##.banner</code>.</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Všechna kosmetická pravidla — nejen ta specifická — lze zakázat pomocí modifikátoru <a href="#elemhide-modifier"><code>$elemhide</code></a>.</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$specifichide</code> <strong>nejsou podporována</strong> AdGuardem pro iOS a Safari.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pokročilé-schopnosti">Pokročilé schopnosti<a class="hash-link" href="#pokročilé-schopnosti" title="Přímý odkaz na hlavičku">​</a></h3><ul><li><a href="#all-modifier"><code>$all</code></a></li><li><a href="#badfilter-modifier"><code>$badfilter</code></a></li><li><a href="#cookie-modifier"><code>$cookie</code></a></li><li><a href="#csp-modifier"><code>$csp</code></a></li><li><a href="#hls-modifier"><code>$hls</code></a></li><li><a href="#inline-font-modifier"><code>$inline-font</code></a></li><li><a href="#inline-script-modifier"><code>$inline-script</code></a></li><li><a href="#jsonprune-modifier"><code>$jsonprune</code></a></li><li><a href="#network-modifier"><code>$network</code></a></li><li><a href="#permissions-modifier"><code>$permissions</code></a></li><li><a href="#redirect-modifier"><code>$redirect</code></a></li><li><a href="#redirect-rule-modifier"><code>$redirect-rule</code></a></li><li><a href="#referrerpolicy-modifier"><code>$referrerpolicy</code></a></li><li><a href="#removeheader-modifier"><code>$removeheader</code></a></li><li><a href="#removeparam-modifier"><code>$removeparam</code></a></li><li><a href="#replace-modifier"><code>$replace</code></a></li><li><a href="#noop-modifier"><code>noop</code></a></li><li><a href="#empty-modifier"><code>$empty</code> (zastaralé)</a></li><li><a href="#mp4-modifier"><code>$mp4</code> (zastaralé)</a></li></ul><p>Tyto modifikátory mohou zcela změnit chování základních pravidel.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="all-modifier"><strong><code>$all</code></strong><a class="hash-link" href="#all-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p><code>$all</code> modifikátor je složen ze <a href="#content-type-modifiers">všech modifikátorů typů obsahu</a> a <a href="#popup-modifier"><code>$popup</code></a>. Např. pravidlo <code>||example.org^$all</code> se převádí na pravidlo:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^$document,subdocument,font,image,media,object,other,ping,script,stylesheet,websocket,xmlhttprequest,popup</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Tento modifikátor nelze použít jako výjimku se znakem <code>@@</code>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="badfilter-modifier"><strong><code>$badfilter</code></strong><a class="hash-link" href="#badfilter-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Pravidla s modifikátorem <code>$badfilter</code> vypnou ostatní základní pravidla, na která se vztahují. To znamená, že text vypnutého pravidla by měl odpovídat textu pravidla <code>$badfilter</code> (bez modifikátoru <code>$badfilter</code>).</p><p><strong>Příklady</strong></p><ul><li><code>||example.com$badfilter</code> zakáže <code>||example.com</code></li><li><code>||example.com$image,badfilter</code> zakáže <code>||example.com$image</code></li><li><code>@@||example.com$badfilter</code> zakáže <code>@@||example.com</code></li><li><code>||example.com$domain=domain.com,badfilter</code> zakáže <code>||example.com$domain=domain.com</code></li></ul><p>Pravidla s modifikátorem <code>$badfilter</code> mohou zakázat další základní pravidla pro konkrétní domény, pokud splňují následující podmínky:</p><ol><li>Pravidlo má modifikátor <code>$domain</code>.</li><li>Pravidlo nemá hodnotu modifikátoru negované domény <code>~</code> v <code>$domain</code>.</li></ol><p>V takovém případě pravidlo <code>$badfilter</code> zakáže odpovídající pravidlo pro domény uvedené v pravidlech <code>$badfilter</code> i v základních pravidlech. Upozorňujeme, že <a href="#wildcard-for-tld">logika zástupných znaků TLD</a> funguje i zde.</p><p><strong>Příklady</strong></p><ul><li><code>/some$domain=example.com|example.org|example.io</code> je zakázána pro <code>example.com</code> pomocí <code>/some$domain=example.com,badfilter</code></li><li><code>/some$domain=example.com|example.org|example.io</code> ije zakázána pro <code>example.com</code> a <code>example.org</code> pomocí <code>/some$domain=example.com|example.org,badfilter</code></li><li><code>/some$domain=example.com|example.org</code> a <code>/some$domain=example.io</code> jsou kompletně zakázány pomocí <code>/some$domain=example.com|example.org|example.io,badfilter</code></li><li><code>/some$domain=example.com|example.org|example.io</code> je kompletně zakázána pomocí <code>/some$domain=example.*,badfilter</code></li><li><code>/some$domain=example.*</code> je zakázána pro <code>example.com</code> a <code>example.org</code> pomocí <code>/some$domain=example.com|example.org,badfilter</code></li><li><code>/some$domain=example.com|example.org|example.io</code> NENÍ zakázána pro <code>example.com</code> pomocí <code>/some$domain=example.com|~example.org,badfilter</code>, protože hodnota modifikátoru <code>$domain</code> obsahuje negovanou doménu</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$badfilter</code> nejsou Blokátorem obsahu AdGuard podporována.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cookie-modifier"><strong><code>$cookie</code></strong><a class="hash-link" href="#cookie-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Modifikátor <code>$cookie</code> zcela mění chování pravidla. Namísto blokování požadavku, tento modifikátor potlačí AdGuard nebo změní záhlaví <code>Cookie</code> a <code>Set-Cookie</code>.</p><p><strong>Vícenásobná pravidla odpovídajících jednomu požadavku</strong></p><p>V případě, že jednomu požadavku odpovídá více pravidel <code>$cookie</code>, použijeme každé z nich.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$cookie [= name[; maxAge = seconds [; sameSite = strategy ]]]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>kde:</p><ul><li><strong><code>name</code></strong> — nepovinné, řetězec nebo regulární výraz pro přiřazení názvu cookie.</li><li><strong><code>seconds</code></strong> — počet sekund aktuálního času pro posunutí data vypršení platnosti souboru cookie.</li><li><strong><code>strategy</code></strong> — řetězec pro strategii použití cookie <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite" target="_blank" rel="noopener noreferrer">Same-Site</a>.</li></ul><p>Např.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^$cookie=NAME;maxAge=3600;sameSite=lax</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>pokaždé, když AdGuard narazí na cookie s názvem <code>NAME</code> v požadavku na <code>example.org</code>, provede následující kroky:</p><ul><li>Nastaví datum vypršení platnosti na aktuální čas plus <code>3600</code> sekund</li><li>Přiměje cookie použít &quot;laxní&quot; strategii <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite" target="_blank" rel="noopener noreferrer">Same-Site</a>.</li></ul><p><strong>Uvození speciálních znaků</strong></p><p>Pokud je pro porovnání použit regulární výraz <code>name</code>, musí být dva znaky uvozeny: čárka <code>,</code> a znak dolaru <code>$</code>. Každý z nich označte zpětným lomítkem <code>\</code>. Např. uvozená čárka vypadá takto: <code>\,</code>.</p><p><strong>Příklady</strong></p><ul><li><code>||example.org^$cookie</code> blokuje <strong>všechny</strong> soubory cookie nastavené doménou <code>example.org</code>; to je ekvivalent nastavení <code>maxAge=0</code></li><li><code>$cookie=__cfduid</code> blokuje všude soubory cookie CloudFlare</li><li><code>$cookie=/__utm[a-z]/</code> blokuje všude soubory cookie Google Analytics</li><li><code>||facebook.com^$third-party,cookie=c_user</code> brání Facebooku ve sledování, i když jste přihlášeni</li></ul><p>Existují dva způsoby, jak deaktivovat pravidla <code>$cookie</code>: primární metoda zahrnuje použití výjimky označené <code>@@</code> — <code>@@||example.org^$cookie</code>. Alternativní metoda využívá výjimku <code>$urlblock</code> (také zahrnutou pod aliasem výjimky <code>$document</code> — <code>$elemhide,jsinject,content,urlblock,extension</code>). Funguje to takto:</p><ul><li><code>@@||example.org^$cookie</code> odblokuje všechny soubory cookie nastavené doménou <code>example.org</code></li><li><code>@@||example.org^$urlblock</code> odblokuje všechny cookies nastavené doménou <code>example.org</code> a zakáže blokování všech požadavků odeslaných z <code>example.org</code></li><li><code>@@||example.org^$cookie=concept</code> odblokuje jeden soubor cookie s názvem <code>concept</code></li><li><code>@@||example.org^$cookie=/^_ga_/</code> odblokuje každý soubor cookie, který odpovídá regulárnímu výrazu</li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><p>Pravidla <code>$cookie</code> podporují omezený seznam modifikátorů: <code>$domain</code>, <code>$~domain</code>, <code>$important</code>, <code>$third-party</code> a <code>$~third-party</code>.</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$cookie</code> nejsou podporována Blokátorem obsahu AdGuard, AdGuardem pro iOS a Safari.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="csp-modifier"><strong><code>$csp</code></strong><a class="hash-link" href="#csp-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Tento modifikátor zcela mění chování pravidla. Pokud je použitý na pravidlo, pravidlo nezablokuje odpovídající požadavek. Namísto toho se upraví záhlaví odpovědí.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>informace</div><div class="admonitionContent_S0QG"><p>Pro použití tohoto typu pravidel je nutné mít základní znalosti o vrstvě zabezpečení <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy" target="_blank" rel="noopener noreferrer">Content Security Policy</a>.</p></div></div><p>U požadavků, které odpovídají pravidlu <code>$csp</code>, posílíme zásady zabezpečení odezvy posílením zásad zabezpečení obsahu, podobně jako u zásad zabezpečení obsahu modifikátoru obsahu <code>$csp</code>. Pravidla <code>$csp</code> jsou aplikována nezávisle na jakémkoli jiném typu pravidla. Ostatní základní pravidla na to nemají žádný vliv, <strong>kromě výjimek na úrovni dokumentu</strong> (viz část s příklady níže).</p><p><strong>Vícenásobná pravidla odpovídajících jednomu požadavku</strong></p><p>V případě, že jednomu požadavku odpovídá více pravidel <code>$csp</code>, použijeme každé z nich.</p><p><strong>Syntaxe</strong></p><p>Syntaxe hodnoty <code>$csp</code> je podobná syntaxi záhlaví Content Security Policy.</p><p>Hodnota <code>$csp</code> může být v případě pravidel pro výjimky prázdná. Viz níže uvedený oddíl s příklady.</p><p><strong>Příklady</strong></p><ul><li><code>||example.org^$csp=frame-src &#x27;none&#x27;</code> blokuje všechny obrázky na example.org a jejích subdoménách.</li><li><code>@@||example.org/page/*$csp=frame-src &#x27;none&#x27;</code> zakáže všechna pravidla s modifikátorem <code>$csp</code> přesně odpovídajícím příznakem <code>frame-src &#x27;none&#x27;</code> na všech stránkách odpovídajících vzoru pravidla. Např. výše uvedené pravidlo.</li><li><code>@@||example.org/page/*$csp</code> zakáže všechna pravidla <code>$csp</code> na všech stránkách odpovídajících vzoru pravidla.</li><li><code>||example.org^$csp=script-src &#x27;self&#x27; &#x27;unsafe-eval&#x27; http: https:</code> zakáže vložené skripty na všech stránkách odpovídajících vzoru pravidla.</li><li><code>@@||example.org^$document</code> nebo <code>@@||example.org^$urlblock</code> zakáží všechna pravidla <code>$csp</code> na všech stránkách odpovídajících vzoru pravidla.</li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><ul><li>V hodnotě <code>$csp</code> je zakázáno několik znaků: <code>,</code>, <code>$</code>.</li><li>Pravidla <code>$csp</code> podporují omezený seznam modifikátorů: <code>$domain</code>, <code>$important</code>, <code>$subdocument</code>.</li><li>Pravidla s direktivami <code>report-*</code> jsou považována za neplatná.</li></ul></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$csp</code> nejsou podporována Blokátorem obsahu AdGuard, AdGuardem pro iOS a Safari.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="hls-modifier"><strong><code>$hls</code></strong><a class="hash-link" href="#hls-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Pravidla <code>$hls</code> upravují odpověď na shodný požadavek. Jsou určena k pohodlnému odstraňování segmentů ze seznamů stop <a href="https://datatracker.ietf.org/doc/html/rfc8216" target="_blank" rel="noopener noreferrer">HLS playlists (RFC 8216)</a>.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Slovo &quot;segment&quot; v tomto dokumentu znamená buď &quot;mediální segment&quot; nebo &quot;seznam skladeb&quot; jako součást &quot;hlavního seznamu skladeb&quot;: pravidla <code>$hls</code> nerozlišují mezi &quot;hlavním seznamem skladeb&quot; a &quot;mediálním seznamem skladeb&quot;.</p></div></div><p><strong>Syntaxe</strong></p><ul><li><code>||example.org^$hls=urlpattern</code> odstraní segmenty, jejichž adresa URL odpovídá vzoru adresy URL <code>urlpattern</code>. Vzor funguje stejně jako v základních pravidlech pro URL adresy, ale znaky <code>/</code>, <code>$</code> a <code>,</code> musí být uvozeny pomocí <code>\</code> uvnitř <code>urlpattern</code>.</li><li><code>||example.org^$hls=/regexp/options</code> odstraní segmenty, kde URL nebo jeden ze znaků (u určitých možností, pokud jsou přítomny) odpovídá regulárnímu výrazu <code>regexp</code>. K dispozici jsou tyto možnosti <code>options</code>:<ul><li><code>t</code> — namísto testování adresy URL segmentu otestujte každý znak segmentu podle regulárního výrazu. Segment se shodným znakem je odstraněn;</li><li><code>i</code> — regulární výraz nerozlišuje velká a malá písmena.</li></ul></li></ul><p>Znaky <code>/</code>, <code>$</code> a <code>,</code> musí být uvozeny pomocí <code>\</code> uvnitř <code>regexp</code>.</p><p><strong>Výjimky</strong></p><p>Základní výjimky URL nesmí zakázat pravidla s modifikátorem <code>$hls</code>. Lze je zakázat, jak je popsáno níže:</p><ul><li><code>@@||example.org^$hls</code> zakáže všechna pravidla <code>$hls</code> pro odpovědi z URL odpovídajících <code>||example.org^</code>.</li><li><code>@@||example.org^$hls=text</code> zakáže všechna pravidla <code>$hls</code> s hodnotou modifikátoru <code>$hls</code> shodným s <code>text</code> pro odpovědi z URL odpovídajících <code>||example.org^</code>.</li></ul><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Pravidla <code>$hls</code> lze také zakázat pravidly výjimek <code>$document</code>, <code>$content</code> a <code>$urlblock</code>.</p></div></div><p><strong>Omezení</strong></p><ul><li>Pravidla <code>$hls</code> jsou povolena pouze v důvěryhodných filtrech</li><li>Pravidla <code>$hls</code> jsou kompatibilní s modifikátory <code>$domain</code>, <code>$third- party</code>, <code>$app</code>, <code>$important</code>, <code>$match- case</code> a <code>$xmlhttprequest</code></li><li><code>$hls</code> pravidla platí pouze pro seznamy stop HLS, což je text kódovaný v UTF-8 začínající řádkem <code>#EXTM3U</code>. Jakákoli jiná odpověď nebude těmito pravidly upravena</li><li>Pravidla <code>$hls</code> neplatí, pokud je velikost původní odpovědi větší než 3 MB</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Když vícenásobná pravidla <code>$hls</code> odpovídají stejnému požadavku, jejich účinek je kumulativní.</p></div></div><p><strong>Příklady</strong></p><ul><li><code>||example.org^$hls=\/videoplayback^?*&amp;source=dclk_video_ads</code> odstraní všechny segmenty se shodnou URL.</li><li><code>||example.org^$hls=/\/videoplayback\/?\?.*\&amp;source=dclk_video_ads/i</code> dosáhne víceméně téhož pomocí regulárního výrazu namísto vzoru URL.</li><li><code>||example.org^$hls=/#UPLYNK-SEGMENT:.*\,ad/t</code> odstraní všechny segmenty, které mají odpovídající znak.</li></ul><p><strong>Anatomie seznamu stop HLS</strong></p><p>Rychlé shrnutí <a href="https://datatracker.ietf.org/doc/html/rfc8216" target="_blank" rel="noopener noreferrer">specifikace</a>:</p><ol><li>Seznam stop HLS je kolekce textových řádků.</li><li>Řádek může být prázdný, komentář (začíná <code>#</code>), znak (také začíná <code>#</code>, lze jej rozpoznat pouze podle názvu) nebo URL.</li><li>Řádek URL se nazývá &quot;segment&quot;.</li><li>Znaky se mohou vztahovat na jeden segment, tj. první řádek adresy URL za znakem, na všechny segmenty následující za znakem až do znaku se stejným názvem nebo na celý seznam skladeb.</li></ol><p>Některé specifické body týkající se fungování pravidel <code>$hls</code>:</p><ol><li>Při odstranění segmentu se odstraní také všechny znaky, které se vztahují pouze k tomuto segmentu.</li><li>Pokud se znak vztahuje na více segmentů a všechny tyto segmenty jsou odstraněny, je odstraněna i znak.</li><li>Protože neexistuje způsob, jak rozpoznat různé druhy znaků podle syntaxe, rozpoznáváme všechny znaky uvedené v RFC a některé nestandardní znaky, se kterými jsme se setkali v praxi. Všechny řádky začínající na <code>#</code>. Ty, které nejsou rozpoznány jako znak, jsou předány bez úprav a nejsou porovnávány s pravidly.</li><li>Nepřiřazujeme znaky, které se vztahují na celý seznam videí a pravidla <code>$hls</code> nelze použít k jejich odstranění, protože pravidla <code>$hls</code> jsou určena k odstranění segmentů. Pokud víte, co děláte, můžete pomocí pravidel <code>$replace</code> odstranit nebo přepsat pouze jeden znak ze seznamu skladeb.</li></ol><p><strong>Příklad transformace provedené podle pravidel:</strong></p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Původní odezva</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#EXTM3U</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#EXT-X-TARGETDURATION:10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#EXTINF,5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">preroll.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#UPLYNK-SEGMENT:abc123,ad</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#UPLYNK-KEY:aabb1122</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#EXT-X-DISCONTINUITY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#EXTINF,10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">01.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#EXTINF,10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">02.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#UPLYNK-SEGMENT:abc123,segment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#UPLYNK-KEY:ccdd2233</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#EXT-X-DISCONTINUITY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#EXTINF,10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">01.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#EXTINF,10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">02.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#EXT-X-ENDLIST</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Použitá pravidla</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^$hls=preroll</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^$hls=/#UPLYNK-SEGMENT:.*\,ad/t</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Modifikovaná odpověď</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#EXTM3U</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#EXT-X-TARGETDURATION:10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#UPLYNK-SEGMENT:abc123,segment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#UPLYNK-KEY:ccdd2233</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#EXT-X-DISCONTINUITY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#EXTINF,10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">01.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#EXTINF,10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">02.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#EXT-X-ENDLIST</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><ul><li>Pravidla <code>$hls</code> lze použít <a href="#trusted-filters"><strong>pouze v důvěryhodných filtrech</strong></a>.</li><li>Pravidla <code>$hls</code> jsou kompatibilní pouze s modifikátory <code>$domain</code>, <code>$third- party</code>, <code>$app</code>, <code>$important</code>, <code>$match- case</code> a <code>$xmlhttprequest</code>.</li><li><code>$hls</code> pravidla platí pouze pro seznamy stop HLS, což je text kódovaný v UTF-8 začínající řádkem <code>#EXTM3U</code>. Jakákoli jiná odpověď nebude těmito pravidly upravena.</li><li>Pravidla <code>$hls</code> neplatí, pokud je velikost původní odpovědi větší než 3 MB.</li></ul></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$hls</code> jsou podporována AdGuardem pro Windows, Mac a Android, <strong>s knihovnou CoreLibs verze 1.10 nebo novější</strong>.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="inline-script-modifier"><strong><code>$inline-script</code></strong><a class="hash-link" href="#inline-script-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Modifikátor <code>$inline-script</code> je jakousi zkratkou pro modifikátor <a href="#csp-modifier"><code>$csp</code></a> s konkrétní hodnotou. Např. pravidlo <code>||example.org^$inline-script</code> se převádí na takovou sadu pravidel:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^$csp=script-src &#x27;self&#x27; &#x27;unsafe-eval&#x27; http: https: data: blob: mediastream: filesystem:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="inline-font-modifier"><strong><code>$inline-font</code></strong><a class="hash-link" href="#inline-font-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Modifikátor <code>$inline-font</code> je jakousi zkratkou pro modifikátor <a href="#csp-modifier"><code>$csp</code></a> s konkrétní hodnotou. Např. pravidlo <code>||example.org^$inline-font</code> se převádí na takovou sadu pravidel:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^$csp=font-src &#x27;self&#x27; &#x27;unsafe-eval&#x27; http: https: data: blob: mediastream: filesystem:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="jsonprune-modifier"><strong><code>$jsonprune</code></strong><a class="hash-link" href="#jsonprune-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Pravidla <code>$jsonprune</code> upravují odpověď na odpovídající požadavek odstraněním položek JSON, které odpovídají upravenému výrazu <a href="https://goessner.net/articles/JsonPath/" target="_blank" rel="noopener noreferrer">JSONPath</a>. Nemění odpovědi, které nejsou platnými dokumenty JSON.</p><p>V AdGuardu pro Windows, Mac a Android <strong>s CoreLibs v1.11 nebo novější</strong>, podporuje <code>$jsonprune</code> také úpravu dokumentů JSONP (padded JSON).</p><p><strong>Syntaxe</strong></p><ul><li><code>||example.org^$jsonprune=expression</code> odstraní z odpovědi položky, které odpovídají upravenému výrazu JSONPath <code>expression</code>.</li></ul><p>Vzhledem k tomu, jak funguje rozbor pravidel, musí být znaky <code>$</code> a <code>,</code> uvozeny pomocí <code>\</code> uvnitř <code>expression</code>.</p><p>Upravená syntaxe JSONPath má oproti původní následující rozdíly:</p><ol><li>Výrazy skriptů nejsou podporovány.</li><li>Podporované výrazy filtrů jsou:<ul><li><code>?(has &lt;key&gt;)</code> — &quot;true&quot;, pokud má aktuální objekt zadaný klíč.</li><li><code>?(key-eq &lt;key&gt; &lt;value&gt;)</code> — &quot;true&quot;, pokud má aktuální objekt zadaný klíč a jeho hodnota se rovná zadané hodnotě.</li><li><code>?(key-substr &lt;key&gt; &lt;value&gt;)</code> — &quot;true&quot;, pokud je zadaná hodnota podřetězcem hodnoty zadaného klíče aktuálního objektu.</li></ul></li><li>Mezery mimo řetězce s dvojitými nebo jednoduchými uvozovkami nemají žádný význam.</li><li>Lze použít řetězce s dvojitými i jednoduchými uvozovkami.</li><li>Výrazy končící na <code>..</code> nejsou podporovány.</li><li>V hranatých závorkách lze zadat vícero dílků pole.</li></ol><p>Existují různé online nástroje, které usnadňují práci s výrazy JSONPath:</p><p><a href="https://www.site24x7.com/tools/jsonpath-finder-validator.html" target="_blank" rel="noopener noreferrer">https://www.site24x7.com/tools/jsonpath-finder-validator.html</a> <a href="https://jsonpathfinder.com/" target="_blank" rel="noopener noreferrer">https://jsonpathfinder.com/</a> <a href="https://jsonpath.com/" target="_blank" rel="noopener noreferrer">https://jsonpath.com/</a></p><p>Mějte však na paměti, že všechny implementace JSONPath mají jedinečné vlastnosti a jsou vzájemně nekompatibilní.</p><p><strong>Výjimky</strong></p><p>Základní výjimky URL nesmí zakázat pravidla s modifikátorem <code>$jsonprune</code>. Lze je zakázat, jak je popsáno níže:</p><ul><li><code>@@||example.org^$jsonprune</code> zakáže všechna pravidla <code>$jsonprune</code> pro odpovědi z URL odpovídajících <code>||example.org^</code>.</li><li><code>@@||example.org^$jsonprune=text</code> zakáže všechna pravidla <code>$jsonprune</code> s hodnotou modifikátoru <code>$jsonprune</code> shodným s <code>text</code> pro odpovědi z URL odpovídajících <code>||example.org^</code>.</li></ul><p>Pravidla <code>$jsonprune</code> lze také zakázat pravidly výjimek <code>$document</code>, <code>$content</code> a <code>$urlblock</code>.</p><p><strong>Omezení</strong></p><ul><li>Pravidla <code>$jsonprune</code> jsou kompatibilní s <code>$domain</code>, <code>$third- party</code>, <code>$app</code>, <code>$important</code>, <code>$match- case</code> a modifikátory <code>$xmlhttprequest</code>.</li><li>Pravidla <code>$jsonprune</code> neplatí, pokud je velikost původní odpovědi větší než 3 MB.</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Když vícenásobná pravidla <code>$jsonprune</code> odpovídají stejnému požadavku, jsou seřazena v lexikografickém pořadí, první pravidlo je aplikováno na původní odpověď a každé ze zbývajících pravidel je aplikováno na výsledek použití předchozího.</p></div></div><p><strong>Příklady</strong></p><ul><li><code>||example.org^$jsonprune=\$..[one\, &quot;two three&quot;]</code> odstraní všechny výskyty klíčů &quot;one&quot; a &quot;two three&quot; kdekoli v dokumentu JSON.</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Vstup</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;one&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;two&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;two three&quot;: 23,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;four five&quot;: 45</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Výstup</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;two&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;four five&quot;: 45</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><ul><li><code>||example.org^$jsonprune=\$.a[?(has ad_origin)]</code> odstraní všechny potomky <code>a</code>, které mají klíč <code>ad_origin</code>.</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Vstup</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;a&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;ad_origin&quot;: &quot;https://example.org&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;b&quot;: 42</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;b&quot;: 1234</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Výstup</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;a&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;b&quot;: 1234</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><ul><li><code>||example.org^$jsonprune=\$.*.*[?(key-eq &#x27;Some key&#x27; &#x27;Some value&#x27;)]</code> odstraní všechny položky, které jsou na úrovni vnoření 3 a mají vlastnost &quot;Some key&quot; rovnu &quot;Some value&quot;.</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Vstup</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;a&quot;: {&quot;b&quot;: {&quot;c&quot;: {&quot;Some key&quot;: &quot;Some value&quot;}, &quot;d&quot;: {&quot;Some key&quot;: &quot;Other value&quot;}}},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;e&quot;: {&quot;f&quot;: [{&quot;Some key&quot;: &quot;Some value&quot;}, {&quot;Some key&quot;: &quot;Other value&quot;}]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Výstup</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;a&quot;: {&quot;b&quot;: {&quot;d&quot;: {&quot;Some key&quot;: &quot;Other value&quot;}}},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;e&quot;: {&quot;f&quot;: [{&quot;Some key&quot;: &quot;Other value&quot;}]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><p><strong>Vnořené výrazy JSONPath</strong></p><p>V AdGuardu pro Windows, Mac a Android, <strong>s knihovnou CoreLibs v1.11 nebo novější</strong>, lze výrazy JSONPath použít jako klíče ve výrazech filtru.</p><ul><li><code>||example.org^$jsonprune=\$.elems[?(má &quot;\$.abc&quot;)]</code> odstraní všechny potomky <code>elems</code>, které mají vlastnost volitelnou výrazem JSONPath <code>$.abc</code>.</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Vstup</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;elems&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;a&quot;: {&quot;b&quot;: {&quot;c&quot;: 123}},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;k&quot;: &quot;v&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;d&quot;: {&quot;e&quot;: {&quot;f&quot;: 123}},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;k1&quot;: &quot;v1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Výstup</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;elems&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;d&quot;: {&quot;e&quot;: {&quot;f&quot;: 123}},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;k1&quot;: &quot;v1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><ul><li><code>||example.org^$jsonprune=\$.elems[?(key-eq &quot;\$.a.b.c&quot; &quot;abc&quot;)]</code> odstraní všechny potomky <code>elems</code>, které mají vlastnost volitelnou pomocí výrazu JSONPath <code>$.a.b.c</code> s hodnotou rovnou <code>&quot;abc&quot;</code>.</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Vstup</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;elems&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;a&quot;: {&quot;b&quot;: {&quot;c&quot;: 123}},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;a&quot;: {&quot;b&quot;: {&quot;c&quot;: &quot;abc&quot;}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Výstup</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;elems&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;a&quot;: {&quot;b&quot;: {&quot;c&quot;: 123}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><ul><li>Pravidla <code>$jsonprune</code> jsou kompatibilní s těmito specifickými modifikátory <code>$domain</code>, <code>$third-party</code>, <code>$app</code>, <code>$important</code>, <code>$match-case</code> a <code>$xmlhttprequest</code>.</li><li>Pravidla <code>$jsonprune</code> neplatí, pokud je velikost původní odpovědi větší než 3 MB.</li></ul></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$jsonprune</code> jsou podporována AdGuardem pro Windows, Mac a Android, <strong>s knihovnou CoreLibs verze 1.10 nebo novější</strong>.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="network-modifier"><strong><code>$network</code></strong><a class="hash-link" href="#network-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Jedná se v podstatě o pravidla typu brány Firewall, která umožňují plně zablokovat nebo odblokovat přístup na zadanou vzdálenou adresu.</p><ol><li>Pravidla <code>$network</code> odpovídají <strong>pouze IP adresám</strong>! Nelze je použít k zablokování nebo odblokování přístupu k doméně.</li><li>Chcete-li se shodovat s adresou IPv6, musíte použít sbalenou syntaxi, např. <code>[2001:4860:4860::8888]$network</code> namísto <code>[2001:4860:4860:0:0:0:0:8888]$network</code>.</li><li>Pravidlo seznamu povolených <code>$network</code> způsobí, že AdGuard bude obcházet data odpovídajícího koncového bodu, např. nebude provádět žádné další filtrování.</li><li>Pokud část IP začíná a končí znakem <code>/</code>, je považována za regulární výraz.</li></ol><p>Pro lepší pochopení regulárních výrazů doporučujeme seznámit se s tímto <a href="#regexp-support">článkem</a>.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><p>The <code>$network</code> modifier can only be used in rules together with the <code>$app</code> and <code>$important</code> modifiers, and not with any other modifiers.</p></div></div><p><strong>Příklady</strong></p><ul><li><code>174.129.166.49:3478^$network</code> blokuje přístup k <code>174.129.166.49:3478</code> (ale ne k <code>174.129.166.49:34788</code>).</li><li><code>[2001:4860:4860::8888]:443^$network</code> blokuje přístup k <code>[2001:4860:4860::8888]:443</code>.</li><li><code>174.129.166.49$network</code> blokuje přístup k <code>174.129.166.49:*</code>.</li><li><code>@@174.129.166.49$network</code> způsobí, že AdGuard bude koncovému bodu předávat data. Žádná jiná pravidla se neuplatňují.</li><li><code>/.+:3[0-9]{4}/$network</code> blokuje přístup k libovolnému portu od 30000 do 39999.</li><li><code>/8.8.8.(:?8|4)/$network</code> blokuje přístup k <code>8.8.8.8</code> a <code>8.8.8.4</code>.</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pouze AdGuard pro Windows, Mac a Android jsou technicky schopné používat pravidla s modifikátorem <code>$network</code>.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="permissions-modifier"><strong><code>$permissions</code></strong><a class="hash-link" href="#permissions-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Tento modifikátor zcela mění chování pravidla. Pokud je použitý na pravidlo, pravidlo nezablokuje odpovídající požadavek. Namísto toho se upraví záhlaví odpovědí.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>informace</div><div class="admonitionContent_S0QG"><p>Pro použití tohoto typu pravidel je nutné mít základní znalosti o vrstvě zabezpečení <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Permissions_Policy" target="_blank" rel="noopener noreferrer">Permissions Policy</a>.</p></div></div><p>U požadavků, které odpovídají pravidlu <code>$permissions</code>, AdGuard posiluje zásady funkcí odpovědi přidáním dalších zásad oprávnění, které se rovnají obsahu modifikátoru <code>$permissions</code>. Pravidla <code>$permissions</code> jsou aplikována nezávisle na jakémkoli jiném typu pravidla. Ostatní základní pravidla na to nemají žádný vliv, <strong>kromě výjimek na úrovni dokumentu</strong> (viz část s příklady).</p><p><strong>Vícenásobná pravidla odpovídajících jednomu požadavku.</strong></p><p>V případě, že jednomu požadavku odpovídá více pravidel <code>$permissions</code>, použijem AdGuard každé z nich.</p><p><strong>Syntaxe</strong></p><p>Hodnota syntaxe <code>$permissions</code> je podobná <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy" target="_blank" rel="noopener noreferrer">syntaxi</a> záhlaví <code>Permissions-Policy</code> s jednou výjimkou: čárka, která odděluje několik prvků <strong>MUSÍ</strong> být uvozena — viz příklady níže. Seznam dostupných direktiv je k dispozici <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy#directives" target="_blank" rel="noopener noreferrer">zde</a>.</p><p>Hodnota <code>$permissions</code> může být v případě pravidel pro výjimky prázdná — viz příklady níže.</p><p><strong>Příklady</strong></p><ul><li><code>||example.org^$permissions=sync-xhrˇ=()</code> zakazuje synchronní požadavky <code>XMLHttpRequest</code> napříč <code>example.org</code>.</li><li><code>@@||example.org/page/*$permissions=sync-xhr=()</code> zakáže všechna pravidla s modifikátorem <code>$permissions</code> přesně odpovídajícím příznakem <code>sync-xhr=()</code> na všech stránkách odpovídajících vzoru pravidla. Např. výše uvedené pravidlo.</li><li><code>@@||example.org/page/*$permissions</code> zakáže všechna pravidla <code>$permissions</code> na všech stránkách odpovídajících vzoru pravidla.</li><li><code>$domain=example.org|example.com,permissions=oversized-images=()\; sync-script=()\; unsized-media=()</code> zakazuje nadměrné obrázky, synchronní skripty a nevhodné velikosti multimediálních prvků napříč <code>example.org</code> a <code>example.com</code>.</li><li><code>@@||example.org^$document</code> nebo <code>@@||example.org^$urlblock</code> zakáží všechna pravidla <code>$permission</code> na všech stránkách odpovídajících vzoru pravidla.</li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><ol><li>Zakázané znaky v <code>$permissions</code> hodnotě: <code>$</code>;</li><li><code>$permissions</code> je kompatibilní s omezeným seznamem modifikátorů: <code>$domain</code>, <code>$important</code>, a <code>$subdocument</code>.</li></ol></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$permissions</code> jsou podporována AdGuardem pro Windows, Mac a Android, <strong>s knihovnou CoreLibs verze 1.11 nebo novější</strong>.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redirect-modifier"><strong><code>$redirect</code></strong><a class="hash-link" href="#redirect-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>AdGuard je schopen přesměrovat webové požadavky na místní &quot;zdroj&quot;.</p><p><strong>Syntaxe</strong></p><p>AdGuard používá stejnou syntaxi pravidel filtrování jako uBlock Origin. Je také kompatibilní s modifikátorem ABP <code>$rewrite=abp-resource</code>.</p><p><code>$redirect</code> je modifikátor pro <a href="#basic-rules">základní pravidla filtrování</a>, takže pravidla s tímto modifikátorem podporují všechny ostatní základní modifikátory, jako jsou <code>$domain</code>, <code>$third-party</code>, <code>$script</code> atd.</p><p>Hodnota modifikátoru <code>$redirect</code> musí být název zdroje, který bude použit pro přesměrování.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="zakázání-pravidel-redirect">Zakázání pravidel <code>$redirect</code><a class="hash-link" href="#zakázání-pravidel-redirect" title="Přímý odkaz na hlavičku">​</a></h5><ul><li><code>||example.org/script.js$script,redirect=noopjs</code> — toto pravidlo přesměruje všechny požadavky na <code>example.org/script.js</code> na zdroj s názvem <code>noopjs</code>.</li><li><code>||example.org/test.mp4$media,redirect=noopmp4-1s</code> — toto pravidlo přesměruje všechny požadavky na <code>example.org/test.mp4</code> na zdroj s názvem <code>noopmp4-1s</code>.</li><li><code>@@||example.org^$redirect</code> zakáže všechna pravidla <code>$redirect</code> pro URL adresy, které odpovídají <code>||example.org^</code>.</li><li><code>@@||example.org^$redirect=nooptext</code> zakáže všechna pravidla s <code>$redirect=nooptext</code> pro všechny požadavky, které odpovídají <code>||example.org^</code>.</li></ul><p>Další informace o přesměrování a jeho použití jsou k dispozici na adrese <a href="https://github.com/AdguardTeam/Scriptlets#redirect-resources" target="_blank" rel="noopener noreferrer">na GitHubu</a>.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redirect-rule-priorities">Priority pravidel <code>$redirect</code><a class="hash-link" href="#redirect-rule-priorities" title="Přímý odkaz na hlavičku">​</a></h5><p>Pravidla <code>$redirect</code> mají vyšší prioritu než běžná základní pravidla blokování. To znamená, že pokud existuje základní pravidlo blokování, pravidlo <code>$redirect</code> jej přepíše. Pravidla seznamu povolených se znakem <code>@@</code> mají vyšší prioritu než pravidla <code>$redirect</code>. Pokud se základní pravidlo s modifikátorem <code>$important</code> a pravidlem <code>$redirect</code> shoduje se stejnou adresou URL, je druhé pravidlo přepsáno, pokud není též označeno jako <code>$important</code>.</p><p><strong>Ve zkratce: <code>$important</code> &gt; <code>@@</code> &gt; <code>$redirect</code> &gt; <code>basic rules</code>.</strong></p><p>Další podrobnosti najdete v <a href="#rule-priorities">prioritách pravidel</a>.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><ul><li>Pravidla s modifikátorem <code>$redirect</code> nejsou podporována Blokátorem obsahu AdGuard, AdGuardem pro iOS a Safari.</li><li><code>$redirect</code> v uBlock Origin podporuje zadané priority, např. <code>$redirect=noopjs:42</code>. AdGuard to nepodporuje a místo toho pouze zahodí prioritní postfix.</li></ul></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redirect-rule-modifier"><strong><code>$redirect-rule</code></strong><a class="hash-link" href="#redirect-rule-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Toto je v podstatě alias <a href="#redirect-modifier"><code>$redirect</code></a>, protože má stejné hodnoty &quot;přesměrování&quot; a logika je téměř podobná. Rozdíl je v tom, že <code>$redirect-rule</code> se použije pouze v případě, kdy je cílový požadavek blokován jiným základním pravidlem.</p><p>Další podrobnosti najdete v <a href="#rule-priorities">prioritách pravidel</a>.</p><p>Negace <code>$redirect-rule</code> funguje úplně stejně jako u běžných pravidel <code>$redirect</code>. Ještě více než to, bude <code>@@||example.org^$redirect</code> negovat jak pravidla <code>$redirect</code>, tak <code>$redirect-rule</code>.</p><p><strong>Příklady</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">||example.org/script.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^$redirect-rule=noopjs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>V tomto případě budou pouze požadavky na <code>example.org/script.js</code> &quot;přesměrovány&quot; na <code>noopjs</code>. Všechny ostatní požadavky na <code>example.org</code> zůstanou nedotčeny.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$redirect-rule</code> nejsou podporována Blokátorem obsahu AdGuard, AdGuardem pro iOS a Safari.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="referrerpolicy-modifier"><strong><code>$referrerpolicy</code></strong><a class="hash-link" href="#referrerpolicy-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Tato pravidla umožňují přepsat <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy" target="_blank" rel="noopener noreferrer">zásadu odkazování stránky</a>. Responses to matching requests will have all of their <code>Referrer-Policy</code> headers replaced with a single header with the value equal to the matching rule&#x27;s modifier value. If the response carries an HTML document with a <code>&lt;meta name=&quot;referrer&quot;...</code> tag, the <code>content</code> attribute of the tag will also be replaced with the modifier value.</p><p>An exception rule with a modifier value disables the blocking rule with the same modifier value. An exception rule without a modifier value disables all matched referrer-policy rules.</p><p>If a request matches multiple <code>$referrerpolicy</code> rules not disabled by exceptions, only one of them (it is not specified which one) is applied.</p><p><strong>Příklady</strong></p><ul><li><code>||example.com^$referrerpolicy=unsafe-url</code> overrides the referrer policy for <code>example.com</code> with <code>unsafe-url</code>.</li><li><code>@@||example.com^$referrerpolicy=unsafe-url</code> disables the previous rule.</li><li><code>@@||example.com/abcd.html^$referrerpolicy</code> disables all <code>$referrerpolicy</code> rules on <code>example.com/abcd.html</code>.</li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><p><code>$referrerpolicy</code> rules are compatible only with <code>$document</code> and <code>$subdocument</code> <a href="#content-type-modifiers">content-type modifiers</a>.</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$referrerpolicy</code> jsou podporována AdGuardem pro Windows, Mac a Android, <strong>s knihovnou CoreLibs verze 1.12 nebo novější</strong>.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="removeheader-modifier"><strong><code>$removeheader</code></strong><a class="hash-link" href="#removeheader-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Pravidla s modifikátorem <code>$removeheader</code> jsou určena k odstranění záhlaví z požadavků a odpovědí HTTP. Původní motivací pro tento typ pravidla je možnost zbavit se záhlaví <code>Refresh</code>, které se často používá k přesměrování uživatelů na nežádoucí místo. To však není jediný případ, kdy může být tento modifikátor užitečný.</p><p>Stejně jako <code>$csp</code>, <code>$redirect</code>, <code>$removeparam</code> a <code>$cookie</code> i tento modifikátor existuje samostatně, pravidla s ním nezávisí na běžných základních pravidlech, tj. pravidelná výjimka nebo pravidla blokování jej neovlivní. Ve výchozím nastavení ovlivňuje pouze záhlavíodpovědí. Můžete jej však také změnit tak, aby odstraňoval hlavičky z požadavků HTTP.</p><p><strong>Syntaxe</strong></p><p><strong>Základní syntaxe</strong></p><ul><li><code>||example.org^$removeheader=header-name</code> odstraní <strong>odpověď</strong> záhlaví s názvem <code>header-name</code></li><li><code>||example.org^$removeheader=request:header-name</code> odstraní <strong>požadavek</strong> záhlaví s názvem <code>header-name</code></li></ul><p><code>$removeheader</code> nerozlišuje velká a malá písmena, doporučujeme vždy používat malá písmena.</p><p><strong>Negace <code>$removeheader</code></strong></p><p>Tento typ pravidel funguje v podstatě stejně jako u modifikátorů <code>$csp</code> a <code>$redirect</code>.</p><p>K negaci <code>$removeheader</code> použijte <code>@@</code>:</p><ul><li><code>@@||example.org^$removeheader</code> neguje <strong>všechna</strong> pravidla <code>$removeheader</code> pro URL adresy, které odpovídají <code>||example.org^</code>.</li><li><code>@@||example.org^$removeheader=header</code> neguje všechna pravidla s <code>$removeheader=header</code> pro jakýkoliv požadavek, který odpovídá <code>||example.org^</code>.</li></ul><p>Pravidla <code>$removeheader</code> lze také zakázat pravidly výjimek <code>$document</code> a <code>$urlblock</code>. Základní pravidla pro výjimky bez modifikátorů to však nedělají. Např. <code>@@||example.com^</code> nezakáže <code>$removeheader=p</code> pro požadavky na <code>example.com</code>, ale <code>@@||example.com^$urlblock</code> ano.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>V případě, že jednomu požadavku odpovídá více pravidel <code>$removeheader</code>, použijeme každé z nich.</p></div></div><p><strong>Příklady</strong></p><ul><li><code>||example.org^$removeheader=refresh</code> odstraní záhlaví <code>Refresh</code> ze všech HTTP odpovědí vrácených doménou <code>example.org</code> a jejími subdoménami.</li><li><code>||example.org^$removeheader=request:x-client-data</code> odstraní záhlaví <code>X-Client-Data</code> ze všech požadavků HTTP.</li><li>Další blok pravidel odstraní záhlaví <code>Refresh</code> a <code>Location</code> ze všech odpovědí HTTP vrácených doménou <code>example.org</code> s výjimkou požadavků na <code>example.org/path/*</code>, u kterých nebudou odstraněny žádné záhlaví:<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^$removeheader=refresh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^$removeheader=location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@||example.org/path/$removeheader</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><ol><li><p>Tento typ pravidel lze použít <a href="#trusted-filters"><strong>pouze v důvěryhodných filtrech</strong></a>.</p></li><li><p>Aby nedošlo k narušení bezpečnosti, nelze z níže uvedeného seznamu odstranit záhlaví <code>$removeheader</code>:</p><ul><li><code>access-control-allow-origin</code></li><li><code>access-control-allow-credentials</code></li><li><code>access-control-allow-headers</code></li><li><code>access-control-allow-methods</code></li><li><code>access-control-expose-headers</code></li><li><code>access-control-max-age</code></li><li><code>access-control-request-headers</code></li><li><code>access-control-request-method</code></li><li><code>origin</code></li><li><code>timing-allow-origin</code></li><li><code>allow</code></li><li><code>cross-origin-embedder-policy</code></li><li><code>cross-origin-opener-policy</code></li><li><code>cross-origin-resource-policy</code></li><li><code>content-security-policy</code></li><li><code>content-security-policy-report-only</code></li><li><code>expect-ct</code></li><li><code>feature-policy</code></li><li><code>origin-isolation</code></li><li><code>strict-transport-security</code></li><li><code>upgrade-insecure-requests</code></li><li><code>x-content-type-options</code></li><li><code>x-download-options</code></li><li><code>x-frame-options</code></li><li><code>x-permitted-cross-domain-policies</code></li><li><code>x-powered-by</code></li><li><code>x-xss-protection</code></li><li><code>public-key-pins</code></li><li><code>public-key-pins-report-only</code></li><li><code>sec-websocket-key</code></li><li><code>sec-websocket-extensions</code></li><li><code>sec-websocket-accept</code></li><li><code>sec-websocket-protocol</code></li><li><code>sec-websocket-version</code></li><li><code>p3p</code></li><li><code>sec-fetch-mode</code></li><li><code>sec-fetch-dest</code></li><li><code>sec-fetch-site</code></li><li><code>sec-fetch-user</code></li><li><code>referrer-policy</code></li><li><code>content-type</code></li><li><code>content-length</code></li><li><code>accept</code></li><li><code>accept-encoding</code></li><li><code>host</code></li><li><code>connection</code></li><li><code>transfer-encoding</code></li><li><code>upgrade</code></li></ul></li><li><p>Pravidla <code>$removeheader</code> jsou kompatibilní s <code>$domain</code>, <code>$third-party</code>, <code>$app</code>, <code>$important</code>, <code>$match-case</code>, a <a href="#content-type-modifiers">modifikátory typu obsahu,</a> jako např. <code>$script</code> a <code>$stylesheet</code>. Pravidla s jinými modifikátory jsou považována za neplatná a budou vyřazena.</p></li></ol></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$removeheader</code> podporuje AdGuard pro Windows, Mac, Android a Rozšíření prohlížeče AdGuard pro Chrome, Firefox a Edge.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="removeparam-modifier"><strong><code>$removeparam</code></strong><a class="hash-link" href="#removeparam-modifier" title="Přímý odkaz na hlavičku">​</a></h4><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p><code>$queryprune</code> je alias <code>$removeparam</code>. Protože je <code>$queryprune</code> zastaralý, nepoužívejte jej a místo něj použijte <code>$removeparam</code>.</p></div></div><p>Pravidla s modifikátorem <code>$removeparam</code> jsou určena k odstranění parametrů dotazu z požadavků adres URL. Vezměte prosím na vědomí, že tato pravidla platí pouze pro <code>GET</code>, <code>HEAD</code>, <code>OPTIONS</code> a někdy požadavky <code>POST</code>.</p><p>Pravidla <code>$removeparam</code>, která neobsahují žádné modifikátory typu obsahu <a href="#content-type-modifiers"></a>, budou odpovídat pouze požadavkům, jejichž typem obsahu je <code>document</code>.</p><p><strong>Syntaxe</strong></p><p><strong>Základní syntaxe</strong></p><ul><li><code>$removeparam=param</code> odstraní parametr dotazu s názvem <code>param</code> z URL libovolného požadavku, např. požadavek na <code>http://example.com/page?param=1&amp;another=2</code> bude transformován na <code>http://example.com/page?another=2</code>.</li></ul><p>Základní syntaxe <code>$removeparam</code> je podporována počínaje verzí <a href="https://adguard.com/en/blog/introducing-corelibs.html" target="_blank" rel="noopener noreferrer">CoreLibs 1.7</a> a Rozšířením prohlížeče AdGuard v3.6.</p><p><strong>Regulární výrazy</strong></p><p>Regulární výrazy můžete použít také k porovnání parametrů dotazu a/nebo jejich hodnot:</p><ul><li><code>$removeparam=/regexp/[options]</code> — odstraní parametry dotazu, které odpovídají regulárnímu výrazu <code>regexp</code> z adres URL jakéhokoli požadavku. Na rozdíl od základní syntaxe to znamená <em>&quot;odebrat parametry dotazu normalizované na řetězec <code>name=value</code>, který odpovídá regulárnímu výrazu <code>regexp</code> &quot;</em>. <code>[options]</code> zde je seznam možností regulárních výrazů. V současné době je jedinou podporovanou možností <code>i</code>, díky čemuž se nerozlišují malá a velká písmena.</li></ul><p><strong>Uvození speciálních znaků</strong></p><p>Nezapomeňte v regulárních výrazech uvodit speciální znaky jako <code>,</code>, <code>/</code> a <code>$</code>. Pro tento účel použijte znak <code>\</code>. Např. uvozená čárka by měla vypadat takto: <code>\,</code>.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Pravidla typu regexp se zaměřují na název i hodnotu parametru. Aby se minimalizovala možnost chyb, je bezpečnější začínat každý regexp znakem <code>/^</code>, pokud se nezaměřujete výslovně na hodnoty parametrů.</p></div></div><p>Pokusíme se automaticky detekovat a ignorovat neuvozený znak <code>$</code> pomocí jednoduchého pravidla — nejedná se o oddělovač možností, pokud jsou všechny tři hodnoty pravdivé:</p><ol><li>Vypadá to jako <code>$/</code>;</li><li>Nalevo od něj je další znak lomítka <code>/</code>;</li><li>Nalevo od tohoto znaku lomítka je další znak dolaru bez uvození <code>$</code>.</li></ol><p><strong>Odebrat všechny parametry dotazu</strong></p><p>Chcete-li odstranit všechny parametry dotazu, zadejte samostatně <code>$removeparam</code>:</p><ul><li><code>||example.org^$removeparam</code> — odstraní všechny parametry dotazu z adres URL odpovídajících <code>||example.org^</code>.</li></ul><p><strong>Inverze</strong></p><p>Pro použití inverze použijte <code>~</code>:</p><ul><li><code>$removeparam=~param</code> — odstraní všechny parametry dotazu s názvem odlišným od <code>param</code>.</li><li><code>$removeparam=~/regexp/</code> — odstraní všechny parametry dotazu, které neodpovídají regulárnímu výrazu <code>regexp</code>.</li></ul><p><strong>Negace <code>$removeparam</code></strong></p><p>Tento druh pravidel funguje v podstatě stejně jako u modifikátorů <a href="#csp-modifier"><code>$csp</code></a> a <a href="#redirect-modifier"><code>$redirect</code></a>.</p><p>K negaci <code>$removeparam</code> použijte <code>@@</code>:</p><ul><li><code>@@||example.org^$removeparam</code> neguje všechna pravidla <code>$removeparam</code> pro URL adresy, které odpovídají <code>||example.org^</code>.</li><li><code>@@||example.org^$removeparam=param</code> neguje všechna pravidla s <code>$removeparam=param</code> pro jakýkoliv požadavek, který odpovídá <code>||example.org^</code>.</li><li><code>@@||example.org^$removeparam=/regexp/</code> neguje všechna pravidla s <code>$removeparam=/regexp/</code> pro jakýkoliv požadavek, který odpovídá <code>||example.org^</code>.</li></ul><p><strong>Vícenásobná pravidla odpovídajících jednomu požadavku</strong></p><p>V případě, že jednomu požadavku odpovídá více pravidel <code>$removeparam</code>, bude každé z nich použito jedno po druhém.</p><p><strong>Příklady</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$removeparam=/^(utm_source|utm_medium|utm_term)=/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$removeparam=/^(utm_content|utm_campaign|utm_referrer)=/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@||example.com^$removeparam</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>S těmito pravidly bude z jakéhokoli požadavku odstraněno <a href="https://en.wikipedia.org/wiki/UTM_parameters" target="_blank" rel="noopener noreferrer">UTM parametrů</a>, kromě toho, že požadavky na <code>example.com</code> nebudou odstraněny vůbec, např. <code>http://google.com/page?utm_source=s&amp;utm_referrer= fb.com&amp;utm_content=img</code> bude transformováno na <code>http://google.com/page</code>, ale <code>http://example.com/page?utm_source=s&amp;utm_referrer=fb.com&amp;utm_content=img</code> nebude ovlivněno pravidlem blokování.</p><ul><li><p><code>$removeparam=utm_source</code> odstraní parametr dotazu <code>utm_source</code> ze všech požadavků.</p></li><li><p><code>$removeparam=/utm_.*/</code> — odstraní všechny parametry <code>utm_* query</code> z URL libovolného požadavku, např. požadavek na <code>http://example.com/page?utm_source=test</code> bude transformován na <code>http://example.com/page</code>.</p></li><li><p><code>$removeparam=/^utm_source=campaign$/</code> — odstraní parametr dotazu <code>utm_source</code> s hodnotou rovnou <code>campaign</code>. Nemá vliv na ostatní parametry <code>utm_source</code>.</p></li></ul><p><strong>Negace pravidla <code>$removeparam</code> a jeho nahrazení jiným pravidlem</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$removeparam=/^(gclid|yclid|fbclid)=/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@||example.com^$removeparam=/^(gclid|yclid|fbclid)=/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||example.com^$removeparam=/^(yclid|fbclid)=/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Díky těmto pravidlům budou ze všech požadavků odstraněny identifikátory kliknutí Google, Yandex a Facebook. Existuje jedna výjimka: Z požadavků na example.com nebude odstraněno Google Click ID (gclid).</p><p><strong>Negace pro všechny parametry <code>$removeparam</code></strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$removeparam=/^(utm_source|utm_medium|utm_term)=/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$removeparam=/^(utm_content|utm_campaign|utm_referrer)=/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@||example.com^$removeparam</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Díky těmto pravidlům budou zadané parametry UTM odstraněny ze všech požadavků s výjimkou požadavků na <code>example.org</code>.</p><p>Pravidla <code>$removeparam</code> lze také zakázat pravidly výjimek <code>$document</code> a <code>$urlblock</code>. Základní pravidla pro výjimky bez modifikátorů to však nedělají. Např. <code>@@||example.com^</code> nezakáže <code>$removeparam=p</code> pro požadavky na <strong>example.com</strong>, ale <code>@@||example.com^$urlblock</code> ano.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><ul><li>Pravidla s modifikátorem <code>$removeparam</code> lze použít <a href="#trusted-filters"><strong>pouze v důvěryhodných filtrech</strong></a>.</li><li>Pravidla <code>$removeparam</code> jsou kompatibilní se <a href="#basic-rules-common-modifiers">základními modifikátory</a>, <a href="#content-type-modifiers">modifikátory typu obsahu</a> a s modifikátory <code>$important</code> a <code>$app</code>. Pravidla s jinými modifikátory jsou považována za neplatná a budou vyřazena.</li></ul></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><ul><li>Pravidla s modifikátorem <code>$removeparam</code> podporuje AdGuard pro Windows, Mac, Android a Rozšíření prohlížeče AdGuard pro Chrome, Firefox a Edge.</li><li>Syntaxe <code>$removeparam</code> pro regulární výrazy je podporována Rozšířením prohlížeče AdGuard v4.0 a AdGuardem pro Windows, Mac a Android <strong>s CoreLibs verze 1.8 nebo novější</strong>.</li><li>Typy požadavků <code>POST</code> podporuje pouze AdGuard pro Windows, Mac a Android <strong> s CoreLibs verze 1.10 nebo novější</strong>.</li></ul></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="replace-modifier"><strong><code>$replace</code></strong><a class="hash-link" href="#replace-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Tento modifikátor zcela mění chování pravidla. Pokud je použitý, pravidlo požadavek nezablokuje. Namísto toho bude odpověď upravena.</p><p>K použití modifikátoru <code>$replace</code> budete potřebovat určité znalosti regulárních výrazů.</p><p><strong>Funkce</strong></p><ul><li>Pravidla <code>$replace</code> platí pro jakoukoli textovou odpověď, ale neplatí pro binární (<code>media</code>, <code>image</code>, <code>object</code> atd.).</li><li>Pravidla <code>$replace</code> neplatí, pokud je velikost původní odpovědi větší než 3 MB.</li><li>Pravidla <code>$replace</code> mají vyšší prioritu než ostatní základní pravidla (<strong>včetně</strong> pravidel výjimek). Pokud tedy požadavek odpovídá dvěma různým pravidlům, z nichž jedno má modifikátor <code>$replace</code>, použije se toto pravidlo.</li><li>Pravidla výjimek na úrovni dokumentu s modifikátory <code>$content</code> nebo <code>$document</code> zakáží pravidla <code>$replace</code> pro požadavky, které jim odpovídají.</li><li>Ostatní pravidla výjimek na úrovni dokumentu (<code>$generichide</code>, <code>$elemhide</code> nebo modifikátory <code>$jsinject</code>) se uplatňují vedle pravidel <code>$replace</code>. To znamená, že můžete upravit obsah stránky pomocí pravidla <code>$replace</code> a zároveň zde zakázat kosmetická pravidla.</li></ul><p>Hodnota <code>$replace</code> může být v případě pravidel pro výjimky prázdná. Další informace naleznete v části Příklady.</p><p><strong>Vícenásobná pravidla odpovídajících jednomu požadavku</strong></p><p>V případě, že jednomu požadavku odpovídá více pravidel <code>$replace</code>, použijeme každé z nich. <strong>Pořadí je stanoveno abecedně.</strong></p><p><strong>Syntaxe</strong></p><p>Obecně je syntaxe <code>$replace</code> podobná nahrazování regulárními výrazy v <a href="http://perldoc.perl.org/perlrequick.html#Search-and-replace" target="_blank" rel="noopener noreferrer">Perl</a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">replace = &quot;/&quot; regexp &quot;/&quot; replacement &quot;/&quot; modifiers</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong><code>regexp</code></strong> — regulární výraz.</li><li><strong><code>replacement</code></strong> — řetězec, který bude použit k nahrazení řetězce odpovídajícího <code>regexp</code>.</li><li><strong><code>modifiers</code></strong> — příznaky regulárního výrazu. Například <code>i</code> — necitlivé vyhledávání nebo <code>s</code> — jednořádkový režim.</li></ul><p>V hodnotě <code>$replace</code> musí být dva znaky uvozeny: čárka <code>,</code> a znak dolaru <code>$</code>. Použijte pro to zpětné lomítko <code>\</code>. Např. uvozená čárka vypadá takto: <code>\,</code>.</p><p><strong>Příklady</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^$replace=/(&lt;VAST[\s\S]*?&gt;)[\s\S]*&lt;\/VAST&gt;/\$1&lt;\/VAST&gt;/i</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Toto pravidlo má tři části:</p><ul><li><code>regexp</code> - <code>(&lt;VAST(.|\s)*?&gt;)(.|\s)*&lt;\/VAST&gt;</code>;</li><li><code>replacement</code> — <code>\$1&lt;\/VAST&gt;</code> kde <code>$</code> je uvozeno;</li><li><code>modifikátory</code> — <code>i</code> pro necitlivé vyhledávání.</li></ul><p>Jak toto pravidlo funguje, se můžete podívat zde: <a href="http://regexr.com/3cesk" target="_blank" rel="noopener noreferrer">http://regexr.com/3cesk</a></p><p><strong>Vícenásobná pravidla <code>$replace</code></strong></p><ol><li><code>||example.org^$replace=/X/Y/</code></li><li><code>||example.org^$replace=/Z/Y/</code></li><li><code>@@||example.org/page/*$replace=/Z/Y/</code></li></ol><ul><li>Jak pravidlo 1, tak pravidlo 2 se použijí na všechny požadavky odeslané na <code>example.org</code>.</li><li>Pravidlo 2 je zakázáno pro požadavky odpovídající na <code>||example.org/page/</code>, <strong>ale pravidlo 1 stále funguje!</strong></li></ul><p><strong>Zakázání pravidel <code>$replace</code></strong></p><ul><li><code>@@||example.org^$replace</code> zakáže všechna pravidla <code>$replace</code> odpovídající na <code>||example.org^</code>.</li><li><code>@@||example.org^$document</code> nebo <code>@@||example.org^$content</code> zakáže všechna pravidla <code>$replace</code> <strong>pocházející ze</strong> stránek <code>example.org</code> <strong>včetně stránky samotné</strong>.</li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$replace</code> lze použít <a href="#trusted-filters"><strong>pouze v důvěryhodných filtrech</strong></a>.</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$replace</code> podporuje AdGuard pro Windows, Mac, Android a Rozšíření prohlížeče AdGuard pro Firefox. Taková pravidla v rozšířeních pro jiné prohlížeče nefungují, protože nemohou měnit obsah na úrovni sítě.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="noop-modifier"><strong><code>noop</code></strong><a class="hash-link" href="#noop-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Modifikátor <code>noop</code> nedělá nic a lze jej použít pouze ke zvýšení čitelnosti pravidel. Skládá se ze sekvence znaků podtržítka (<code>_</code>) libovolné délky a může se v pravidle objevit tolikrát, kolikrát je potřeba.</p><p><strong>Příklady</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">||example.com$_,removeparam=/^ss\\$/,_,image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||example.com$replace=/bad/good/,___,~third-party</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>noop</code> nejsou Blokátorem obsahu AdGuard podporována.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="empty-modifier"><strong><code>$empty</code> (zastaralé)</strong><a class="hash-link" href="#empty-modifier" title="Přímý odkaz na hlavičku">​</a></h4><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Upozornění na vyřazení</div><div class="admonitionContent_S0QG"><p>Tento modifikátor je zastaralý a nahrazuje jej modifikátor <a href="#redirect-modifier"><code>$redirect</code></a>. Pravidla s <code>$empty</code> jsou stále podporována a nyní se převádějí na <code>$redirect=nooptext</code>, ale podpora bude v budoucnu odstraněna.</p></div></div><p>Obvykle se zablokované požadavky v prohlížeči tváří jako chyba serveru. Pokud použijete modifikátor <code>$empty</code>, AdGuard bude emulovat prázdnou odpověď ze serveru se stavem <code>200 OK</code>.</p><p><strong>Příklady</strong></p><ul><li><code>||example.org^$empty</code> vrátí prázdnou odpověď na všechny požadavky na <code>example.org</code> a všechny subdomény.</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$empty</code> nejsou podporována Blokátorem obsahu AdGuard, AdGuardem pro iOS a Safari.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mp4-modifier"><strong><code>$mp4</code> (zastaralé)</strong><a class="hash-link" href="#mp4-modifier" title="Přímý odkaz na hlavičku">​</a></h4><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Upozornění na vyřazení</div><div class="admonitionContent_S0QG"><p>Tento modifikátor je zastaralý a nahrazuje jej modifikátor <a href="#redirect-modifier"><code>$redirect</code></a>. Pravidla s <code>$mp4</code> jsou stále podporována a nyní se převádějí na <code>$redirect=noopmp4-1s,media</code>, ale podpora bude v budoucnu odstraněna.</p></div></div><p>Jako odpověď na zablokovaný požadavek vrátí AdGuard krátký zástupný videoklip.</p><p><strong>Příklady</strong></p><ul><li><code>||example.com/videa/$mp4</code> zablokuje všechna stahování videa z <code>||example.com/videa/*</code> a změní odpověď na zástupný videoklip.</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$mp4</code> nejsou podporována Blokátorem obsahu AdGuard, AdGuardem pro iOS a Safari.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rule-priorities">Priority pravidel<a class="hash-link" href="#rule-priorities" title="Přímý odkaz na hlavičku">​</a></h3><p>Každé pravidlo má svou vlastní prioritu, což je nutné v případě, že požadavku odpovídá několik pravidel a filtrovací nástroj musí vybrat jedno z nich. Priorita se měří kladným celým číslem.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Kolize</div><div class="admonitionContent_S0QG"><p>Když dvě pravidla se stejnou prioritou odpovídají stejnému požadavku, záleží na filtrování implementace nástroje, které bude vybráno.</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>informace</div><div class="admonitionContent_S0QG"><p>Koncept priorit pravidel nabývá na významu ve světle Manifest V3, protože stávající pravidla je třeba převést na pravidla declarativeNetRequest.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="výpočet-priority">Výpočet priority<a class="hash-link" href="#výpočet-priority" title="Přímý odkaz na hlavičku">​</a></h4><p>Pro výpočet priority jsme modifikátory rozdělili do různých skupin. Tyto skupiny jsou seřazeny podle priority od nejnižší po nejvyšší. Modifikátor, který výrazně zužuje oblast působnosti pravidla, zvyšuje jeho celkovou prioritu. Naopak, pokud se pravidlo vztahuje na širší okruh požadavků, jeho priorita se snižuje.</p><p>Stojí za zmínku, že existují případy, kdy má jednoparametrový modifikátor vyšší prioritu než víceparametrový. Například v případě <code>$domain=example.com|example.org</code> má pravidlo, které zahrnuje dvě domény o něco širší oblast účinnosti než pravidlo s jednou zadanou doménou, a proto je jeho priorita nižší.</p><p>Základní priorita každého pravidla je 1. Pokud je vypočtená priorita číslo s pohyblivou řádovou čárkou, bude <strong>zaokrouhlena nahoru</strong> na nejmenší celé číslo větší nebo rovno vypočtené prioritě.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><ul><li>Koncept priority byl zaveden ve verzích tsurlfilter v2.1.0 a CoreLibs v1.13. Dříve neměl AdGuard žádný speciální algoritmus pro výpočet priorit a zpracování kolizí se mohlo lišit v závislosti na produktu a verzi AdGuardu.</li><li>Aplikace AdGuard pro iOS, Safari a Blokátor obsahu AdGuard se spoléhají na implementaci prohlížečů a nemohou dodržovat zde uvedená pravidla.</li></ul></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Modifier aliases (<code>1p</code>, <code>3p</code>, etc.) are not included in these categories, however, they are utilized within the engine to compute the rule priority.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="priority-category-1">Základní modifikátory, přítomnost každého z nich přidává 1 k prioritě<a class="hash-link" href="#priority-category-1" title="Přímý odkaz na hlavičku">​</a></h4><ul><li><a href="#app-modifier"><code>$app</code></a> s negovanými aplikacemi pomocí <code>~</code>,</li><li><a href="#denyallow-modifier"><code>$denyallow</code></a>,</li><li><a href="#dnsrewrite-modifier"><code>$dnsrewrite</code></a>,</li><li><a href="#domain-modifier"><code>$domain</code></a> s negovanými doménami pomocí <code>~</code>,</li><li><a href="#match-case-modifier"><code>$match-case</code></a>,</li><li><a href="#method-modifier"><code>$method</code></a> s negovanými metodami pomocí <code>~</code>,</li><li><a href="#third-party-modifier"><code>$third-party</code></a>,</li><li><a href="#to-modifier"><code>$to</code></a>,</li><li>omezené <a href="#content-type-modifiers">typy obsahu</a> s <code>~</code>.</li></ul><p>When dealing with a negated domain, app, method, or content-type, we add <strong>1 point</strong> for the existence of the modifier itself, regardless of the quantity of negated domains or content-types. This is because the rule&#x27;s scope is already infinitely broad. Put simply, by prohibiting multiple domains, content-types, methods or apps, the scope of the rule becomes only minimally smaller.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="priority-category-2">Definované modifikátory typu obsahu, definované metody, definovaná záhlaví, $popup, speciální výjimky<a class="hash-link" href="#priority-category-2" title="Přímý odkaz na hlavičku">​</a></h4><p>Všechny povolené typy obsahu: <em> <a href="#document-modifier"><code>$document</code></a>, </em> <a href="#font-modifier"><code>$font</code></a>, <em> <a href="#image-modifier"><code>$image</code></a>, </em> <a href="#media-modifier"><code>$media</code></a>, <em> <a href="#object-modifier"><code>$object</code></a>, </em> <a href="#other-modifier"><code>$other</code></a>, <em> <a href="#ping-modifier"><code>$ping</code></a>, </em> <a href="#script-modifier"><code>$script</code></a>, <em> <a href="#stylesheet-modifier"><code>$stylesheet</code></a>, </em> <a href="#subdocument-modifier"><code>$subdocument</code></a>, <em> <a href="#websocket-modifier"><code>$websocket</code></a>, </em> <a href="#xmlhttprequest-modifier"><code>$xmlhttprequest</code></a>;</p><p>Také zahrnuje pravidla, která implicitně přidávají modifikátor <code>$document</code>:</p><ul><li><a href="#popup-modifier"><code>$popup</code></a>;</li></ul><p>Nebo speciální výjimky, které implicitně přidávají <code>$document,subdocument</code>:</p><ul><li><a href="#content-modifier"><code>$content</code></a>,</li><li><a href="#elemhide-modifier"><code>$elemhide</code></a>,</li><li><a href="#extension-modifier"><code>$extension</code></a>,</li><li><a href="#genericblock-modifier"><code>$genericblock</code></a>,</li><li><a href="#generichide-modifier"><code>$generichide</code></a>,</li><li><a href="#jsinject-modifier"><code>$jsinject</code></a>,</li><li><a href="#specifichide-modifier"><code>$specifichide</code></a>,</li><li><a href="#urlblock-modifier"><code>$urlblock</code></a>;</li></ul><p>Or allowed methods via <a href="#method-modifier"><code>$method</code></a>.</p><p>Or rules with <a href="#header-modifier"><code>$header</code></a>.</p><p>The presence of any content-type modifiers adds <code>(50 + 50 / N)</code>, where <code>N</code> is the number of modifiers present, for example: <code>||example.com^$image,script</code> will add <code>50 + 50 / 2 = 50 + 25 = 75</code> to the total weight of the rule. The <code>$popup</code> also belongs to this category, because it implicitly adds the modifier <code>$document</code>. Similarly, specific exceptions add <code>$document,subdocument</code>.</p><p>If there is a <code>$method</code> modifier in the rule with allowed methods it adds <code>(50 + 50 / N)</code>, where <code>N</code> is the number of methods allowed, for example: <code>||example.com^$method=GET|POST|PUT</code> will add <code>50 + 50 / 3 = 50 + 16.6 = 67</code> to the total weight of the rule.</p><p>If there is a <code>$header</code> modifier in the rule it adds <code>50</code>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="priority-category-3"><code>$domain</code> or <code>$app</code> with allowed domains or applications<a class="hash-link" href="#priority-category-3" title="Přímý odkaz na hlavičku">​</a></h4><p>Specified domains through <code>$domain</code> or specified applications through <code>$app</code> add <code>100 + 100 / N</code>, where <code>N</code> is the number of modifier values for example: <code>||example.com^$domain=example.com|example.org|example.net</code> will add <code>100 + 100 / 3 = 134.3 = 135</code> or <code>||example.com^$app=org.example.app1|org.example.app2</code> will add <code>100 + 100 / 2 = 151</code> or <code>||example.com^$domain=example.com,app=org.example.app1|org.example.app2</code> will add <code>100 + 100/1</code> ($domain part) and <code>100 + 100/2</code> ($app part) - will add <code>350</code> in total.</p><p>Modifier values that are regexps or tld will be interpreted as normal entries of the form <code>example.com</code> and counted one by one, for example: <code>||example.com^$domain=example.*</code> will add <code>100 + 100 / 1 = 200</code> or <code>||example.com^$domain=example.*|adguard.*</code> will add <code>100 + 100 / 2 = 150</code>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="priority-category-6">Pravidla <code>$redirect</code><a class="hash-link" href="#priority-category-6" title="Přímý odkaz na hlavičku">​</a></h4><ul><li><a href="#redirect-modifier"><code>$redirect</code></a>,</li><li><a href="#redirect-rule-modifier"><code>$redirect-rule</code></a>.</li></ul><p>Each of which adds <code>10^3</code> to rule priority.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="priority-category-4">Specifické výjimky<a class="hash-link" href="#priority-category-4" title="Přímý odkaz na hlavičku">​</a></h4><ul><li><a href="#content-modifier"><code>$content</code></a>,</li><li><a href="#elemhide-modifier"><code>$elemhide</code></a>,</li><li><a href="#extension-modifier"><code>$extension</code></a>,</li><li><a href="#genericblock-modifier"><code>$genericblock</code></a>,</li><li><a href="#generichide-modifier"><code>$generichide</code></a>,</li><li><a href="#jsinject-modifier"><code>$jsinject</code></a>,</li><li><a href="#specifichide-modifier"><code>$specifichide</code></a>,</li><li><a href="#urlblock-modifier"><code>$urlblock</code></a>;</li></ul><p>Each of which adds <code>10^4</code> to the priority.</p><p>As well as exception with <a href="#document-modifier"><code>$document modifier</code></a>: because it&#x27;s an alias for <code>$elemhide,content,jsinject,urlblock,extension</code>. It will add <code>10^4</code> for each modifier from <a href="#priority-category-4">the top list</a>, <code>10^4 * 5</code> in total.</p><p>In addition, each of these exceptions implicitly adds the two allowed content-type modifiers <code>$document,subdocument</code>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="priority-category-5">Pravidla seznamu povolených<a class="hash-link" href="#priority-category-5" title="Přímý odkaz na hlavičku">​</a></h4><p>Modifier <code>@@</code> adds <code>10^5</code> to rule priority.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="priority-category-7">Pravidla <code>$important</code><a class="hash-link" href="#priority-category-7" title="Přímý odkaz na hlavičku">​</a></h4><p>Modifier <a href="#important-modifier"><code>$important</code></a> adds <code>10^6</code> to rule priority.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="priority-category-extra">Rules for which there is no priority weight<a class="hash-link" href="#priority-category-extra" title="Přímý odkaz na hlavičku">​</a></h4><p><a href="#advanced-capabilities">Other modifiers</a>, which are supposed to perform additional post- or pre-processing of requests, do not add anything to the rules priority.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>The <a href="#replace-modifier"><code>$replace</code></a> modifier takes precedence over all blocking rules of categories 1-3, as well as exception rules from categories 3-5, <strong>except</strong> <a href="#content-modifier"><code>$content</code></a>, because an exception with the <code>$content</code> modifier overrides all <code>$replace</code> rules.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="příklady-1">Příklady<a class="hash-link" href="#příklady-1" title="Přímý odkaz na hlavičku">​</a></h4><p><strong>Příklad 1</strong></p><p><code>||example.com^</code></p><p>Váha pravidla bez modifikátorů: <code>1</code>.</p><p><strong>Příklad 2</strong></p><p><code>||example.com^$match-case</code></p><p>Váha pravidla: základní + váha modifikátoru z <a href="#priority-category-1">kategorie 1</a>: <code>1 + 1 = 2</code>.</p><p><strong>Příklad 3</strong></p><p><code>||example.org^$removeparam=p</code></p><p>Weight of the rule: base weight + 0, since $removeparam <a href="#priority-category-extra">is not involved</a> in the priority calculation: <code>1 + 0 = 1</code>.</p><p><strong>Příklad 4</strong></p><p><code>||example.org^$document,redirect=nooptext</code></p><p>Váha pravidla: základní + povolený typ obsahu, <a href="#priority-category-3">kategorie 3</a> + $redirect z <a href="#priority-category-6">kategorie 6</a>: <code>1 + (100 + 100 / 1) + 1000 = 1201</code>.</p><p><strong>Příklad 5</strong></p><p><code>@@||example.org^$removeparam=p,document</code></p><p>Rule weight: base weight + allowlist rule, <a href="#priority-category-5">category 5</a> + 0 because $removeparam <a href="#priority-category-extra">is not involved</a> in the priority calculation + allowed content type, <a href="#priority-category-2">category 2</a>: <code>1 + 10000 + 0 + (50 + 50 / 1) = 10101</code>.</p><p><strong>Příklad 6</strong></p><p><code>@@||example.com/ad/*$domain=example.org|example.net,important</code></p><p>Rule weight: base weight + allowlist rule, <a href="#priority-category-5">category 5</a> + important rule, <a href="#priority-category-7">category 7</a> + allowed domains, <a href="#priority-category-3">category 3</a>: <code>1 + 10000 + 1000000 + (100 + 100 / 2) = 1010152</code>.</p><p><strong>Příklad 7</strong></p><p><code>@@||example.org^$document</code> bez dalších modifikátorů je aliasem pro <code>@@||example.com^$elemhide,content,jsinject,urlblock,extension</code></p><p>Rule weight: base weight + specific exceptions, <a href="#priority-category-4">category 4</a> + two allowed content types (document and subdocument), <a href="#priority-category-2">category 2</a>: <code>1 + 10000 * 4 + (50 + 50 / 2) = 40076</code>.</p><p><strong>Příklad 8</strong></p><p><code>*$script,domain=a.com,denyallow=x.com|y.com</code></p><p>Rule weight: base weight + allowed content type, <a href="#priority-category-2">category 2</a> + allowed domain, <a href="#priority-category-3">category 3</a> + denyallow, <a href="#priority-category-1">category 1</a>: <code>1 + (50 + 50/1) + (100 + 100 / 1) + 1 = 303</code>.</p><p><strong>Příklad 9</strong></p><p><code>||example.com^$all</code> (alias k <code>||example.com^$document,subdocument,image,script,media,etc. + $popup</code>)</p><p>Rule weight: base weight + allowed content types, <a href="#priority-category-2">category 2</a>: <code>1 + (50 + 50/12) = 55</code>.</p><h1>Ostatní pravidla</h1><p>Možnosti základních pravidel však nemusí být pro blokování reklam dostatečné. Někdy potřebujete skrýt prvek nebo změnit část kódu HTML webové stránky, aniž byste cokoli porušili. Pravidla popsaná v této části jsou vytvořena speciálně pro tento účel.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cosmetic-rules">Kosmetická pravidla<a class="hash-link" href="#cosmetic-rules" title="Přímý odkaz na hlavičku">​</a></h2><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>informace</div><div class="admonitionContent_S0QG"><p>Práce s ostatními pravidly vyžaduje základní znalost HTML a CSS. Pokud se tedy chcete naučit, jak taková pravidla vytvářet, doporučujeme seznámit se s touto <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_started/What_is_CSS" target="_blank" rel="noopener noreferrer">dokumentací</a>.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cosmetic-elemhide-rules">Pravidla pro skrytí prvků<a class="hash-link" href="#cosmetic-elemhide-rules" title="Přímý odkaz na hlavičku">​</a></h3><p>Pravidla pro skrytí prvků slouží ke skrývání prvků webových stránek. Je to podobné jako použít styl <code>{ display: none; }</code> na vybraný prvek.</p><p>Pravidla pro skrytí prvků mohou fungovat odlišně <a href="#cosmetic-rules-priority">v závislosti na platformě</a>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="non-basic-rules-modifiers-syntax">Syntaxe<a class="hash-link" href="#non-basic-rules-modifiers-syntax" title="Přímý odkaz na hlavičku">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   rule = [domains] &quot;##&quot; selector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">domains = [domain0, domain1[, ...[, domainN]]]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong><code>selector</code></strong> — <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors" target="_blank" rel="noopener noreferrer">CSS selektor</a> definuje prvky, které mají být skryty.</li><li><strong><code>domains</code></strong> — omezení domény pro dané pravidlo.</li></ul><p>Pokud chcete omezit oblast použití pravidel na určité domény, stačí je zadat oddělené čárkami. Např.: <code>example.org,example.com##selector</code>.</p><p>Toto pravidlo bude také použito na všechny subdomény <code>example.org</code> a <code>example.com</code>.</p><p>Pokud chcete, aby se pravidlo nevztahovalo na určité domény, začněte název domény znakem <code>~</code>. Např.: <code>~example.org##selector</code>.</p><p>V jednom pravidle můžete použít oba přístupy. Např. <code>example.org,~subdomain.example.org##domain</code> bude fungovat pro <code>example.org</code> a všechny subdomény <strong>kromě <code>subdomain.example.org</code></strong>.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Pravidla pro skrývání prvků na sobě nejsou závislá. Pokud je ve filtru pravidlo <code>example.org##selector</code> a přidáte <code>~example.org##selector</code>, budou obě pravidla použita nezávisle.</p></div></div><p><strong>Příklady</strong></p><ul><li><code>example.com##div.textad</code> — skryje <code>div</code> s třídou <code>textad</code> na doméně <code>example.com</code> a všech subdoménách.</li><li><code>example.com,example.org###adblock</code> — skryje prvek s atributem <code>id</code>, který se rovná <code>adblock</code> na <code>example.com</code>, <code>example.org</code> a všech subdoménách.</li><li><code>~example.com##.textad</code> — skryje prvek s třídou <code>textad</code> na všech doménách kromě <code>example.com</code> a jejích subdomén.</li></ul><p><strong>Omezení</strong></p><p>Safari nepodporuje povolené a omezené domény. Takže pravidla jako <code>example.org,~foo.example.org##.textad</code> jsou v AdGuardu pro Safari neplatná.</p><p><strong>Výjimky</strong></p><p>Výjimky mohou zakázat některá pravidla pro určité domény. Jsou velmi podobné běžným pravidlům výjimek, ale namísto <code>##</code> musíte použít <code>#@#</code>.</p><p>Ve filtru je např. pravidlo:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">##.textad</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pokud to chcete zakázat pro <code>example.com</code>, můžete vytvořit pravidlo výjimky:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">example.com#@#.textad</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Někdy může být nutné zakázat všechna pravidla omezení. Např. k provádění testů. Za tímto účelem použijte pravidlo výjimky bez zadání domény. Úplně zakáže odpovídající pravidlo CSS elemhide na VŠECH doménách:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#@#.textad</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Toho lze dosáhnout přidáním tohoto pravidla:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*#@#.textad</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Tento druh výjimek doporučujeme používat pouze v případě, že není možné změnit samotné pravidlo skrývání. V ostatních případech je lepší změnit původní pravidlo pomocí omezení domény.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cosmetic-css-rules">Pravidla CSS<a class="hash-link" href="#cosmetic-css-rules" title="Přímý odkaz na hlavičku">​</a></h3><p>Někdy pouhé skrytí prvku k vyřešení reklamy nestačí. Např. zablokování prvku reklamy může jen narušit rozvržení stránky. V tomto případě může AdGuard použít pravidla, která jsou mnohem flexibilnější než pravidla pro skrývání. Pomocí těchto pravidel můžete v podstatě přidat na stránku libovolné styly CSS.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   rule = [domains] &quot;#$#&quot; selector &quot;{&quot; style &quot;}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">domains = [domain0, domain1[, ...[, domainN]]]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong><code>selector</code></strong> — <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors" target="_blank" rel="noopener noreferrer">selektor CSS</a>, který definuje prvky, na které chceme styl použít.</li><li><strong><code>domains</code></strong> — omezení domény pro dané pravidlo. Stejné zásady jako v <a href="#elemhide-syntax">pravidlech pro skrývání prvků</a>.</li><li><strong><code>style</code></strong> — styl CSS, který chceme použít na vybrané prvky.</li></ul><p><strong>Příklady</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">example.com#$#body { background-color: #333!important; }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Toto pravidlo použije styl <code>background-color: #333!important;</code> na prvek <code>body</code> na doménu <code>example.com</code> a všechny subdomény.</p><p><strong>Výjimky</strong></p><p>Stejně jako u skrývání prvků existuje typ pravidel, který zakáže vybrané pravidlo stylu CSS pro určité domény. Syntaxe pravidel pro výjimky je téměř stejná, stačí jen změnit <code>#$#</code> na <code>#@$#</code>.</p><p>Ve filtru je např. pravidlo:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#$#.textad { visibility: hidden; }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pokud to chcete zakázat pro <code>example.com</code>, můžete vytvořit pravidlo výjimky:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">example.com#@$#.textad { visibility: hidden; }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Tento druh výjimek doporučujeme používat pouze v případě, že není možné změnit samotné pravidlo CSS. V ostatních případech je lepší změnit původní pravidlo pomocí omezení domény.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><p>Styly, které vedou k načtení jakéhokoli zdroje, jsou zakázány. V podstatě to znamená, že ve stylu nelze použít žádný typ hodnoty <code>&lt;url&gt;</code>.</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla CSS nejsou Blokátorem obsahu AdGuard podporována.</p><p>Pravidla CSS mohou fungovat odlišně <a href="#cosmetic-rules-priority">v závislosti na platformě</a>.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-selectors">Rozšířené CSS selektory<a class="hash-link" href="#extended-css-selectors" title="Přímý odkaz na hlavičku">​</a></h3><ul><li><a href="#extended-css-limitations">Omezení</a></li><li><a href="#extended-css-has">Pseudo-třída <code>:has()</code></a></li><li><a href="#extended-css-contains">Pseudo-třída <code>:contains()</code></a></li><li><a href="#extended-css-matches-css">Pseudo-třída <code>:matches-css()</code></a></li><li><a href="#extended-css-matches-attr">Pseudo-třída <code>:matches-attr()</code></a></li><li><a href="#extended-css-property">Pseudo-třída <code>:matches-property()</code></a></li><li><a href="#extended-css-xpath">Pseudo-třída <code>:xpath()</code></a></li><li><a href="#extended-css-nth-ancestor">Pseudo-třída <code>:nth-ancestor()</code></a></li><li><a href="#extended-css-upward">Pseudo-třída <code>:upward()</code></a></li><li><a href="#remove-pseudos">Pseudo-třída <code>:remove()</code> a pseudo-vlastnost <code>remove</code></a></li><li><a href="#extended-css-is">Pseudo-třída <code>:is()</code></a></li><li><a href="#extended-css-not">Pseudo-třída <code>:not()</code></a></li><li><a href="#extended-css-if-not">Pseudo-třída <code>:if-not()</code> (odstraněno)</a></li></ul><p>CSS 3.0 ne vždy stačí k blokování reklam. AdGuard tento problém řeší rozšířením možností CSS o podporu nových pseudo-prvků. Vyvinuli jsme samostatnou <a href="https://github.com/AdguardTeam/ExtendedCss" target="_blank" rel="noopener noreferrer">open-source knihovnu</a> pro výběr nestandardních prvků a aplikaci CSS stylů s rozšířenými vlastnostmi.</p><p>Myšlenkou rozšířených možností je možnost přiřazovat prvky DOM pomocí selektorů na základě jejich vlastní reprezentace (styl, textový obsah atd.) nebo vztahů s jinými prvky. Existuje také možnost použít styly s nestandardními vlastnostmi CSS.</p><p><strong>Oblast použití</strong></p><p>Rozšířené selektory lze použít v jakémkoli kosmetickém pravidle, ať už se jedná o pravidla pro <a href="#cosmetic-elemhide-rules">skrytí prvků</a> nebo <a href="#cosmetic-css-rules">pravidla CSS</a>.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla se selektory CSS nejsou Blokátorem obsahu AdGuard podporována.</p></div></div><p><strong>Syntaxe</strong></p><p>Bez ohledu na pseudo-třídy CSS, které v pravidle používáte, můžete pomocí speciálních znaků vynutit použití těchto pravidel pomocí ExtendedCss. Doporučujeme používat tyto znaky pro všechna rozšířená kosmetická pravidla CSS, aby bylo snazší je najít.</p><p>Syntaxe rozšířených pravidel CSS:</p><ul><li><code>#?#</code> — pro skrytí prvku, <code>#@?#</code> — pro výjimky</li><li><code>#$?#</code> — pro pravidlo CSS, <code>#@$?#</code> — pro výjimky</li></ul><p><strong>Důrazně doporučujeme</strong> použít tyto znaky kdykoli, když používáte rozšířený selektor CSS.</p><p><strong>Příklady</strong></p><ul><li><code>example.org#?#div:has(&gt; a[target=&quot;_blank&quot;][rel=&quot;nofollow&quot;])</code> — toto pravidlo blokuje všechny prvky <code>div</code> obsahující podřízený uzel, který má odkaz s atributy <code>[target=&quot;_blank&quot;][rel=&quot;nofollow&quot;]</code>. Pravidlo platí pouze pro <code>example.org</code> a její subdomény.</li><li><code>example.com#$?#h3:contains(cookies) { display: none!important; }</code> — toto pravidlo nastaví styl <code>display: none!important</code> všem prvkům <code>h3</code>, které obsahují slovo <code>cookies</code>. Pravidlo platí pouze pro <code>example.com</code> a všechny její subdomény.</li><li><code>example.net#?#.banner:matches-css(width: 360px)</code> — toto pravidlo blokuje všechny prvky <code>.banner</code> s vlastností stylu <code>width: 360px</code>. Pravidlo platí pouze pro <code>example.net</code> a její subdomény.</li><li><code>example.net#@?#.banner:matches-css(width: 360px)</code> — toto pravidlo zakáže předchozí pravidlo.</li></ul><p>Standardní CSS selektory můžete použít pomocí knihovny ExtendedCss pomocí znaku pravidla <code>#?#</code>, např. <code>#?#div.banner</code>.</p><p>Přečtěte si další informace o <a href="#selectors-debugging-mode">ladění rozšířených selektorů</a>.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Některé pseudo-třídy před sebou selektor nevyžadují. Přesto přidání <a href="https://www.w3.org/TR/selectors-4/#the-universal-selector" target="_blank" rel="noopener noreferrer">univerzálního selektoru</a> <code>*</code> usnadňuje čtení rozšířeného selektoru, i když nemá žádný vliv na chování při porovnávání. Takže selektor <code>#blok :has(&gt; .inner)</code> funguje přesně jako <code>#blok *:has(&gt; .inner)</code>, ale druhý je zřejmější.</p><p>Názvy pseudo-tříd nerozlišují malá a velká písmena, např. <code>:HAS()</code> funguje jako <code>:has()</code>. Přesto se běžně používají názvy s malými písmeny.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-limitations">Limitace ExtendedCss<a class="hash-link" href="#extended-css-limitations" title="Přímý odkaz na hlavičku">​</a></h4><ol><li><p>CSS <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Comments" target="_blank" rel="noopener noreferrer">komentáře</a> a <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/At-rule" target="_blank" rel="noopener noreferrer">at-rules</a> nejsou podporovány.</p></li><li><p>Konkrétní pseudo-třída může mít svá vlastní omezení: <a href="#extended-css-has-limitations"><code>:has()</code></a>, <a href="#extended-css-xpath-limitations"><code>:xpath()</code></a>, <a href="#extended-css-nth-ancestor-limitations"><code>:nth-ancestor()</code></a>, <a href="#extended-css-upward-limitations"><code>:upward()</code></a>, <a href="#extended-css-is-limitations"><code>:is()</code></a>, <a href="#extended-css-not-limitations"><code>:not()</code></a>, and <a href="#extended-css-remove-limitations"><code>:remove()</code></a>.</p></li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-has">Pseudo-třída <code>:has()</code><a class="hash-link" href="#extended-css-has" title="Přímý odkaz na hlavičku">​</a></h4><p>Návrh specifikace CSS 4.0 popisuje <a href="https://www.w3.org/TR/selectors-4/#relational" target="_blank" rel="noopener noreferrer"><code>:has()</code>pseudo-třídu</a>. Bohužel <a href="https://caniuse.com/css-has" target="_blank" rel="noopener noreferrer">to zatím není podporováno</a> všemi oblíbenými prohlížeči.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Pravidla s pseudo-třídou <code>:has()</code> by měla používat nativní implementaci <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:has" target="_blank" rel="noopener noreferrer"> <code>:has()</code></a>, pokud používají znak <code>##</code> a pokud je to možné, tj. bez dalších rozšířených selektorů uvnitř. Chcete-li vynutit použití pravidel ExtendedCss s <code>:has()</code>, použijte explicitně znak <code>#?#</code>/<code>#$?#</code>.</p></div></div><p><strong>Kompatibilita s jinými pseudo-třídami</strong></p><p>Synonyma <code>:-abp-has()</code> podporují ExtendedCss pro lepší kompatibilitu.</p><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Upozornění na odstranění</div><div class="admonitionContent_S0QG"><p><code>:if()</code> již není podporováno jako synonymum pro <code>:has()</code>.</p></div></div><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[target]:has(selector)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>target</code> — nepovinný, standardní nebo rozšířený selektor CSS může být vynechán pro kontrolu <em>libovolného</em> prvku</li><li><code>selector</code> — povinný, standardní nebo rozšířený selektor CSS</li></ul><p>Pseudo-třída <code>:has()</code> vybere prvky <code>target</code>, které se hodí do <code>selector</code>. Také <code>selector</code> může začínat kombinátorem.</p><p>Seznam selektorů lze nastavit také v <code>selector</code>. V tomto případě se zatím porovnávají <strong>všechny</strong> selektory v seznamu. V budoucnu bude jako argument stanovena hodnota <a href="https://www.w3.org/TR/selectors-4/#typedef-forgiving-relative-selector-list" target="_blank" rel="noopener noreferrer"><code>&lt;forgiving-relative-selector-list&gt;</code></a>.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-has-limitations"><code>:has()</code> limitations<a class="hash-link" href="#extended-css-has-limitations" title="Přímý odkaz na hlavičku">​</a></h5><p>Použití pseudotřída <code>:has()</code> je v některých případech <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=669058#c54" target="_blank" rel="noopener noreferrer">(2, 3)</a>:</p><ul><li>zakazuje <code>:has()</code> uvnitř pseudo akceptující pouze složené selektory;</li><li>zakazuje <code>:has()</code> po běžných pseudoprvcích.</li></ul><p>Nativní pseudo-třída <code>:has()</code> neumožňuje <code>:has()</code>, <code>:is()</code>, <code>:where()</code> uvnitř argumentu <code>:has()</code>, aby se zabránilo zvýšení složitosti zneplatnění <code>:has()</code> (<a href="https://bugs.chromium.org/p/chromium/issues/detail?id=669058#c54" target="_blank" rel="noopener noreferrer">případ 1</a>). ExtendedCss však dříve takové omezení nemělo a seznamy filtrů již taková pravidla obsahují, proto jsme toto omezení do ExtendedCss nepřidali a umožnili jsme používat <code>:has()</code> uvnitř <code>:has()</code>, jak to bylo možné dříve. Chcete-li to použít, stačí vynutit použití ExtendedCss nastavením znaku pravidla <code>#?#</code>/<code>#$?#</code>.</p><p>Nativní implementace neumožňuje žádné použití <code>:scope</code> uvnitř argumentu <code>:has()</code> (<a href="https://github.com/w3c/csswg-drafts/issues/7211" target="_blank" rel="noopener noreferrer">[1]</a>, <a href="https://github.com/w3c/csswg-drafts/issues/6399" target="_blank" rel="noopener noreferrer">[2]</a>). Přesto v seznamech filtrů některá taková pravidla existují: <code>div:has(:scope a)</code>, která nadále podporujeme tím, že je jednoduše převedeme na <code>div:has(&gt; a)</code>, jak se to dělalo dříve.</p><p><strong>Příklady</strong></p><p><code>div:has(.banner)</code> vybere všechny prvky <code>div</code>, které <strong>obsahují</strong> prvek se třídou <code>banner</code>:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Not selected</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Selected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">banner</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">inner element</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>div:has(&gt; .banner)</code> vybere všechny <code>prvky div</code>, které <strong>obsahují prvek třídy</strong> <code>banner</code> jako <em>přímý potomek</em> z <code>div</code>:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Not selected</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Selected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">banner</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">child element</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>div:has(+ .banner)</code> vybere všechny prvky <code>div</code> <strong>předcházející</strong> prvek třídy <code>banner</code>, který <em>bezprostředně následuje</em> po <code>div</code> a oba jsou potomky stejného rodu:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Not selected</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Selected</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">banner</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">adjacent sibling</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Not selected</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>div:has(~ .banner)</code> vybere všechny prvky <code>div</code> <strong>předcházející</strong> prvek třídy <code>banner</code>, který <em>následuje</em> <code>div</code>, ale <em>ne nutně bezprostředně</em> a oba jsou potomky stejného rodu:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Not selected</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Selected</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Not selected</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">banner</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">general sibling</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>div:has(span, .banner)</code> vybere všechny prvky <code>div</code>, které <strong>obsahují</strong> prvek se třídou <code>span</code> a <code>banner</code>:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Not selected</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Selected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">child span</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">banner</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">child .banner</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Stará syntaxe</div><div class="admonitionContent_S0QG"><p><a href="https://github.com/AdguardTeam/ExtendedCss#old-syntax-has" target="_blank" rel="noopener noreferrer">Zpětně kompatibilní syntaxe pro <code>:has()</code></a> je podporována, ale <strong>nedoporučuje se</strong>.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-contains">Pseudo-třída <code>:contains()</code><a class="hash-link" href="#extended-css-contains" title="Přímý odkaz na hlavičku">​</a></h4><p>Princip pseudo-třídy <code>:contains()</code> je velmi jednoduchý: umožňuje vybrat prvky, které obsahují zadaný text nebo jejichž obsah odpovídá zadanému regulárnímu výrazu. Příznaky regexp jsou podporovány.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Pseudo-třída <code>:contains()</code> používá pro porovnávání vlastnost prvku <code>textContent</code>, nikoliv <code>innerHTML</code>.</p></div></div><p><strong>Kompatibilita s jinými pseudo-třídami</strong></p><p>Pro lepší kompatibilitu jsou podporována synonyma <code>:-abp-contains()</code> a <code>:has-text()</code>.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[target]:contains(match)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>target</code> — nepovinný, standardní nebo rozšířený selektor CSS může být vynechán pro kontrolu <em>libovolného</em> prvku</li><li><code>shoda</code> — povinný, řetězec nebo regulární výraz pro shodu prvku <code>textContent</code>. Příznaky regulárních výrazů jsou podporovány.</li></ul><p><strong>Příklady</strong></p><p>Pro DOM:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Not selected</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">match</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Selected as IT contains &quot;banner&quot;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Not selected </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">banner</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>prvek <code>div#match</code> lze vybrat pomocí kteréhokoli z těchto rozšířených selektorů:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">! prostý text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">div:contains(banner)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">! regulární výraz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">div:contains(/as .* banner/)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">! regulární výraz s příznaky</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">div:contains(/it .* banner/gi)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Vybrán je pouze <code>div</code> s <code>id=match</code>, protože další prvek neobsahuje žádný text a <code>banner</code> je součástí kódu, nikoli textu.</p></div></div><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Stará syntaxe</div><div class="admonitionContent_S0QG"><p><a href="https://github.com/AdguardTeam/ExtendedCss#old-syntax-contains" target="_blank" rel="noopener noreferrer">Zpětně kompatibilní syntaxe pro <code>:contains()</code></a> je podporována, ale <strong>nedoporučuje se</strong>.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-matches-css">Pseudo-třída <code>:matches-css()</code><a class="hash-link" href="#extended-css-matches-css" title="Přímý odkaz na hlavičku">​</a></h4><p>Pseudo-třída <code>:matches-css()</code> umožňuje porovnat prvek podle jeho aktuálních vlastností stylu. Práce pseudo-třídy je založena na použití metody <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle" target="_blank" rel="noopener noreferrer"><code>Window.getComputedStyle()</code></a>.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[target]:matches-css([pseudo-element, ] property: pattern)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>target</code> — nepovinný, standardní nebo rozšířený selektor CSS může být vynechán pro kontrolu <em>libovolného</em> prvku</li><li><code>pseudo-element</code> — volitelný, platný standardní pseudoprvek, např. <code>before</code>, <code>after</code>, <code>first-line</code> atd.</li><li><code>property</code> — povinný, název vlastnosti CSS, pro kterou se má prvek zkontrolovat</li><li><code>pattern</code> — povinný, vzor hodnoty, který používá stejnou jednoduchou shodu se zástupnými znaky jako v základních pravidlech filtrování adres URL NEBO regulární výraz. Při tomto typu porovnávání, AdGuard vždy porovnává bez ohledu na velikost písmen. V případě regulárního výrazu vypadá vzor takto: <code>/regexp/</code>.</li></ul><p><strong>Speciální znaky uvozené a neuvozené</strong></p><p>Všechny vzory <strong>non-regexp</strong> <code>(</code>,<code>)</code>,<code>[</code>,<code>]</code> musí být <strong>neuvozeny</strong>, např. <code>:matches-css(background-image:url(data:*))</code>.</p><p>Vzory <strong>regexp</strong> <code>\</code> by měly být <strong>uvozeny</strong>, např. <code>:matches-css(background-image: /^url\\(&quot;data:image\\/gif;base64.+/)</code>.</p><p><strong>Příklady</strong></p><p>Pro DOM:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">style</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text/css</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">    </span><span class="token style language-css selector id" style="color:#00009f">#matched</span><span class="token style language-css selector pseudo-element" style="color:#00009f">::before</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:#393A34">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">        </span><span class="token style language-css property" style="color:#36acaa">content</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> </span><span class="token style language-css string" style="color:#e3116c">&quot;Block me&quot;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">    </span><span class="token style language-css punctuation" style="color:#393A34">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">style</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">matched</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">not-matched</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>prvky <code>div</code> s pseudoprvkem <code>::before</code> a se zadanou vlastností <code>content</code> lze vybrat kterýmkoli z těchto rozšířených selektorů:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">! string pattern</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">div:matches-css(before, content: block me)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">! string pattern with wildcard</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">div:matches-css(before, content: block*)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">! regular expression pattern</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">div:matches-css(before, content: /block me/)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><p>Vzory regexp <strong>nepodporují</strong> příznaky.</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Zastaralé pseudo-třídy <code>:matches-css-before()</code> a <code>:matches-css-after()</code> se již nedoporučují, ale stále jsou podporovány kvůli lepší kompatibilitě.</p></div></div><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Stará syntaxe</div><div class="admonitionContent_S0QG"><p><a href="https://github.com/AdguardTeam/ExtendedCss#old-syntax-matches-css" target="_blank" rel="noopener noreferrer">Zpětně kompatibilní syntaxe pro <code>:matches-css()</code></a> je podporována, ale <strong>nedoporučuje se</strong>.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-matches-attr">Pseudo-třída <code>:matches-attr()</code><a class="hash-link" href="#extended-css-matches-attr" title="Přímý odkaz na hlavičku">​</a></h4><p>Pseudo-třída <code>:matches-attr()</code> umožňuje vybrat prvek podle jeho atributů, zejména pokud jsou náhodné.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[target]:matches-attr(&quot;name&quot;[=&quot;value&quot;])</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>target</code> — nepovinný, standardní nebo rozšířený selektor CSS může být vynechán pro kontrolu <em>libovolného</em> prvku</li><li><code>name</code> — povinný, jednoduchý řetězec <em>nebo</em> řetězec se zástupným znakem <em>nebo</em> regulární výraz pro shodu názvu atributu</li><li><code>value</code> — volitelný, jednoduchý řetězec <em>nebo</em> řetězec se zástupným znakem <em>nebo</em> regulární výraz pro shodu hodnoty atributu</li></ul><p><strong>Uvození speciálních znaků</strong></p><p>Pro vzory <strong>regexp</strong> <code>&quot;</code> a <code>\</code> by mělo být <strong>uvozeno</strong>, např. <code>div:matches-attr(class=/[\\w]{5}/)</code>.</p><p><strong>Příklady</strong></p><p><code>div:matches-attr(&quot;ad-link&quot;)</code> vybere prvek <code>div#target1</code>:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">target1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">ad-link</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1random23-banner_240x400</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>div:matches-attr(&quot;data-*&quot;=&quot;adBanner&quot;)</code> vybere prvek <code>div#target2</code>:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">target2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data-1random23</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">adBanner</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>div:matches-attr(*unit*=/^click$/)</code> vybere prvek <code>div#target3</code>:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">target3</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">random123-unit094</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">click</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>*:matches-attr(&quot;/.{5,}delay$/&quot;=&quot;/^[0-9]*$/&quot;)</code> vybere prvek <code>#target4</code>:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">inner-random23</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">target4</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">nt4f5be90delay</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1000</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">inner-random23</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><p>Vzory regexp <strong>nepodporují</strong> příznaky.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-property">Pseudo-třída <code>:matches-property()</code><a class="hash-link" href="#extended-css-property" title="Přímý odkaz na hlavičku">​</a></h4><p>Pseudo-třída <code>:matches-property()</code> umožňuje vybrat prvek podle jeho vlastností.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[target]:matches-property(&quot;name&quot;[=&quot;value&quot;])</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>target</code> — nepovinný, standardní nebo rozšířený selektor CSS může být vynechán pro kontrolu <em>libovolného</em> prvku</li><li><code>name</code> — povinný, jednoduchý řetězec <em>nebo</em> řetězec se zástupným znakem <em>nebo</em> regulární výraz pro porovnávání názvů vlastností prvků</li><li><code>value</code> — volitelný, jednoduchý řetězec <em>nebo</em> řetězec se zástupným znakem <em>nebo</em> regulární výraz pro porovnávání názvů vlastností prvků</li></ul><p><strong>Uvození speciálních znaků</strong></p><p>Pro vzory <strong>regexp</strong> <code>&quot;</code> a <code>\</code> by mělo být uvozeno, např. <code>div:matches-property(prop=/[\\w]{4}/)</code>.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Vzory regexp jsou podporovány v <code>name</code> pro libovolnou vlastnost v řetězci, např. <code>prop./^unit[\\d]{4}$/.type</code>.</p></div></div><p><strong>Příklady</strong></p><p>Prvek s těmito vlastnostmi:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">divProperties </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">check</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">track</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">unit_2random1</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">memoizedProps</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">key</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">tag</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">_owner</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">effectTag</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">src</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ad.com&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>lze vybrat pomocí některého z těchto rozšířených selektorů:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">div:matches-property(check.track)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">div:matches-property(&quot;check./^unit_.{4,8}$/&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">div:matches-property(&quot;check.unit_*&quot;=true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">div:matches-property(memoizedProps.key=&quot;null&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">div:matches-property(memoizedProps._owner.src=/ad/)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Pro správce filtrů</div><div class="admonitionContent_S0QG"><p>Chcete-li zkontrolovat vlastnosti konkrétního prvku, postupujte takto:</p><ol><li>Zkontrolujte prvek stránky nebo jej vyberte na kartě <code>Elements</code> v nástroji DevTools prohlížeče.</li><li>Spusťte <code>console.dir($0)</code> na kartě <code>Console</code>.</li></ol></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><p>Vzory regexp <strong>nepodporují</strong> příznaky.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-xpath">Pseudo-třída <code>:xpath()</code><a class="hash-link" href="#extended-css-xpath" title="Přímý odkaz na hlavičku">​</a></h4><p>Pseudo-třída <code>:xpath()</code> umožňuje vybrat prvek vyhodnocením výrazu XPath.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[target]:xpath(expression)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>target</code> — volitelný, standardní nebo rozšířený selektor CSS</li><li><code>expression</code> — povinný, platný výraz XPath</li></ul><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-xpath-limitations"><code>:xpath()</code> limitations<a class="hash-link" href="#extended-css-xpath-limitations" title="Přímý odkaz na hlavičku">​</a></h5><p><code>cíl</code> lze vynechat, takže je volitelný. Pro jakoukoli jinou pseudo-třídu by to znamenalo &quot;aplikuj na <em>všechny</em> uzly DOM&quot;, ale v případě <code>:xpath()</code> to znamená jen &quot;aplikuj na <em>celý</em> dokument&quot;, a takovéto použití výrazně zpomaluje výběr prvků. Proto jsou pravidla jako <code>#?#:xpath(expression)</code> omezena na nahlížení do znaku <code>body</code>. Např. pravidlo <code>#?#:xpath(//div[@data-st-area=\&#x27;Advert\&#x27;])</code> je analyzováno jako <code>#?#body:xpath(//div[@data-st- area=\&#x27;Advert\&#x27;])</code>.</p><p>Rozšířené selektory s definovaným <code>target</code> jako <em>libovolný selektor</em> — <code>*:xpath(expression)</code> — lze stále použít, ale nedoporučuje se to, proto by měl být místo toho uveden <code>target</code>.</p><p>Funguje správně pouze na konci selektoru, s výjimkou <a href="#remove-pseudos">pseudo-třídy :remove()</a>.</p><p><strong>Příklady</strong></p><p><code>:xpath(//*[@class=&quot;banner&quot;])</code> vybere prvek <code>div#target1</code>:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">target1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">banner</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>:xpath(//*[@class=&quot;inner&quot;]/..)</code> vybere prvek <code>div#target2</code>:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">target2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">inner</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-nth-ancestor">Pseudo-třída <code>:nth-ancestor()</code><a class="hash-link" href="#extended-css-nth-ancestor" title="Přímý odkaz na hlavičku">​</a></h4><p>Pseudo-třída <code>:nth-ancestor()</code> umožňuje vyhledat <em>nth</em> předka vzhledem k dříve vybranému prvku.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">subject:nth-ancestor(n)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>subjectr</code> — povinný, standardní nebo rozšířený selektor CSS</li><li><code>n</code> — povinné, číslo &gt;= 1 a &lt; 256, vzdálenost k potřebnému předkovi od prvku vybraného pomocí <code>subject</code></li></ul><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">subject:nth-ancestor(n)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>subjectr</code> — povinný, standardní nebo rozšířený selektor CSS</li><li><code>n</code> — povinné, číslo &gt;= 1 a &lt; 256, vzdálenost k potřebnému předkovi od prvku vybraného pomocí <code>subject</code></li></ul><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-nth-ancestor-limitations"><code>:nth-ancestor()</code> limitations<a class="hash-link" href="#extended-css-nth-ancestor-limitations" title="Přímý odkaz na hlavičku">​</a></h5><p>Pseudo-třída <code>:nth-ancestor()</code> není podporována v argumentu <a href="#extended-css-not">pseudo-třídy <code>:not()</code></a>.</p><p><strong>Příklady</strong></p><p>Pro DOM:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">target1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">child</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">target2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">inner</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>.child:nth-ancestor(1)</code> vybere prvek <code>div#target1</code>, <code>div[class=&quot;inner&quot;]:nth-ancestor(3)</code> vybere prvek <code>div#target2</code>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-upward">Pseudo-třída <code>:upward()</code><a class="hash-link" href="#extended-css-upward" title="Přímý odkaz na hlavičku">​</a></h4><p>Pseudo-třída <code>:upward()</code> umožňuje vyhledat předka vzhledem k dříve vybranému prvku.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">subject:upward(ancestor)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>subjectr</code> — povinný, standardní nebo rozšířený selektor CSS</li><li><code>ancestor</code> — povinný, specifikace pro předka prvku vybraného pomocí <code>subject</code>, lze nastavit jako:<ul><li><em>číslo</em> &gt;= 1 a &lt; 256 pro vzdálenost k požadovanému předkovi, stejně jako u položky <a href="#extended-css-nth-ancestor"><code>:nth-ancestor()</code></a></li><li><em>standardní selektor CSS</em> pro shodu nejbližšího předka</li></ul></li></ul><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-upward-limitations"><code>:upward()</code> limitations<a class="hash-link" href="#extended-css-upward-limitations" title="Přímý odkaz na hlavičku">​</a></h5><p>Pseudo-třída <code>:nth-upward()</code> není podporována v argumentu <a href="#extended-css-not">pseudo-třídy <code>:not()</code></a>.</p><p><strong>Příklady</strong></p><p>Pro DOM:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">target1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">true</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">child</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">target2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">inner</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>.inner:upward(div[data])</code> vybere prvek <code>div#target1</code>, <code>.inner:upward(div[id])</code> vybere prvek <code>div#target2</code>, <code>.child:upward(1)</code> vybere prvek <code>div#target1</code>, <code>.inner:upward(3)</code> vybere prvek <code>div#target2</code>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="remove-pseudos">Pseudo-třída <code>:remove()</code> a pseudo-vlastnost <code>remove</code><a class="hash-link" href="#remove-pseudos" title="Přímý odkaz na hlavičku">​</a></h4><p>Někdy je nutné odpovídající prvek odstranit namísto jeho skrytí nebo použití vlastních stylů. Chcete-li to provést, můžete použít pseudo-třídu <code>:remove()</code> a také pseudo-vlastnost <code>remove</code>.</p><p><strong>Pseudo-třídu <code>:remove()</code> lze umístit pouze na konec selektoru.</strong></p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">! pseudo-class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">selector:remove()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">! pseudo-property</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">selector { remove: true; }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>selector</code> — povinný, standardní nebo rozšířený selektor CSS</li></ul><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-remove-limitations"><code>:remove()</code> a <code>remove</code> limitations<a class="hash-link" href="#extended-css-remove-limitations" title="Přímý odkaz na hlavičku">​</a></h5><p>Pseudo-třída <code>:remove()</code> je omezena tak, aby správně fungovala pouze na konci selektoru.</p><p>Pro použití pseudo-třídy <code>:remove()</code> na libovolný prvek je třeba použít <a href="https://www.w3.org/TR/selectors-4/#the-universal-selector" target="_blank" rel="noopener noreferrer">univerzální selektor</a> <code>*</code>. V opačném případě může být takový rozšířený selektor považován za neplatný, např. <code>.banner &gt; :remove()</code> neplatí pro odstranění jakéhokoli podřízeného prvku třídy <code>banner</code>, takže by měl vypadat jako <code>.banner &gt; *:remove()</code>.</p><p>Pokud je použita pseudo-třída <code>:remove()</code> nebo pseudovlastnost <code>remove</code>, všechny vlastnosti stylu se ignorují kromě pseudovlastnosti <a href="#selectors-debug-mode"><code>debug</code></a>.</p><p><strong>Příklady</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">div.banner:remove()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">div:has(&gt; div[ad-attr]):remove()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">div:contains(advertisement) { remove: true; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">div[class]:has(&gt; a &gt; img) { remove: true; }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Pravidla s pseudovlastností <code>remove</code> by měla používat znak <code>#$?#</code>: <code>$</code> pro syntaxi pravidel stylu CSS, <code>?</code> pro syntaxi ExtendedCss.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-is">Pseudo-třída <code>:is()</code><a class="hash-link" href="#extended-css-is" title="Přímý odkaz na hlavičku">​</a></h4><p>Pseudo-třída <code>:is()</code> umožňuje porovnat jakýkoli prvek, který lze vybrat kterýmkoli ze selektorů, které jí byly předány. Neplatné selektory jsou přeskočeny a pseudo-třída se vypořádá s platnými selektory bez vyhození chyby. Naše implementace <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:is" target="_blank" rel="noopener noreferrer">nativní <code>:is()</code> pseudo-třídy</a>.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[target]:is(selectors)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>target</code> — nepovinný, standardní nebo rozšířený selektor CSS může být vynechán pro kontrolu <em>libovolného</em> prvku</li><li><code>selectors</code> — <a href="https://drafts.csswg.org/selectors-4/#typedef-forgiving-selector-list" target="_blank" rel="noopener noreferrer"><em>odpouštějící seznam selektorů</em></a> standardních nebo rozšířených selektorů. U rozšířených selektorů jsou podporovány pouze složené selektory, nikoli komplexní.</li></ul><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-is-limitations"><code>:is()</code> limitations<a class="hash-link" href="#extended-css-is-limitations" title="Přímý odkaz na hlavičku">​</a></h5><p>Pravidla s pseudo-třídou <code>:is()</code> by měla používat nativní implementaci <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:is" target="_blank" rel="noopener noreferrer"> <code>:has()</code></a>, pokud pravidla používají znak <code>##</code> a pokud je to možné, tj. bez dalších rozšířených selektorů uvnitř. Chcete-li vynutit použití pravidel ExtendedCss s <code>:is()</code>, použijte explicitně znak <code>#?#</code>/<code>#$?#</code>.</p><p>Pokud je argument <code>:is()</code> pseudo-třídy <code>selector</code> rozšířeným selektorem, vzhledem ke způsobu, jakým je v ExtendedCss v2.0 implementována pseudo-třída <code>:is()</code>, není možné ji použít na horní uzel DOM, kterým je <code>html</code>, tj. <code>#?#html:is(&lt;extended-selectors&gt;)</code> nefunguje. Pokud tedy <code>target</code> není definován nebo je definován jako <a href="https://www.w3.org/TR/selectors-4/#the-universal-selector" target="_blank" rel="noopener noreferrer">univerzální selektor</a> <code>*</code>, je rozšířené použití pseudo-třídy omezeno na <strong><code>html</code>potomky</strong>, např. pravidla <code>#?#:is(...)</code> a <code>#?#*:is(...)</code> jsou analyzována jako <code>#?#html *:is(...)</code>. Upozorňujeme, že pro standardní argument selektoru takové omezení neexistuje, tj. <code>#?#html:is(.locked)</code> funguje bez problémů.</p><p><a href="https://www.w3.org/TR/selectors-4/#complex" target="_blank" rel="noopener noreferrer">Komplexní selektory</a> s rozšířenými pseudo-třídami nejsou podporovány jako argument <code>selector</code> pro pseudo-třídu <code>:is()</code>, povoleny jsou pouze <a href="https://www.w3.org/TR/selectors-4/#compound" target="_blank" rel="noopener noreferrer">složené</a>. Další podrobnosti naleznete v příkladech níže.</p><p><strong>Příklady</strong></p><p><code>#container *:is(.inner, .footer)</code> vybere pouze prvek <code>div#target1</code>:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">container</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">true</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">target1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">inner</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Kvůli omezením <code>:is(*:not([class]) &gt; .banner)&#x27;</code> nefunguje, ale lze místo něj použít <code>:is(*:not([class]):has(&gt; .banner))</code> k výběru prvku <code>div#target2</code>:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">span</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">text</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">target2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">banner</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">inner paragraph</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-not">Pseudo-třída <code>:not()</code><a class="hash-link" href="#extended-css-not" title="Přímý odkaz na hlavičku">​</a></h4><p>Pseudo-třída <code>:not()</code> umožňuje vybrat prvky, které se <em>neshodují</em> se selektory předávanými jako argument. Neplatné selektory argumentů nejsou povoleny a je třeba vyhodit chybu. Naše implementace pseudo-třídy <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:not" target="_blank" rel="noopener noreferrer"><code>:not()</code></a>.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[target]:not(selectors)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>target</code> — nepovinný, standardní nebo rozšířený selektor CSS může být vynechán pro kontrolu <em>libovolného</em> prvku</li><li><code>selectors</code> — seznam standardních nebo rozšířených selektorů</li></ul><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-not-limitations"><code>:not()</code> limitations<a class="hash-link" href="#extended-css-not-limitations" title="Přímý odkaz na hlavičku">​</a></h5><p>Pravidla s pseudo-třídou <code>:not()</code> by měla používat nativní implementaci <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:not" target="_blank" rel="noopener noreferrer"> <code>:not()</code></a>, pokud pravidla používají znak <code>##</code> a pokud je to možné, tj. bez dalších rozšířených selektorů uvnitř. Chcete-li vynutit použití pravidel ExtendedCss s <code>:not()</code>, použijte explicitně znak <code>#?#</code>/<code>#$?#</code>.</p><p>Pokud je argument <code>:not()</code> pseudo-třídy <code>selector</code> rozšířeným selektorem, vzhledem ke způsobu, jakým je v ExtendedCss v2.0 implementována pseudo-třída <code>:not()</code>, není možné ji použít na horní uzel DOM, kterým je <code>html</code>, tj. <code>#?#html:not(&lt;extended-selectors&gt;)</code> nefunguje. Pokud tedy <code>target</code> není definován nebo je definován jako <a href="https://www.w3.org/TR/selectors-4/#the-universal-selector" target="_blank" rel="noopener noreferrer">univerzální selektor</a> <code>*</code>, je rozšířené použití pseudo-třídy omezeno na <strong><code>html</code>potomky</strong>, např. pravidla <code>#?#:not(...)</code> a <code>#?#*:not(...)</code> jsou analyzována jako <code>#?#html *:not(...)</code>. Upozorňujeme, že pro standardní argument selektoru takové omezení neexistuje, tj. <code>#?#html:not(.locked)</code> funguje bez problémů.</p><p><code>:not()</code> je považována za standardní pseudo-třídu CSS uvnitř argumentu pseudo-třídy <a href="#extended-css-upward"><code>:upward()</code></a>, protože <code>:upward()</code> podporuje pouze standardní selektory.</p><p>&quot;Up-looking&quot; pseudotřídy, které jsou <a href="#extended-css-nth-ancestor"><code>:nth-ancestor()</code></a> a <a href="#extended-css-upward"><code>:upward()</code></a> nejsou podporovány uvnitř argumentu <code>selector</code> pro pseudo-třídu <code>:not()</code>.</p><p><strong>Příklady</strong></p><p><code>#container &gt; *:not(h2, .text)</code> vybere pouze prvek <code>div#target1</code>:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- HTML code --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">container</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h2</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Header</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h2</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">target1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">text</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extended-css-if-not">Pseudo-třída <code>:if-not()</code> (odstraněno)<a class="hash-link" href="#extended-css-if-not" title="Přímý odkaz na hlavičku">​</a></h4><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Upozornění na odstranění</div><div class="admonitionContent_S0QG"><p>Pseudo-třída <code>:if-not()</code> je odstraněna a již není podporována. Pravidla s tímto modifikátorem jsou považována za neplatná.</p></div></div><p>Tato pseudo-třída byla v podstatě zkratkou pro <code>:not(:has())</code>. Byla podporována ExtendedCss pro lepší kompatibilitu s některými odběry filtrů.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cosmetic-rules-priority">Přednost kosmetických pravidel<a class="hash-link" href="#cosmetic-rules-priority" title="Přímý odkaz na hlavičku">​</a></h3><p>Způsob, jakým jsou aplikována pravidla <strong>pro skrývání prvků</strong> a <strong>CSS</strong>, je specifický pro danou platformu.</p><p><strong>V AdGuardu pro Windows, Mac a Android</strong> používáme šablonu stylů vloženou do stránky. Priorita kosmetických pravidel je stejná jako u jakéhokoli jiného souboru stylů CSS na webových stránkách. Existují však omezení: <a href="#elemhide-syntax">skrytí prvku</a> a <a href="#cosmetic-css-rules">pravidla CSS</a> nemohou přepsat vložené styly. V takových případech se doporučuje použít rozšířené selektory nebo filtrování HTML.</p><p><strong>V Rozšíření prohlížeče AdGuard</strong> se používají tzv. &quot;soubory uživatelských stylů&quot;. Mají vyšší prioritu než řádkové styly.</p><p><strong>Rozšířené selektory CSS</strong> používají k práci JavaScript a v podstatě samy přidávají vložený styl, takže mohou přepsat jakýkoli styl.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="html-filtering-rules">HTML pravidla filtrování<a class="hash-link" href="#html-filtering-rules" title="Přímý odkaz na hlavičku">​</a></h2><p>Ve většině případů stačí k filtrování reklam základní a kosmetická pravidla. Někdy je však nutné změnit kód HTML samotné stránky před jejím načtením. V takovém případě potřebujete pravidla pro filtrování obsahu HTML. Umožňují označit prvky HTML, které mají být vyříznuty před načtením stránky prohlížečem.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla filtrování HTML podporuje AdGuard pro Windows, Mac, Android a Rozšíření prohlížeče AdGuard pro Firefox. Taková pravidla v rozšířeních pro jiné prohlížeče nefungují, protože nemohou měnit obsah na úrovni sítě.</p></div></div><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      rule = [domains] &quot;$$&quot; tagName [attributes]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   domains = [domain0, domain1[, ...[, domainN]]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">attributes = &quot;[&quot; name0 = value0 &quot;]&quot; &quot;[&quot; name1 = value2 &quot;]&quot; ... &quot;[&quot; nameN = valueN &quot;]&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong><code>tagName</code></strong> — název prvku s malými písmeny, např. <code>div</code> nebo <code>script</code>.</li><li><strong><code>domains</code></strong> — omezení domény pro dané pravidlo. Stejné zásady jako v <a href="#elemhide-syntax">syntaxi pravidel pro skrývání prvků</a>.</li><li><strong><code>atributy</code></strong> — seznam atributů, které limitují výběr prvků. <code>name</code> — název atributu, <code>value</code> — podřetězec, který je obsažen v hodnotě atributu.</li></ul><p><strong>Příklady</strong></p><p><strong>Kód HTML:</strong></p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data-src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/banner.js</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Pravidlo:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">example.org$$script[data-src=&quot;banner&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Toto pravidlo odstraní všechny prvky <code>script</code> s atributem <code>data-src</code> obsahujícím podřetězec <code>banner</code>. Pravidlo platí pouze pro <code>example.org</code> a všechny její subdomény.</p><p><strong>Speciální atributy</strong></p><p>Kromě obvyklých atributů, jejichž hodnotu kontroluje každý prvek, existuje sada speciálních atributů, které mění způsob fungování pravidla. Níže je uveden seznam těchto atributů:</p><ul><li><strong><code>tag-content</code></strong></li></ul><p>Jedná se o nejčastěji používaný speciální atribut. Omezí výběr na ty prvky, jejichž kód innerHTML obsahuje zadaný podřetězec.</p><p>Měli byste použít <code>&quot;&quot;</code> k uvození <code>&quot;</code>&gt;, např.: <code>$$script[tag-content=&quot;alert(&quot;&quot;this is ad&quot;&quot;)&quot;]</code></p><p>Podívejte se například na tento HTML kód:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text/javascript</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">write</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;&lt;div&gt;banner text&lt;/div&gt;&quot; /&gt;&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Následující pravidlo smaže všechny prvky <code>script</code> s podřetězcem <code>banner</code> v jejich kódu:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$$script[tag-content=&quot;banner&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Vnořené prvky</strong></p><p>Pokud se jedná o více vnořených prvků a všechny spadají do stejného pravidla filtrování HTML, budou všechny odstraněny.</p><ul><li><strong><code>wildcard</code></strong></li></ul><p>Tento speciální atribut funguje téměř jako <code>tag-content</code> a umožňuje kontrolovat kód dokumentu innerHTML. Pravidlo zkontroluje, zda kód HTML prvku odpovídá <a href="https://en.wikipedia.org/wiki/Glob_(programming)" target="_blank" rel="noopener noreferrer">vyhledávacímu vzoru</a>.</p><p>Měli byste použít <code>&quot;&quot;</code> k uvození <code>&quot;</code>, např.: <code>$$script[wildcard=&quot;&quot;banner&quot;&quot;]</code></p><p>Např.: <code>$$script[wildcard=&quot;*banner*text*&quot;]</code></p><p>Zkontroluje, zda kód prvku obsahuje dva po sobě jdoucí podřetězce <code>banner</code> a <code>text</code>.</p><ul><li><strong><code>max-length</code></strong></li></ul><p>Určuje maximální délku obsahu prvku HTML. Pokud je tento parametr nastaven a délka obsahu přesahuje tuto hodnotu, pravidlo se na prvek nevztahuje.</p><p><strong>Výchozí hodnota</strong></p><p>Pokud tento parametr není zadán, považuje se <code>max-lenght</code> za 8192.</p><p>Např:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$$div[tag-content=&quot;banner&quot;][max-length=&quot;400&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Toto pravidlo odstraní všechny prvky <code>div</code>, jejichž kód obsahuje podřetězec <code>banner</code> a jejichž délka nepřesahuje <code>400</code> znaků.</p><ul><li><strong><code>min-length</code></strong></li></ul><p>Určuje minimální délku obsahu prvku HTML. Pokud je tento parametr nastaven a délka obsahu je menší než nastavená hodnota, pravidlo se na prvek nevztahuje.</p><p>Např:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$$div[tag-content=&quot;banner&quot;][min-length=&quot;400&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Toto pravidlo odstraní všechny prvky <code>div</code>, jejichž kód obsahuje podřetězec <code>banner</code> a jejichž délka přesahuje <code>400</code> znaků.</p><p><strong>Výjimky</strong></p><p>Podobně jako u pravidel skrývání existuje speciální typ pravidel, který zakáže vybrané pravidlo filtrování HTML pro určité domény. Syntaxe je stejná, jen je třeba změnit <code>$$</code> na <code>$@$</code>.</p><p>Ve filtru je např. pravidlo:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$$script[tag-content=&quot;banner&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pokud to chcete zakázat pro <code>example.com</code>, můžete vytvořit pravidlo výjimky:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">example.com$@$script[tag-content=&quot;banner&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Někdy může být nutné zakázat všechna pravidla omezení. Např. k provádění testů. Za tímto účelem použijte pravidlo výjimky bez zadání domény.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$@$script[tag-content=&quot;banner&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Tento druh výjimek doporučujeme používat pouze v případě, že není možné změnit samotné pravidlo skrývání. V ostatních případech je lepší změnit původní pravidlo pomocí omezení domény.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="javascript-rules">Pravidla JavaScript<a class="hash-link" href="#javascript-rules" title="Přímý odkaz na hlavičku">​</a></h2><p>AdGuard podporuje speciální typ pravidel, která umožňují vložit na webové stránky libovolný kód JavaScript.</p><p><strong>Důrazně doporučujeme</strong> používat <a href="#scriptlets">skriptlety</a> namísto pravidel JavaScript, kdykoli je to možné. Pravidla JS mají pomoci s laděním, ale jako dlouhodobé řešení by se mělo používat pravidlo skriptlet.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rule = [domains]  &quot;#%#&quot; script</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong><code>domains</code></strong> — omezení domény pro dané pravidlo. Stejné zásady jako v <a href="#elemhide-syntax">pravidlech pro skrývání prvků</a>.</li><li><strong><code>skript</code></strong> — libovolný kód JavaScript <strong>v jednom řetězci</strong>.</li></ul><p><strong>Příklady</strong></p><ul><li><code>example.org#%#window.__gaq = undefined;</code> spustí kód <code>window.__gaq = undefined;</code> na všech stránkách na <code>example.org</code> a jejích subdoménách.</li></ul><p><strong>Výjimky</strong></p><p>Podobně jako u pravidel skrývání existuje speciální typ pravidel, který zakáže vybrané pravidlo JavaScript pro určité domény. Syntaxe je stejná, jen je třeba změnit <code>#%#</code> na <code>#@%#</code>.</p><p>Ve filtru je např. pravidlo:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#%#window.__gaq = undefined;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pokud to chcete zakázat pro <code>example.com</code>, můžete vytvořit pravidlo výjimky:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">example.com#@%#window.__gaq = undefined;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Někdy může být nutné zakázat všechna pravidla omezení. Např. k provádění testů. Za tímto účelem použijte pravidlo výjimky bez zadání domény.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#@%#window.__gaq = undefined;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Tento druh výjimek doporučujeme používat pouze v případě, že není možné změnit samotné pravidlo skrývání. V ostatních případech je lepší změnit původní pravidlo pomocí omezení domény.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><p>Typ pravidel JavaScript lze použít <a href="#trusted-filters"><strong>pouze v důvěryhodných filtrech</strong></a>.</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla JavaScript nejsou Blokátorem obsahu AdGuard podporována.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scriptlets">Pravidla skriptlet<a class="hash-link" href="#scriptlets" title="Přímý odkaz na hlavičku">​</a></h2><p>Skriptlet je funkce JavaScript, která poskytuje rozšířené možnosti pro blokování obsahu. Tyto funkce lze v AdGuard pravidlech filtrování používat deklarativním způsobem.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>AdGuard podporuje mnoho různých skriptletů. Abychom dosáhli kompatibility mezi blokátory, podporujeme také syntaxi uBO a ABP.</p></div></div><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rule = [domains]  &quot;#%#//scriptlet(&quot; scriptletName arguments &quot;)&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong><code>scriptletName</code></strong> — povinný, název skriptletu z knihovny skripletů AdGuard</li><li><strong><code>arguments</code></strong> — volitelnýný, seznam argumentů <code>string</code> (jiné typy argumentů nejsou podporovány)</li></ul><p><strong>Příklady</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">example.org#%#//scriptlet(&quot;abort-on-property-read&quot;, &quot;alert&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Toto pravidlo bude aplikováno na <code>example.org</code> a subdomény a spustí skriptlet <code>abort-on-property-read</code> s parametrem <code>alert</code>.</p><p>Přečtěte si další informace o <a href="#debug-scriptlets">ladění skripletů</a>.</p><p>Další informace o skriptletech najdete na <a href="https://github.com/AdguardTeam/Scriptlets#scriptlets" target="_blank" rel="noopener noreferrer">GitHubu</a>.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Skriplety nejsou Blokátorem obsahu AdGuard podporovány.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="trusted-scriptlets">Důvěryhodné skriptlety<a class="hash-link" href="#trusted-scriptlets" title="Přímý odkaz na hlavičku">​</a></h3><p>Důvěryhodné skriptlety jsou skriptlety <a href="#scriptlets"></a> s rozšířenou funkčností. Znamená to stejnou syntaxi a omezení. Názvy důvěryhodných skriptletů mají předponu <code>trusted-</code>, např. <code>trusted-set-cookie</code>, aby je bylo možné snadno odlišit od běžných skriptletů.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Důvěryhodné skriptlety nejsou kompatibilní s jinými blokátory reklam kromě AdGuardu.</p></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Omezení</div><div class="admonitionContent_S0QG"><p>Důvěryhodné skriplety lze použít <a href="#trusted-filters"><strong>pouze v důvěryhodných filtrech</strong></a>.</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Důvěryhodné skriplety nejsou Blokátorem obsahu AdGuard podporovány.</p></div></div><p>Přečtěte si další informace o <a href="#debug-scriptlets">ladění skripletů</a>.</p><p>Další informace o důvěryhodných skriptletech najdete na <a href="https://github.com/AdguardTeam/Scriptlets#trusted-scriptlets" target="_blank" rel="noopener noreferrer">GitHubu</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="modifikátory-pro-ostatní-typ-pravidel">Modifikátory pro ostatní typ pravidel<a class="hash-link" href="#modifikátory-pro-ostatní-typ-pravidel" title="Přímý odkaz na hlavičku">​</a></h2><ul><li><a href="#non-basic-app-modifier"><code>$app</code></a></li><li><a href="#non-basic-domain-modifier"><code>$domain</code></a></li><li><a href="#non-basic-path-modifier"><code>$path</code></a></li><li><a href="#non-basic-url-modifier"><code>$url</code></a></li></ul><p>Každé pravidlo lze upravit pomocí modifikátorů popsaných v následujících odstavcích.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rule = &quot;[$&quot; modifiers &quot;]&quot; [rule text]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">modifiers = modifier0[, modifier1[, ...[, modifierN]]]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong><code>modifier</code></strong> — sada modifikátorů popsaných níže.</li><li><strong><code>rule text</code></strong> — pravidlo, které je třeba změnit.</li></ul><p>Např.: <code>[$domain=example.com,app=test_app]##selector</code>.</p><p>V modifikátorech musí být uvozeny hodnoty následujících znaků: <code>[</code>, <code>]</code>, <code>,</code>a <code>\</code> (pokud se pro uvození nepoužívá). K uvození použijte <code>\</code>. Např. uvozená závorka vypadá takto: <code>\]</code>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="non-basic-app-modifier"><strong><code>$app</code></strong><a class="hash-link" href="#non-basic-app-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Modifikátor <code>$app</code> umožňuje zúžit pokrytí pravidla na konkrétní aplikaci, nebo seznam aplikací. Chování a syntaxe modifikátoru dokonale odpovídají příslušným <a href="#app-modifier">základním pravidlům modifikátoru <code>$app</code></a>.</p><p><strong>Příklady</strong></p><ul><li><code>[$app=org.example.app]example.com##.textad</code> skryje <code>div</code> s třídou <code>textad</code> na <code>example.com</code> a všech subdoménách v požadavcích odeslaných z <code>org.example.app</code> v aplikaci Android.</li><li><code>[$app=~org.example.app1|~org.example.app2]example.com##.textad</code> skryje <code>div</code> s třídou <code>textad</code> na <code>example.com</code> a všech subdoménách v požadavcích odeslaných z jakékoli aplikace kromě <code>org.example.app1</code> a <code>org.example.app2</code>.</li><li><code>[$app=com.apple.Safari]example.org#%#//scriptlet(&#x27;prevent-setInterval&#x27;, &#x27;check&#x27;, &#x27;!300&#x27;)</code> použije skriplet <code>prevent-setInterval</code> pouze v prohlížeči Safari na počítači Mac.</li><li><code>[$app=org.example.app]#@#.textad</code> zakáže všechna pravidla <code>##.textad</code> pro všechny domény při použití <code>org.example.app</code>.</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Taková pravidla s modifikátorem <code>$app</code> podporuje AdGuard pro Windows, Mac a Android.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="non-basic-domain-modifier"><strong><code>$domain</code></strong><a class="hash-link" href="#non-basic-domain-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Modifikátor <code>$domain</code> omezuje oblast použití pravidla na seznam domén a jejich subdomén. Chování a syntaxe modifikátoru dokonale odpovídají příslušným <a href="#domain-modifier">základním pravidlům modifikátoru <code>$domain</code></a>.</p><p><strong>Příklady</strong></p><ul><li><code>[$domain=example.com]##.textad</code> — skryje <code>div</code> s třídou <code>textad</code> na doméně <code>example.com</code> a všech subdoménách.</li><li><code>[$domain=example.com|example.org]###adblock</code> — skryje prvek s atributem <code>id</code>, který se rovná <code>adblock</code> na <code>example.com</code>, <code>example.org</code> a všech subdoménách.</li><li><code>[$domain=~example.com]##.textad</code> — toto pravidlo skryje prvek <code>div</code> se třídou <code>textad</code> na všech doménách kromě <code>example.com</code> a jejích subdomén.</li></ul><p>Existují 2 způsoby, jak určit omezení domény pro ostatní pravidla:</p><ol><li>&quot;klasický&quot; způsob je zadat domény před masku pravidla a atributy: <code>example.com##.textad</code>;</li><li>přístup modifikátoru spočívá v určení domén pomocí modifikátoru <code>$domain</code>: <code>[$domain=example.com]##.textad</code>.</li></ol><p>Pravidla s omezením domén smíšeného stylu jsou však považována za neplatná. Takže např. pravidlo <code>[$domain=example.org]example.com##.textad</code> bude zamítnuto.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Taková pravidla s modifikátorem <code>$domain</code> podporuje AdGuard pro Windows, Mac, Android a Rozšíření prohlížeče AdGuard pro Chrome, Firefox a Edge.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="non-basic-path-modifier"><strong><code>$path</code></strong><a class="hash-link" href="#non-basic-path-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Modifikátor <code>$path</code> omezuje oblast použití pravidel na konkrétní umístění nebo stránky na webových stránkách.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$path [&quot;=&quot; pattern]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>pattern</code> — volitelný, maska cesty, na kterou je pravidlo omezeno. Jeho syntaxe a chování jsou v podstatě stejné jako u <a href="#basic-rules-syntax">vzoru pro základní pravidla</a>. Můžete také použít <a href="#basic-rules-special-characters">speciální znaky</a> s výjimkou <code>||</code>, což v tomto případě nemá smysl (viz příklady níže).</p><p>Pokud není nastaven <code>pattern</code> pro <code>$path</code>, pravidlo bude platit pouze na hlavní stránce webu.</p><p>Modifikátor <code>$path</code> odpovídá i řetězci dotazu.</p><p>Modifikátor <code>$path</code> podporuje regulární výrazy <a href="#regexp-support">stejným způsobem</a> jako základní pravidla.</p><p><strong>Příklady</strong></p><ul><li><code>[$path=page.html]##.textad</code> skryje <code>div</code> se třídou <code>textad</code> na <code>/page.html</code> nebo <code>/page.html?&lt;query&gt;</code> nebo <code>/sub/page.html</code> nebo <code>/another_page.html</code></li><li><code>[$path=/page.html]##.textad</code> skryje <code>div</code> se třídou <code>textad</code> na <code>/page.html</code> nebo <code>/page.html?&lt;query&gt;</code> nebo <code>/sub/page.html</code> jakékoliv domény kromě <code>/another_page.html</code></li><li><code>[$path=|/page.html]##.textad</code> skryje <code>div</code> se třídou <code>textad</code> na <code>/page.html</code> nebo <code>/page.html?&lt;query&gt;</code> jakékoliv domény kromě <code>/sub/page.html</code></li><li><code>[$path=/page.html|]##.textad</code> skryje <code>div</code> se třídou <code>textad</code> na <code>/page.html</code> nebo <code>/sub/page.html</code> jakékoliv domény kromě <code>/page.html?&lt;query&gt;</code></li><li><code>[$path=/page*.html]example.com##.textad</code> skryje <code>div</code> se třídou <code>textad</code> na <code>/page1.html</code> nebo <code>/page2.html</code> nebo jiné cestě shodné s <code>/page&lt;...&gt;.html</code> domény <code>example.com</code></li><li><code>[$path]example.com##.textad</code> skryje <code>div</code> se třídou <code>textad</code> na hlavní stránce domény <code>example.com</code></li><li><code>[$domain=example.com,path=/page.html]##.textad</code> skryje <code>div</code> se třídou <code>textad</code> na <code>page.html</code> domény <code>example.com</code> a všech subdoménách kromě <code>another_page.html</code></li><li><code>[$path=/\\/(sub1|sub2)\\/page\\.html/]##.textad</code> skryje <code>div</code> se třídou <code>textad</code> na <code>/sub1/page.html</code> a <code>/sub2/page.html</code> jakékoliv domény (vezměte prosím na vědomí, že <a href="#non-basic-rules-modifiers-syntax"> uvozuje speciální znak</a>)</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$path</code> podporuje AdGuard pro Windows, Mac, Android a Rozšíření prohlížeče AdGuard pro Chrome, Firefox a Edge.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="non-basic-url-modifier"><strong><code>url</code></strong><a class="hash-link" href="#non-basic-url-modifier" title="Přímý odkaz na hlavičku">​</a></h4><p>Modifikátor <code>$url</code> omezuje oblast použití pravidla na adresy URL odpovídající zadané masce.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">url = pattern</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>kde <code>pattern</code> je v podstatě stejný jako <a href="#basic-rules-syntax"><code>pattern</code> základních pravidel</a> za předpokladu, že <a href="#non-basic-rules-modifiers-syntax">některé znaky</a> musí být uvozeny. Podporovány jsou také <a href="#basic-rules-special-characters">speciální znaky</a> a <a href="#regexp-support">regulární výrazy</a>.</p><p><strong>Příklady</strong></p><ul><li><code>[$url=||example.com/content/*]##div.textad</code> skryje <code>div</code> se třídou <code>textad</code> na adrese jako <code>https://example.com/content/article.html</code> a dokonce i <code>https://subdomain.example.com/content/article.html</code>.</li><li><code>[$url=||example.org^]###adblock</code> skryje prvek s atributem <code>id</code>, který se rovná <code>adblock</code> na <code>example.org</code> a jejích subdoménách.</li><li><code>[$url=/\[az\]+\\.example\\.com^/]##.textad</code> skryje prvky třídy <code>div</code> <code>textad</code> pro všechny domény odpovídající regulárnímu výrazu <code>[a-z]+\. example\.com^</code>.</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Kompatibilita</div><div class="admonitionContent_S0QG"><p>Pravidla s modifikátorem <code>$url</code> jsou podporována AdGuardem pro Windows, Mac a Android, <strong>s knihovnou CoreLibs verze 1.11 nebo novější</strong>.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="informace-pro-správce-filtrů">Informace pro správce filtrů<a class="hash-link" href="#informace-pro-správce-filtrů" title="Přímý odkaz na hlavičku">​</a></h2><p>Pokud spravujete filtr třetí strany, který je AdGuardu znám, mohly by vás zajímat informace uvedené v této části. Upozorňujeme, že nápovědy se použijí pouze na registrované filtry. Filtr je považován za registrovaný a známý pro AdGuard, pokud je přítomen v <a href="https://filters.adtidy.org/extension/chromium/filters.json" target="_blank" rel="noopener noreferrer">indexu známých filtrů</a>. Pokud chcete, aby byl váš filtr zaregistrován, odešlete žádost do <a href="https://github.com/AdguardTeam/AdguardFilters" target="_blank" rel="noopener noreferrer">repozitáře AdguardFilters</a>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="direktivy-preprocesoru">Direktivy preprocesoru<a class="hash-link" href="#direktivy-preprocesoru" title="Přímý odkaz na hlavičku">​</a></h3><p>Poskytujeme preprocesorové direktivy, které mohou být použity správci filtrů pro zlepšení kompatibility s různými blokátory reklam a poskytujeme:</p><ul><li><a href="#include-directive">zahrnutý soubor</a></li><li><a href="#conditions-directive">použití pravidel podmíněně podle typu blokátoru reklam</a></li><li><a href="#safari-affinity-directive">zadání blokátor obsahu pro pravidla platná v Safari</a></li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>Jakákoli chyba v direktivě preprocesoru povede k tomu, že AdGuard selže při aktualizaci filtru stejným způsobem, jako kdyby adresa URL filtru byla nedostupná.</p><p>Direktivy preprocesoru lze použít v uživatelských pravidlech nebo ve vlastních filtrech.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="include-directive">Zahrnutý soubor<a class="hash-link" href="#include-directive" title="Přímý odkaz na hlavičku">​</a></h4><p>Direktiva <code>!#include</code> umožňuje zahrnout do filtru obsah zadaného souboru. Podporuje pouze soubory ze stejného původu, aby bylo zajištěno, že správce filtru má kontrolu nad zadaným souborem. Zahrnutý soubor může také obsahovat pre-direktivy (i další <code>!#include</code> direktivy). Blokátory reklam by měly zvážit případ rekurzivního <code>!#include</code> a implementovat ochranný mechanismus.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">!#include file_path</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>kde <code>file_path</code> je absolutní nebo relativní cesta k souboru stejného původu, který má být zahrnut.</p><p>Soubory musí pocházet ze stejné domény, ale mohou být umístěny v jiné složce.</p><p>Pokud obsažený soubor není nalezen nebo není k dispozici, celá aktualizace filtru by měla selhat.</p><p>Omezení stejného původu by mělo být pro místní vlastní filtry zakázáno.</p><p><strong>Příklady</strong></p><p>URL filtru: <code>https://example.org/path/filter.txt</code></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">! Valid (same origin):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!#include https://example.org/path/includedfile.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">! Valid (relative path):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!#include /includedfile.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!#include ../path2/includedfile.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">! Invalid (another origin):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!#include https://domain.com/path/includedfile.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conditions-directive">Podmínky<a class="hash-link" href="#conditions-directive" title="Přímý odkaz na hlavičku">​</a></h4><p>Správci filtrů mohou pomocí podmínek zadávat různá pravidla v závislosti na typu blokátoru reklam. Když se blokátor reklam setká s direktivou <code>!#if</code>, po které případně následuje direktiva <code>!#endif</code>, zkompiluje kód uvnitř bloku direktiv pouze v případě, že je zadaná podmínka pravdivá. Podmínka podporuje všechny základní logické operátory.</p><p>Podmíněná direktiva začínající direktivou <code>!#if</code> musí být explicitně ukončena direktivou <code>!#endif</code>.</p><p>Na mezerách záleží. <code>!#if</code> je platná direktiva, zatímco <code>!# if</code> není.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">!#if (conditions)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rules_list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!#endif</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>kde:</p><ul><li><code>!#if (conditions)</code> — počátek blokování</li><li><code>conditions</code> — stejně jako v některých populárních programovacích jazycích jsou podmínky preprocesoru založeny na konstantách deklarovaných blokátory reklamy. Autoři blokátorů reklam si sami určují, jaké konstanty přesně deklarují. Přípustné hodnoty:<ul><li><code>adguard</code> vždy deklarováno; ukazuje správcům, že se jedná o jeden z produktů AdGuard; mělo by to stačit v 95 % případů</li><li>konstanty specifické pro daný produkt pro případy, kdy potřebujete, aby pravidlo fungovalo (nebo nefungovalo — pak je třeba před konstantou použít <code>!</code>) pouze v konkrétním produktu:<ul><li><code>adguard_app_windows</code> — AdGuard pro Windows</li><li><code>adguard_app_mac</code> — AdGuard pro Mac</li><li><code>adguard_app_android</code> — AdGuard pro Android</li><li><code>adguard_app_ios</code> — AdGuard pro iOS</li><li><code>adguard_ext_safari</code> — AdGuard pro Safari</li><li><code>adguard_ext_chromium</code> — Rozšíření prohlížeče AdGuard pro Chrome (a prohlížeče založené na chromium, např. nový Microsoft Edge.)</li><li><code>adguard_ext_firefox</code> — Rozšíření prohlížeče AdGuard pro Firefox</li><li><code>adguard_ext_edge</code> — Rozšíření prohlížeče AdGuard pro starší Edge</li><li><code>adguard_ext_opera</code> — Rozšíření prohlížeče AdGuard pro Operu</li><li><code>adguard_ext_android_cb</code> — Blokátor obsahu AdGuard pro mobilní prohlížeče Samsung a Yandex</li><li><code>ext_ublock</code> — speciální případ; ten je deklarován, když je verze filtru uBlock kompilována pomocí <a href="https://github.com/AdguardTeam/FiltersRegistry" target="_blank" rel="noopener noreferrer">FiltersRegistry</a></li></ul></li></ul></li><li><code>rules_list</code> — seznam pravidel</li><li><code>!#endif</code> — konec blokování</li></ul><p><strong>Příklady</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">! for all AdGuard products except AdGuard for Safari</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!#if (adguard &amp;&amp; !adguard_ext_safari)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^$third-party</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">domain.com##div.ad</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!#endif</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">! directives even can be combined</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!#if (adguard_app_android)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!#include /androidspecific.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!#endif</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="safari-affinity-directive">Afinita Safari<a class="hash-link" href="#safari-affinity-directive" title="Přímý odkaz na hlavičku">​</a></h4><p>Safari je prohlížeč notoricky známý svým přísným maximálním limitem 150 tisíc pro pravidla filtrování v blokátorech obsahu. V aplikacích AdGuard pro Safari a AdGuard pro iOS je však maximální počet pravidel zvýšen na 300 tisíc rozdělením do několika blokátorů obsahu. Obecně platí, že několik kategorií filtrů je víceméně nezávislých, takže existují takové blokátory obsahu, které tyto kategorie obsahují:</p><ul><li>AdGuard General — Blokování reklam, jazykově specifické filtry</li><li>AdGuard Privacy — Soukromí</li><li>AdGuard Social — sociální widgety, obtěžování</li><li>AdGuard Security — Zabezpečení</li><li>AdGuard Other — Jiné</li><li>AdGuard Custom — Vlastní</li></ul><p><code>Uživatelská pravidla</code> a <code>Seznam povolených</code> jsou přidány do každého blokátoru obsahu.</p><p>Hlavním problémem při použití více blokátorů obsahu je, že pravidla uvnitř těchto blokátorů obsahu se nemohou navzájem ovlivňovat. To může vést k různým neočekávaným problémům. Správci filtrů tedy mohou použít <code>!#safari_cb_affinity</code> k definování afinity blokátorů obsahu Safari pro pravidla uvnitř blokování direktiv.</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">!#safari_cb_affinity(content_blockers)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rules_list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!#safari_cb_affinity</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>kde:</p><ul><li><code>!#safari_cb_affinity(content_blockers)</code> — počátek blokování</li><li><code>content_blockers</code> — seznam blokátorů obsahu oddělený čárkami. Přípustné hodnoty:<ul><li><code>general</code> — blokátor obsahu AdGuard General</li><li><code>privacy</code> — blokátor obsahu AdGuard Privacy</li><li><code>social</code> — blokátor obsahu AdGuard Social</li><li><code>security</code> — blokátor obsahu AdGuard Security</li><li><code>other</code> — blokátor obsahu AdGuard Other</li><li><code>custom</code> — blokátor obsahu AdGuard Custom</li><li><code>all</code> — speciální klíčové slovo, které znamená, že pravidla musí být zahrnuta do <strong>všech</strong> blokátorů obsahu</li></ul></li><li><code>rules_list</code> — seznam pravidel</li><li><code>!#safari_cb_affinity</code> — konec blokování</li></ul><p><strong>Příklady</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">! to unhide specific element which is hidden by AdGuard Base filter:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!#safari_cb_affinity(general)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">example.org#@#.adBanner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!#safari_cb_affinity</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">! to allowlist basic rule from AdGuard Tracking Protection filter filter:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!#safari_cb_affinity(privacy)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@||example.org^</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!#safari_cb_affinity</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="nápovědy">Nápovědy<a class="hash-link" href="#nápovědy" title="Přímý odkaz na hlavičku">​</a></h3><p>&quot;Nápověda&quot; je speciální komentář, instrukce pro kompilátor filtrů používaný na straně serveru (viz <a href="https://github.com/AdguardTeam/FiltersRegistry" target="_blank" rel="noopener noreferrer">FiltersRegistry</a>).</p><p><strong>Syntaxe</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">!+ HINT_NAME1(PARAMS) HINT_NAME2(PARAMS)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Lze použít více nápověd.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="nápověda-not_optimized">Nápověda <code>NOT_OPTIMIZED</code><a class="hash-link" href="#nápověda-not_optimized" title="Přímý odkaz na hlavičku">​</a></h4><p>Pro každý filtr sestavuje AdGuard dvě verze: plnou a optimalizovanou. Optimalizovaná verze je mnohem jednodušší a neobsahuje pravidla, která se nepoužívají vůbec nebo jen zřídka.</p><p>Frekvence používání pravidel vychází ze shromážděných statistik <a href="/KnowledgeBase/cs/general/ad-filtering/tracking-filter-statistics/">pravidel filtrování</a>. Optimalizace filtrů je však založena na více než na tom — některé filtry mají specifickou konfiguraci. Takto to vypadá pro Základní filtr:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;filter&quot;: AdGuard Base filter,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;percent&quot;: 30,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;minPercent&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;maxPercent&quot;: 40,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;strict&quot;: true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>kde:</p><ul><li><strong>filter</strong> — identifikátor filtru</li><li><strong>percent</strong> — očekávané procento optimalizace <code>~= (počet pravidel v optimalizovaném filtru) / (počet pravidel v původním filtru) * 100</code></li><li><strong>minPercent</strong> — dolní mez hodnoty <code>percent</code></li><li><strong>maxPercent</strong> — horní mez hodnoty <code>percent</code> value</li><li><strong>strict</strong> — pokud je <code>percent &lt; minPercent</code> NEBO <code>percent &gt; maxPercent</code> a je zapnutý přísný režim, pak by kompilace filtru měla selhat, jinak je nutné použít původní pravidla</li></ul><p>Jinými slovy, <code>percent</code> je &quot;úroveň komprese&quot;. Například pro Základní filtr je nastavena na 40 %. To znamená, že optimalizační algoritmus by měl odstranit 60 % pravidel.</p><p>Nakonec zde jsou dvě verze základního filtru pro Rozšíření prohlížeče AdGuard:</p><ul><li>úplná: <a href="https://filters.adtidy.org/extension/chromium/filters/2.txt" target="_blank" rel="noopener noreferrer">https://filters.adtidy.org/extension/chromium/filters/2.txt</a></li><li>optimalizovaná: <a href="https://filters.adtidy.org/extension/chromium/filters/2_optimized.txt" target="_blank" rel="noopener noreferrer">https://filters.adtidy.org/extension/chromium/filters/2_optimized.txt</a></li></ul><p><strong>Pokud chcete přidat pravidlo, které by nemělo být při optimalizaci odstraněno, použijte nápovědu <code>NOT_OPTIMIZED</code>:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">!+ NOT_OPTIMIZED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Toto pravidlo nebude optimalizováno pouze pro AdGuard pro Android:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">!+ NOT_OPTIMIZED PLATFORM(android)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="nápověda-platform-a-not_platform">Nápověda <code>PLATFORM</code> a <code>NOT_PLATFORM</code><a class="hash-link" href="#nápověda-platform-a-not_platform" title="Přímý odkaz na hlavičku">​</a></h4><p>Slouží k zadání platforem pro použití pravidel. Seznam existujících platforem a odkazy např. na Základní filtr:</p><ul><li><p><code>windows</code> — AdGuard pro Windows — <a href="https://filters.adtidy.org/windows/filters/2.txt" target="_blank" rel="noopener noreferrer">https://filters.adtidy.org/windows/filters/2.txt</a></p></li><li><p><code>mac</code> — AdGuard pro Mac — <a href="https://filters.adtidy.org/mac_v2/filters/2.txt" target="_blank" rel="noopener noreferrer">https://filters.adtidy.org/mac_v2/filters/2.txt</a></p></li><li><p><code>android</code> — AdGuard pro Android — <a href="https://filters.adtidy.org/android/filters/2.txt" target="_blank" rel="noopener noreferrer">https://filters.adtidy.org/android/filters/2.txt</a></p></li><li><p><code>ios</code> — AdGuard pro iOS — <a href="https://filters.adtidy.org/ios/filters/2.txt" target="_blank" rel="noopener noreferrer">https://filters.adtidy.org/ios/filters/2.txt</a></p></li><li><p><code>ext_chromium</code> — Rozšíření prohlížeče AdGuard pro Chrome — <a href="https://filters.adtidy.org/extension/chromium/filters/2.txt" target="_blank" rel="noopener noreferrer">https://filters.adtidy.org/extension/chromium/filters/2.txt</a></p></li><li><p><code>ext_ff</code> — Rozšíření prohlížeče AdGuard pro Firefox — <a href="https://filters.adtidy.org/extension/firefox/filters/2.txt" target="_blank" rel="noopener noreferrer">https://filters.adtidy.org/extension/firefox/filters/2.txt</a></p></li><li><p><code>ext_edge</code> — Rozšíření prohlížeče AdGuard pro Edge — <a href="https://filters.adtidy.org/extension/edge/filters/2.txt" target="_blank" rel="noopener noreferrer">https://filters.adtidy.org/extension/edge/filters/2.txt</a></p></li><li><p><code>ext_opera</code> — Rozšíření prohlížeče AdGuard pro Operu — <a href="https://filters.adtidy.org/extension/opera/filters/2.txt" target="_blank" rel="noopener noreferrer">https://filters.adtidy.org/extension/opera/filters/2.txt</a></p></li><li><p><code>ext_safari</code> — AdGuard pro Safari — <a href="https://filters.adtidy.org/extension/safari/filters/2.txt" target="_blank" rel="noopener noreferrer">https://filters.adtidy.org/extension/safari/filters/2.txt</a></p></li><li><p><code>ext_android_cb</code> — Blokátor obsahu AdGuard — <a href="https://filters.adtidy.org/extension/android-content-blocker/filters/2.txt" target="_blank" rel="noopener noreferrer">https://filters.adtidy.org/extension/android-content-blocker/filters/2.txt</a></p></li><li><p><code>ext_ublock</code> — uBlock Origin — <a href="https://filters.adtidy.org/extension/ublock/filters/2.txt" target="_blank" rel="noopener noreferrer">https://filters.adtidy.org/extension/ublock/filters/2.txt</a></p></li></ul><p><strong>Příklady</strong></p><p>Toto pravidlo bude dostupné pouze v AdGuardu pro Windows, Mac a Android:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">!+ PLATFORM(windows,mac,android)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Toto pravidlo bude k dispozici pro všechny platformy kromě AdGuardu pro Safari, Blokátoru obsahu AdGuard a AdGuardu pro iOS:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">!+ NOT_PLATFORM(ext_safari, ext_android_cb, ios)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="jak-ladit-pravidla-filtrování">Jak ladit pravidla filtrování<a class="hash-link" href="#jak-ladit-pravidla-filtrování" title="Přímý odkaz na hlavičku">​</a></h2><p>Jednoduchá pravidla filtrování je možné vytvořit &quot;v hlavě&quot;, ale pro cokoli alespoň trochu složitějšího budete potřebovat další nástroje pro jejich ladění a iteraci. Existují nástroje, které vám s tím pomohou. V prohlížeči Chrome a jeho analogiích v ostatních prohlížečích můžete použít nástroj DevTools, ale většina produktů AdGuardu nabízí ještě jeden — Záznam filtrování.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="záznam-filtrování">Záznam filtrování<a class="hash-link" href="#záznam-filtrování" title="Přímý odkaz na hlavičku">​</a></h3><p>Záznam filtrování je pokročilý nástroj, který bude užitečný především pro vývojáře filtrů. Obsahuje seznam všech webových požadavků, které procházejí skrze AdGuard, poskytuje vyčerpávající informace o každém z nich, nabízí několik možností třídění a další užitečné funkce.</p><p>V závislosti na tom, který AdGuard produkt používáte, se protokol filtrování může nacházet na různých místech.</p><ul><li>V <strong>AdGuardu pro Windows</strong> jej najdete na kartě <em>Blokátor reklam</em> nebo prostřednictvím nabídky na hlavním panelu;</li><li>V <strong>AdGuardu pro Mac</strong> je pod <em>Nastavení → Pokročilé → Záznam filtrování</em>;</li><li>V <strong>AdGuardu pro Android</strong> je to samostatná položka v postranním menu. Z Asistenta je také přístupný záznam filtrování pro konkrétní aplikaci nebo web.</li><li>V <strong>Rozšíření prohlížeče AdGuard</strong> je přístupný z karty <em>Různé</em> nebo kliknutím pravým tlačítkem myši na ikonu rozšíření. Pouze prohlížeče založené na platformě Chromium a Firefox zobrazují použití <strong>pravidel skrývání prvků</strong> (včetně CSS, ExtCSS) a <strong>pravidel JS a skripletů</strong> v jejich záznamech filtrování.</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>poznámka</div><div class="admonitionContent_S0QG"><p>V <strong>AdGuardu pro iOS</strong> a v <strong>AdGuardu pro Safari</strong> Záznam filtrování neexistuje kvůli způsobu, jakým jsou v Safari implementovány blokátory obsahu. AdGuard tyto webové požadavky nevidí, a proto je nemůže zobrazit.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="selectors-debug-mode">Režim ladění selektorů<a class="hash-link" href="#selectors-debug-mode" title="Přímý odkaz na hlavičku">​</a></h3><p>Někdy můžete potřebovat zkontrolovat výkonnost daného selektoru nebo souboru stylů. Abyste to mohli provést bez přímé interakce s JavaScript, můžete použít speciální vlastnost stylu <code>debug</code>. Když <code>ExtendedCss</code> splňuje tuto vlastnost, povolí režim ladění buď pro jeden selektor, nebo pro všechny selektory v závislosti na hodnotě <code>debug</code>.</p><p>Otevřete konzolu prohlížeče na webové stránce a zobrazte statistiky časování pro selektor(y), které zde byly použity. Režim ladění zobrazí následující statistiky jako objekt, kde každý z laděných selektorů je klíč a hodnota je objekt s těmito vlastnostmi:</p><p><strong>Vždy vytištěno:</strong></p><ul><li><code>selectorParsed</code> — text případně parsovaného selektoru</li><li><code>timings</code> — seznam uzlů DOM odpovídajících selektoru<ul><li><code>appliesCount</code> — celkový počet použití selektoru na stránce</li><li><code>appliesTimings</code> — doba, po kterou byl selektor na stránce použit, pro každý případ, kdy byl použit (v milisekundách)</li><li><code>meanTiming</code> — průměrná doba, po kterou byl selektor na stránce použit</li><li><code>standardDeviation</code> — standardní odchylka</li><li><code>timingsSum</code> — celkový čas potřebný k použití selektoru na stránce ve všech instancích</li></ul></li></ul><p><strong>Vytištěno pouze pro odstranění pseudonymů:</strong></p><ul><li><code>removed</code> — příznak, který signalizuje, zda jsme odstranili prvky</li></ul><p><strong>Vytištěno, pokud prvky nejsou odstraněny:</strong></p><ul><li><code>matchedElements</code> — seznam uzlů DOM odpovídajících selektoru</li><li><code>styleApplied</code> — parsovaná deklarace stylu pravidla související se selektorem</li></ul><p><strong>Příklady</strong></p><p><strong>Ladění jednoho selektoru:</strong></p><p>Pokud je hodnota vlastnosti <code>debug</code> <code>true</code>, zobrazí se v konzole prohlížeče pouze informace o tomto selektoru.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#$?#.banner { display: none; debug: true; }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Povolení globálního ladění:</strong></p><p>Pokud je hodnota vlastnosti <code>debug</code> <code>global</code>, konzola zobrazí informace o všech rozšířených selektorech CSS, které mají na aktuální stránce shodu pro všechna pravidla z libovolného povoleného filtru.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#$?#.banner { display: none; debug: global; }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Testování rozšířených selektorů bez AdGuardu</strong></p><p>ExtendedCss lze spustit na libovolné stránce bez použití AdGuard produktu. Za tímto účelem byste měli zkopírovat a spustit následující kód v konzoli prohlížeče:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">!</span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">e</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter">t</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter">d</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createElement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token constant" style="color:#36acaa">C</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">src</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">d</span><span class="token punctuation" style="color:#393A34">,</span><span class="token constant" style="color:#36acaa">C</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">onload</span><span class="token operator" style="color:#393A34">=</span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ExtendedCss loaded successfully&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">s</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getElementsByTagName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">s</span><span class="token operator" style="color:#393A34">?</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">parentNode</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">insertBefore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">C</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">h</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getElementsByTagName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;head&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">h</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">appendChild</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">C</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">(</span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;script&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;https://AdguardTeam.github.io/ExtendedCss/extended-css.min.js&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Případně nainstalujte uživatelský skript <a href="https://github.com/AdguardTeam/Userscripts/blob/master/extendedCssDebugger/extended-css.debugger.user.js" target="_blank" rel="noopener noreferrer">ExtendedCssDebugger</a>.</p><p>Nyní můžete použít <code>ExtendedCss</code> z globálního rozsahu a spustit jeho metodu <a href="https://github.com/AdguardTeam/ExtendedCss#extended-css-query" target="_blank" rel="noopener noreferrer"><code>query()</code></a> jako <code>Document.querySelectorAll()</code>.</p><p><strong>Příklady</strong></p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> selector </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;div.block:has=(.header:matches-css(after, content: Ads))&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// array of HTMLElements matched the `selector` is to be returned</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">ExtendedCss</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">query</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">selector</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Zkopírovat kód do schránky" title="Kopírovat" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="debug-scriptlets">Ladění skriptletů<a class="hash-link" href="#debug-scriptlets" title="Přímý odkaz na hlavičku">​</a></h3><p>Pokud používáte Rozšíření prohlížeče AdGuard a chcete vyladit pravidlo <a href="#scriptlets">skriptlet</a> nebo <a href="#trusted-scriptlets">důvěryhodný skriptlet</a>, můžete získat další informace otevřením protokolu filtrování. V takovém případě se skriptlety přepnou do režimu ladění a v konzoli prohlížeče se zobrazí více informací.</p><p>Následující skriptlety jsou speciálně vyvinuty zejména pro účely ladění:</p><ul><li><a href="https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#debug-current-inline-script" target="_blank" rel="noopener noreferrer"><code>debug-current-inline-script</code></a></li><li><a href="https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#debug-on-property-read" target="_blank" rel="noopener noreferrer"><code>debug-on-property-read</code></a></li><li><a href="https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#abort-on-property-write" target="_blank" rel="noopener noreferrer"><code>debug-on-property-write</code></a></li><li><a href="https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#log-addEventListener" target="_blank" rel="noopener noreferrer"><code>log-addEventListener</code></a></li><li><a href="https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#log-on-stack-trace" target="_blank" rel="noopener noreferrer"><code>log-on-stack-trace</code></a></li><li><a href="https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#log-eval" target="_blank" rel="noopener noreferrer"><code>log-eval</code></a></li><li><a href="https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#log" target="_blank" rel="noopener noreferrer"><code>log</code></a></li></ul><p>Následující skriptlety lze také použít pro účely ladění:</p><ul><li><a href="https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#json-prune" target="_blank" rel="noopener noreferrer"><code>json-prune</code></a></li><li><a href="https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#prevent-fetch" target="_blank" rel="noopener noreferrer"><code>prevent-fetch</code></a></li><li><a href="https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#prevent-requestanimationframe" target="_blank" rel="noopener noreferrer"><code>prevent-requestAnimationFrame</code></a></li><li><a href="https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#prevent-setinterval" target="_blank" rel="noopener noreferrer"><code>prevent-setInterval</code></a></li><li><a href="https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#prevent-settimeout" target="_blank" rel="noopener noreferrer"><code>prevent-setTimeout</code></a></li><li><a href="https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#prevent-window-open" target="_blank" rel="noopener noreferrer"><code>prevent-window-open</code></a> se specifikovaným parametrem <code>replacement</code></li><li><a href="https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-scriptlets.md#prevent-xhr" target="_blank" rel="noopener noreferrer"><code>prevent-xhr</code></a></li><li><a href="https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-trusted-scriptlets.md#trusted-replace-fetch-response" target="_blank" rel="noopener noreferrer"><code>trusted-replace-fetch-response</code></a></li><li><a href="https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-trusted-scriptlets.md#trusted-replace-xhr-response" target="_blank" rel="noopener noreferrer"><code>trusted-replace-xhr-response</code></a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="hodně-štěstí-při-vytváření-filtrů">Hodně štěstí při vytváření filtrů!<a class="hash-link" href="#hodně-štěstí-při-vytváření-filtrů" title="Přímý odkaz na hlavičku">​</a></h2><p>Přejeme vám hodně štěstí při vytváření vlastních filtrů reklam.</p><p>Pokud potřebujete poradit, jak správně vytvořit vlastní filtry, naše fórum má <a href="https://forum.adguard.com/index.php?forums/69/" target="_blank" rel="noopener noreferrer">sekci</a> věnovanou psaní vlastních pravidel filtrování.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/AdguardTeam/KnowledgeBase/edit/master/docs/general/ad-filtering/create-own-filters.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Upravit tuto stránku</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navigace na stránkách dokumentů"><a class="pagination-nav__link pagination-nav__link--prev" href="/KnowledgeBase/cs/general/ad-filtering/tracking-filter-statistics/"><div class="pagination-nav__sublabel">Předchozí</div><div class="pagination-nav__label">Statistiky pravidel filtrů sledování</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/KnowledgeBase/cs/general/ad-filtering/filter-policy/"><div class="pagination-nav__sublabel">Další</div><div class="pagination-nav__label">Zásady AdGuard filtrů</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#komentáře" class="table-of-contents__link toc-highlight">Komentáře</a></li><li><a href="#příklady" class="table-of-contents__link toc-highlight">Příklady</a><ul><li><a href="#blokování-podle-názvu-domény" class="table-of-contents__link toc-highlight">Blokování podle názvu domény</a></li><li><a href="#blokování-přesné-adresy" class="table-of-contents__link toc-highlight">Blokování přesné adresy</a></li><li><a href="#modifikátory-základních-pravidel" class="table-of-contents__link toc-highlight">Modifikátory základních pravidel</a></li><li><a href="#odblokování-adresy" class="table-of-contents__link toc-highlight">Odblokování adresy</a></li><li><a href="#odblokování-celé-webové-stránky" class="table-of-contents__link toc-highlight">Odblokování celé webové stránky</a></li><li><a href="#kosmetické-pravidlo" class="table-of-contents__link toc-highlight">Kosmetické pravidlo</a></li></ul></li><li><a href="#omezení-a-restrikce" class="table-of-contents__link toc-highlight">Omezení a restrikce</a><ul><li><a href="#trusted-filters" class="table-of-contents__link toc-highlight">Důvěryhodné filtry</a></li><li><a href="#blokátor-obsahu-adguard" class="table-of-contents__link toc-highlight">Blokátor obsahu AdGuard</a></li></ul></li><li><a href="#základní-pravidla" class="table-of-contents__link toc-highlight">Základní pravidla</a><ul><li><a href="#basic-rules-syntax" class="table-of-contents__link toc-highlight">Syntaxe základních pravidel</a></li><li><a href="#basic-rules-special-characters" class="table-of-contents__link toc-highlight">Speciální znaky</a></li><li><a href="#regexp-support" class="table-of-contents__link toc-highlight">Podpora regulárních výrazů</a></li><li><a href="#wildcard-for-tld" class="table-of-contents__link toc-highlight">Podpora zástupných znaků pro TLD (domény nejvyšší úrovně)</a></li><li><a href="#příklady-základních-pravidel" class="table-of-contents__link toc-highlight">Příklady základních pravidel</a></li><li><a href="#modifikátory-základních-pravidel-1" class="table-of-contents__link toc-highlight">Modifikátory základních pravidel</a></li><li><a href="#basic-rules-basic-modifiers" class="table-of-contents__link toc-highlight">Základní modifikátory</a><ul><li><a href="#app-modifier" class="table-of-contents__link toc-highlight"><strong><code>$app</code></strong></a></li><li><a href="#denyallow-modifier" class="table-of-contents__link toc-highlight"><strong><code>$denyallow</code></strong></a></li><li><a href="#domain-modifier" class="table-of-contents__link toc-highlight"><strong><code>$domain</code></strong></a></li><li><a href="#header-modifier" class="table-of-contents__link toc-highlight"><strong><code>$header</code></strong></a></li><li><a href="#important-modifier" class="table-of-contents__link toc-highlight"><strong><code>$important</code></strong></a></li><li><a href="#match-case-modifier" class="table-of-contents__link toc-highlight"><strong><code>$match-case</code></strong></a></li><li><a href="#method-modifier" class="table-of-contents__link toc-highlight"><strong><code>$method</code></strong></a></li><li><a href="#popup-modifier" class="table-of-contents__link toc-highlight"><strong><code>$popup</code></strong></a></li><li><a href="#third-party-modifier" class="table-of-contents__link toc-highlight"><strong><code>$third-party</code></strong></a></li><li><a href="#to-modifier" class="table-of-contents__link toc-highlight"><strong><code>$to</code></strong></a></li></ul></li><li><a href="#content-type-modifiers" class="table-of-contents__link toc-highlight">Modifikátory typu obsahu</a><ul><li><a href="#document-modifier" class="table-of-contents__link toc-highlight"><strong><code>$document</code></strong></a></li><li><a href="#font-modifier" class="table-of-contents__link toc-highlight"><strong><code>$font</code></strong></a></li><li><a href="#image-modifier" class="table-of-contents__link toc-highlight"><strong><code>$image</code></strong></a></li><li><a href="#media-modifier" class="table-of-contents__link toc-highlight"><strong><code>$media</code></strong></a></li><li><a href="#object-modifier" class="table-of-contents__link toc-highlight"><strong><code>$object</code></strong></a></li><li><a href="#other-modifier" class="table-of-contents__link toc-highlight"><strong><code>$other</code></strong></a></li><li><a href="#ping-modifier" class="table-of-contents__link toc-highlight"><strong><code>$ping</code></strong></a></li><li><a href="#script-modifier" class="table-of-contents__link toc-highlight"><strong><code>$script</code></strong></a></li><li><a href="#stylesheet-modifier" class="table-of-contents__link toc-highlight"><strong><code>$stylesheet</code></strong></a></li><li><a href="#subdocument-modifier" class="table-of-contents__link toc-highlight"><strong><code>$subdocument</code></strong></a></li><li><a href="#websocket-modifier" class="table-of-contents__link toc-highlight"><strong><code>$websocket</code></strong></a></li><li><a href="#xmlhttprequest-modifier" class="table-of-contents__link toc-highlight"><strong><code>$xmlhttprequest</code></strong></a></li><li><a href="#object-subrequest-modifier" class="table-of-contents__link toc-highlight"><strong><code>$object-subrequest</code> (odstraněno)</strong></a></li><li><a href="#webrtc-modifier" class="table-of-contents__link toc-highlight"><strong><code>$webrtc</code> (odstraněno)</strong></a></li></ul></li><li><a href="#exception-modifiers" class="table-of-contents__link toc-highlight">Modifikátory pravidel pro výjimky</a><ul><li><a href="#content-modifier" class="table-of-contents__link toc-highlight"><strong><code>$content</code></strong></a></li><li><a href="#elemhide-modifier" class="table-of-contents__link toc-highlight"><strong><code>$elemhide</code></strong></a></li><li><a href="#extension-modifier" class="table-of-contents__link toc-highlight"><strong><code>$extension</code></strong></a></li><li><a href="#jsinject-modifier" class="table-of-contents__link toc-highlight"><strong><code>$jsinject</code></strong></a></li><li><a href="#stealth-modifier" class="table-of-contents__link toc-highlight"><strong><code>$stealth</code></strong></a></li><li><a href="#urlblock-modifier" class="table-of-contents__link toc-highlight"><strong><code>$urlblock</code></strong></a></li><li><a href="#exception-modifiers-generic-rules" class="table-of-contents__link toc-highlight">Generická pravidla</a></li><li><a href="#genericblock-modifier" class="table-of-contents__link toc-highlight"><strong><code>$genericblock</code></strong></a></li><li><a href="#generichide-modifier" class="table-of-contents__link toc-highlight"><strong><code>$generichide</code></strong></a></li><li><a href="#specifichide-modifier" class="table-of-contents__link toc-highlight"><strong><code>specifichide</code></strong></a></li></ul></li><li><a href="#pokročilé-schopnosti" class="table-of-contents__link toc-highlight">Pokročilé schopnosti</a><ul><li><a href="#all-modifier" class="table-of-contents__link toc-highlight"><strong><code>$all</code></strong></a></li><li><a href="#badfilter-modifier" class="table-of-contents__link toc-highlight"><strong><code>$badfilter</code></strong></a></li><li><a href="#cookie-modifier" class="table-of-contents__link toc-highlight"><strong><code>$cookie</code></strong></a></li><li><a href="#csp-modifier" class="table-of-contents__link toc-highlight"><strong><code>$csp</code></strong></a></li><li><a href="#hls-modifier" class="table-of-contents__link toc-highlight"><strong><code>$hls</code></strong></a></li><li><a href="#inline-script-modifier" class="table-of-contents__link toc-highlight"><strong><code>$inline-script</code></strong></a></li><li><a href="#inline-font-modifier" class="table-of-contents__link toc-highlight"><strong><code>$inline-font</code></strong></a></li><li><a href="#jsonprune-modifier" class="table-of-contents__link toc-highlight"><strong><code>$jsonprune</code></strong></a></li><li><a href="#network-modifier" class="table-of-contents__link toc-highlight"><strong><code>$network</code></strong></a></li><li><a href="#permissions-modifier" class="table-of-contents__link toc-highlight"><strong><code>$permissions</code></strong></a></li><li><a href="#redirect-modifier" class="table-of-contents__link toc-highlight"><strong><code>$redirect</code></strong></a></li><li><a href="#redirect-rule-modifier" class="table-of-contents__link toc-highlight"><strong><code>$redirect-rule</code></strong></a></li><li><a href="#referrerpolicy-modifier" class="table-of-contents__link toc-highlight"><strong><code>$referrerpolicy</code></strong></a></li><li><a href="#removeheader-modifier" class="table-of-contents__link toc-highlight"><strong><code>$removeheader</code></strong></a></li><li><a href="#removeparam-modifier" class="table-of-contents__link toc-highlight"><strong><code>$removeparam</code></strong></a></li><li><a href="#replace-modifier" class="table-of-contents__link toc-highlight"><strong><code>$replace</code></strong></a></li><li><a href="#noop-modifier" class="table-of-contents__link toc-highlight"><strong><code>noop</code></strong></a></li><li><a href="#empty-modifier" class="table-of-contents__link toc-highlight"><strong><code>$empty</code> (zastaralé)</strong></a></li><li><a href="#mp4-modifier" class="table-of-contents__link toc-highlight"><strong><code>$mp4</code> (zastaralé)</strong></a></li></ul></li><li><a href="#rule-priorities" class="table-of-contents__link toc-highlight">Priority pravidel</a><ul><li><a href="#výpočet-priority" class="table-of-contents__link toc-highlight">Výpočet priority</a></li><li><a href="#priority-category-1" class="table-of-contents__link toc-highlight">Základní modifikátory, přítomnost každého z nich přidává 1 k prioritě</a></li><li><a href="#priority-category-2" class="table-of-contents__link toc-highlight">Definované modifikátory typu obsahu, definované metody, definovaná záhlaví, $popup, speciální výjimky</a></li><li><a href="#priority-category-3" class="table-of-contents__link toc-highlight"><code>$domain</code> or <code>$app</code> with allowed domains or applications</a></li><li><a href="#priority-category-6" class="table-of-contents__link toc-highlight">Pravidla <code>$redirect</code></a></li><li><a href="#priority-category-4" class="table-of-contents__link toc-highlight">Specifické výjimky</a></li><li><a href="#priority-category-5" class="table-of-contents__link toc-highlight">Pravidla seznamu povolených</a></li><li><a href="#priority-category-7" class="table-of-contents__link toc-highlight">Pravidla <code>$important</code></a></li><li><a href="#priority-category-extra" class="table-of-contents__link toc-highlight">Rules for which there is no priority weight</a></li><li><a href="#příklady-1" class="table-of-contents__link toc-highlight">Příklady</a></li></ul></li></ul></li><li><a href="#cosmetic-rules" class="table-of-contents__link toc-highlight">Kosmetická pravidla</a><ul><li><a href="#cosmetic-elemhide-rules" class="table-of-contents__link toc-highlight">Pravidla pro skrytí prvků</a><ul><li><a href="#non-basic-rules-modifiers-syntax" class="table-of-contents__link toc-highlight">Syntaxe</a></li></ul></li><li><a href="#cosmetic-css-rules" class="table-of-contents__link toc-highlight">Pravidla CSS</a></li><li><a href="#extended-css-selectors" class="table-of-contents__link toc-highlight">Rozšířené CSS selektory</a><ul><li><a href="#extended-css-limitations" class="table-of-contents__link toc-highlight">Limitace ExtendedCss</a></li><li><a href="#extended-css-has" class="table-of-contents__link toc-highlight">Pseudo-třída <code>:has()</code></a></li><li><a href="#extended-css-contains" class="table-of-contents__link toc-highlight">Pseudo-třída <code>:contains()</code></a></li><li><a href="#extended-css-matches-css" class="table-of-contents__link toc-highlight">Pseudo-třída <code>:matches-css()</code></a></li><li><a href="#extended-css-matches-attr" class="table-of-contents__link toc-highlight">Pseudo-třída <code>:matches-attr()</code></a></li><li><a href="#extended-css-property" class="table-of-contents__link toc-highlight">Pseudo-třída <code>:matches-property()</code></a></li><li><a href="#extended-css-xpath" class="table-of-contents__link toc-highlight">Pseudo-třída <code>:xpath()</code></a></li><li><a href="#extended-css-nth-ancestor" class="table-of-contents__link toc-highlight">Pseudo-třída <code>:nth-ancestor()</code></a></li><li><a href="#extended-css-upward" class="table-of-contents__link toc-highlight">Pseudo-třída <code>:upward()</code></a></li><li><a href="#remove-pseudos" class="table-of-contents__link toc-highlight">Pseudo-třída <code>:remove()</code> a pseudo-vlastnost <code>remove</code></a></li><li><a href="#extended-css-is" class="table-of-contents__link toc-highlight">Pseudo-třída <code>:is()</code></a></li><li><a href="#extended-css-not" class="table-of-contents__link toc-highlight">Pseudo-třída <code>:not()</code></a></li><li><a href="#extended-css-if-not" class="table-of-contents__link toc-highlight">Pseudo-třída <code>:if-not()</code> (odstraněno)</a></li></ul></li><li><a href="#cosmetic-rules-priority" class="table-of-contents__link toc-highlight">Přednost kosmetických pravidel</a></li></ul></li><li><a href="#html-filtering-rules" class="table-of-contents__link toc-highlight">HTML pravidla filtrování</a></li><li><a href="#javascript-rules" class="table-of-contents__link toc-highlight">Pravidla JavaScript</a></li><li><a href="#scriptlets" class="table-of-contents__link toc-highlight">Pravidla skriptlet</a><ul><li><a href="#trusted-scriptlets" class="table-of-contents__link toc-highlight">Důvěryhodné skriptlety</a></li></ul></li><li><a href="#modifikátory-pro-ostatní-typ-pravidel" class="table-of-contents__link toc-highlight">Modifikátory pro ostatní typ pravidel</a><ul><li><a href="#non-basic-app-modifier" class="table-of-contents__link toc-highlight"><strong><code>$app</code></strong></a></li><li><a href="#non-basic-domain-modifier" class="table-of-contents__link toc-highlight"><strong><code>$domain</code></strong></a></li><li><a href="#non-basic-path-modifier" class="table-of-contents__link toc-highlight"><strong><code>$path</code></strong></a></li><li><a href="#non-basic-url-modifier" class="table-of-contents__link toc-highlight"><strong><code>url</code></strong></a></li></ul></li><li><a href="#informace-pro-správce-filtrů" class="table-of-contents__link toc-highlight">Informace pro správce filtrů</a><ul><li><a href="#direktivy-preprocesoru" class="table-of-contents__link toc-highlight">Direktivy preprocesoru</a><ul><li><a href="#include-directive" class="table-of-contents__link toc-highlight">Zahrnutý soubor</a></li><li><a href="#conditions-directive" class="table-of-contents__link toc-highlight">Podmínky</a></li><li><a href="#safari-affinity-directive" class="table-of-contents__link toc-highlight">Afinita Safari</a></li></ul></li><li><a href="#nápovědy" class="table-of-contents__link toc-highlight">Nápovědy</a><ul><li><a href="#nápověda-not_optimized" class="table-of-contents__link toc-highlight">Nápověda <code>NOT_OPTIMIZED</code></a></li><li><a href="#nápověda-platform-a-not_platform" class="table-of-contents__link toc-highlight">Nápověda <code>PLATFORM</code> a <code>NOT_PLATFORM</code></a></li></ul></li></ul></li><li><a href="#jak-ladit-pravidla-filtrování" class="table-of-contents__link toc-highlight">Jak ladit pravidla filtrování</a><ul><li><a href="#záznam-filtrování" class="table-of-contents__link toc-highlight">Záznam filtrování</a></li><li><a href="#selectors-debug-mode" class="table-of-contents__link toc-highlight">Režim ladění selektorů</a></li><li><a href="#debug-scriptlets" class="table-of-contents__link toc-highlight">Ladění skriptletů</a></li></ul></li><li><a href="#hodně-štěstí-při-vytváření-filtrů" class="table-of-contents__link toc-highlight">Hodně štěstí při vytváření filtrů!</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">AdGuard</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://adguard.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Oficiální stránka<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://adguard.com/contacts.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Informace<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://adguard.com/press-releases.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">V médiích<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://adguard.com/media-materials.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sady médií<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://adguard.com/awards.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ocenění<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Produkty</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://adguard.com/adguard-windows/overview.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">AdGuard pro Windows<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://adguard.com/adguard-android/overview.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">AdGuard pro Android<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://adguard.com/adguard-mac/overview.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">AdGuard pro macOS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://adguard.com/adguard-ios/overview.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">AdGuard pro iOS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://adguard.com/adguard-ios-pro/overview.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">AdGuard pro iOS Pro<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Podpora</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://adguard.com/support.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Centrum podpory<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/KnowledgeBase/cs/general/ad-filtering/create-own-filters/">Jak vytvořit váš vlastní filtr reklam</a></li><li class="footer__item"><a class="footer__link-item" href="/KnowledgeBase/cs/general/ad-filtering/adguard-filters/">Filtry reklam AdGuard</a></li><li class="footer__item"><a href="https://adguard.com/removal.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Pokyny pro odstranění<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/KnowledgeBase/cs/general/userscripts/">Uživatelské skripty</a></li></ul></div><div class="col footer__col"><div class="footer__title">Licence</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://adguard.com/license.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Zakoupit licenci<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/KnowledgeBase/cs/general/license/what-is/">Obnovit licenci</a></li><li class="footer__item"><a href="https://adguard.com/terms-of-sale.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Podmínky prodeje<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://adguard.com/get-adguard-for-free.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Získejte licenci zdarma<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://adguard.com/contribute.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Přispět na AdGuard<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/KnowledgeBase/cs/img/logo_dark.svg" alt="AdGuard" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/KnowledgeBase/cs/img/logo_dark.svg" alt="AdGuard" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">© AdGuard, 2009–2023</div></div></div></footer></div>
<script src="/KnowledgeBase/cs/assets/js/runtime~main.b17ee6a4.js"></script>
<script src="/KnowledgeBase/cs/assets/js/main.2ea90d05.js"></script>
</body>
</html>